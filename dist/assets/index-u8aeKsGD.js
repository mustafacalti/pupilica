(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function vx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function FT(){if(Ev)return Bl;Ev=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:c}}return Bl.Fragment=e,Bl.jsx=n,Bl.jsxs=n,Bl}var Tv;function $T(){return Tv||(Tv=1,cm.exports=FT()),cm.exports}var f=$T(),um={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function KT(){if(wv)return Ve;wv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,z={};function L(A,Z,ee){this.props=A,this.context=Z,this.refs=z,this.updater=ee||M}L.prototype.isReactComponent={},L.prototype.setState=function(A,Z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,Z,"setState")},L.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function F(){}F.prototype=L.prototype;function $(A,Z,ee){this.props=A,this.context=Z,this.refs=z,this.updater=ee||M}var ae=$.prototype=new F;ae.constructor=$,q(ae,L.prototype),ae.isPureReactComponent=!0;var ve=Array.isArray,me={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function j(A,Z,ee,X,oe,ge){return ee=ge.ref,{$$typeof:i,type:A,key:Z,ref:ee!==void 0?ee:null,props:ge}}function k(A,Z){return j(A.type,Z,void 0,void 0,void 0,A.props)}function N(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function D(A){var Z={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ee){return Z[ee]})}var O=/\/+/g;function P(A,Z){return typeof A=="object"&&A!==null&&A.key!=null?D(""+A.key):Z.toString(36)}function I(){}function $e(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(I,I):(A.status="pending",A.then(function(Z){A.status==="pending"&&(A.status="fulfilled",A.value=Z)},function(Z){A.status==="pending"&&(A.status="rejected",A.reason=Z)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Me(A,Z,ee,X,oe){var ge=typeof A;(ge==="undefined"||ge==="boolean")&&(A=null);var xe=!1;if(A===null)xe=!0;else switch(ge){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(A.$$typeof){case i:case e:xe=!0;break;case x:return xe=A._init,Me(xe(A._payload),Z,ee,X,oe)}}if(xe)return oe=oe(A),xe=X===""?"."+P(A,0):X,ve(oe)?(ee="",xe!=null&&(ee=xe.replace(O,"$&/")+"/"),Me(oe,Z,ee,"",function(ln){return ln})):oe!=null&&(N(oe)&&(oe=k(oe,ee+(oe.key==null||A&&A.key===oe.key?"":(""+oe.key).replace(O,"$&/")+"/")+xe)),Z.push(oe)),1;xe=0;var rt=X===""?".":X+":";if(ve(A))for(var Je=0;Je<A.length;Je++)X=A[Je],ge=rt+P(X,Je),xe+=Me(X,Z,ee,ge,oe);else if(Je=S(A),typeof Je=="function")for(A=Je.call(A),Je=0;!(X=A.next()).done;)X=X.value,ge=rt+P(X,Je++),xe+=Me(X,Z,ee,ge,oe);else if(ge==="object"){if(typeof A.then=="function")return Me($e(A),Z,ee,X,oe);throw Z=String(A),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Y(A,Z,ee){if(A==null)return A;var X=[],oe=0;return Me(A,X,"","",function(ge){return Z.call(ee,ge,oe++)}),X}function ce(A){if(A._status===-1){var Z=A._result;Z=Z(),Z.then(function(ee){(A._status===0||A._status===-1)&&(A._status=1,A._result=ee)},function(ee){(A._status===0||A._status===-1)&&(A._status=2,A._result=ee)}),A._status===-1&&(A._status=0,A._result=Z)}if(A._status===1)return A._result.default;throw A._result}var le=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function ye(){}return Ve.Children={map:Y,forEach:function(A,Z,ee){Y(A,function(){Z.apply(this,arguments)},ee)},count:function(A){var Z=0;return Y(A,function(){Z++}),Z},toArray:function(A){return Y(A,function(Z){return Z})||[]},only:function(A){if(!N(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ve.Component=L,Ve.Fragment=n,Ve.Profiler=o,Ve.PureComponent=$,Ve.StrictMode=s,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(A){return me.H.useMemoCache(A)}},Ve.cache=function(A){return function(){return A.apply(null,arguments)}},Ve.cloneElement=function(A,Z,ee){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=q({},A.props),oe=A.key,ge=void 0;if(Z!=null)for(xe in Z.ref!==void 0&&(ge=void 0),Z.key!==void 0&&(oe=""+Z.key),Z)!de.call(Z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Z.ref===void 0||(X[xe]=Z[xe]);var xe=arguments.length-2;if(xe===1)X.children=ee;else if(1<xe){for(var rt=Array(xe),Je=0;Je<xe;Je++)rt[Je]=arguments[Je+2];X.children=rt}return j(A.type,oe,void 0,void 0,ge,X)},Ve.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},Ve.createElement=function(A,Z,ee){var X,oe={},ge=null;if(Z!=null)for(X in Z.key!==void 0&&(ge=""+Z.key),Z)de.call(Z,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(oe[X]=Z[X]);var xe=arguments.length-2;if(xe===1)oe.children=ee;else if(1<xe){for(var rt=Array(xe),Je=0;Je<xe;Je++)rt[Je]=arguments[Je+2];oe.children=rt}if(A&&A.defaultProps)for(X in xe=A.defaultProps,xe)oe[X]===void 0&&(oe[X]=xe[X]);return j(A,ge,void 0,void 0,null,oe)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(A){return{$$typeof:g,render:A}},Ve.isValidElement=N,Ve.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:ce}},Ve.memo=function(A,Z){return{$$typeof:y,type:A,compare:Z===void 0?null:Z}},Ve.startTransition=function(A){var Z=me.T,ee={};me.T=ee;try{var X=A(),oe=me.S;oe!==null&&oe(ee,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ye,le)}catch(ge){le(ge)}finally{me.T=Z}},Ve.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()},Ve.use=function(A){return me.H.use(A)},Ve.useActionState=function(A,Z,ee){return me.H.useActionState(A,Z,ee)},Ve.useCallback=function(A,Z){return me.H.useCallback(A,Z)},Ve.useContext=function(A){return me.H.useContext(A)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(A,Z){return me.H.useDeferredValue(A,Z)},Ve.useEffect=function(A,Z,ee){var X=me.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(A,Z)},Ve.useId=function(){return me.H.useId()},Ve.useImperativeHandle=function(A,Z,ee){return me.H.useImperativeHandle(A,Z,ee)},Ve.useInsertionEffect=function(A,Z){return me.H.useInsertionEffect(A,Z)},Ve.useLayoutEffect=function(A,Z){return me.H.useLayoutEffect(A,Z)},Ve.useMemo=function(A,Z){return me.H.useMemo(A,Z)},Ve.useOptimistic=function(A,Z){return me.H.useOptimistic(A,Z)},Ve.useReducer=function(A,Z,ee){return me.H.useReducer(A,Z,ee)},Ve.useRef=function(A){return me.H.useRef(A)},Ve.useState=function(A){return me.H.useState(A)},Ve.useSyncExternalStore=function(A,Z,ee){return me.H.useSyncExternalStore(A,Z,ee)},Ve.useTransition=function(){return me.H.useTransition()},Ve.version="19.1.1",Ve}var Sv;function sg(){return Sv||(Sv=1,um.exports=KT()),um.exports}var R=sg();const QT=vx(R);var hm={exports:{}},ql={},dm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function YT(){return Av||(Av=1,(function(i){function e(Y,ce){var le=Y.length;Y.push(ce);e:for(;0<le;){var ye=le-1>>>1,A=Y[ye];if(0<o(A,ce))Y[ye]=ce,Y[le]=A,le=ye;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ce=Y[0],le=Y.pop();if(le!==ce){Y[0]=le;e:for(var ye=0,A=Y.length,Z=A>>>1;ye<Z;){var ee=2*(ye+1)-1,X=Y[ee],oe=ee+1,ge=Y[oe];if(0>o(X,le))oe<A&&0>o(ge,X)?(Y[ye]=ge,Y[oe]=le,ye=oe):(Y[ye]=X,Y[ee]=le,ye=ee);else if(oe<A&&0>o(ge,le))Y[ye]=ge,Y[oe]=le,ye=oe;else break e}}return ce}function o(Y,ce){var le=Y.sortIndex-ce.sortIndex;return le!==0?le:Y.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();i.unstable_now=function(){return h.now()-g}}var p=[],y=[],x=1,E=null,S=3,M=!1,q=!1,z=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ve(Y){for(var ce=n(y);ce!==null;){if(ce.callback===null)s(y);else if(ce.startTime<=Y)s(y),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(y)}}function me(Y){if(z=!1,ve(Y),!q)if(n(p)!==null)q=!0,de||(de=!0,P());else{var ce=n(y);ce!==null&&Me(me,ce.startTime-Y)}}var de=!1,j=-1,k=5,N=-1;function D(){return L?!0:!(i.unstable_now()-N<k)}function O(){if(L=!1,de){var Y=i.unstable_now();N=Y;var ce=!0;try{e:{q=!1,z&&(z=!1,$(j),j=-1),M=!0;var le=S;try{t:{for(ve(Y),E=n(p);E!==null&&!(E.expirationTime>Y&&D());){var ye=E.callback;if(typeof ye=="function"){E.callback=null,S=E.priorityLevel;var A=ye(E.expirationTime<=Y);if(Y=i.unstable_now(),typeof A=="function"){E.callback=A,ve(Y),ce=!0;break t}E===n(p)&&s(p),ve(Y)}else s(p);E=n(p)}if(E!==null)ce=!0;else{var Z=n(y);Z!==null&&Me(me,Z.startTime-Y),ce=!1}}break e}finally{E=null,S=le,M=!1}ce=void 0}}finally{ce?P():de=!1}}}var P;if(typeof ae=="function")P=function(){ae(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$e=I.port2;I.port1.onmessage=O,P=function(){$e.postMessage(null)}}else P=function(){F(O,0)};function Me(Y,ce){j=F(function(){Y(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var le=S;S=ce;try{return Y()}finally{S=le}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(Y,ce){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var le=S;S=Y;try{return ce()}finally{S=le}},i.unstable_scheduleCallback=function(Y,ce,le){var ye=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,Y){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=le+A,Y={id:x++,callback:ce,priorityLevel:Y,startTime:le,expirationTime:A,sortIndex:-1},le>ye?(Y.sortIndex=le,e(y,Y),n(p)===null&&Y===n(y)&&(z?($(j),j=-1):z=!0,Me(me,le-ye))):(Y.sortIndex=A,e(p,Y),q||M||(q=!0,de||(de=!0,P()))),Y},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(Y){var ce=S;return function(){var le=S;S=ce;try{return Y.apply(this,arguments)}finally{S=le}}}})(fm)),fm}var kv;function XT(){return kv||(kv=1,dm.exports=YT()),dm.exports}var mm={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function WT(){if(Rv)return hn;Rv=1;var i=sg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:y,implementation:x}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(p,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,x)},hn.flushSync=function(p){var y=h.T,x=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=y,s.p=x,s.d.f()}},hn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},hn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},hn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var x=y.as,E=g(x,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:M}):x==="script"&&s.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},hn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},hn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=g(x,y.crossOrigin);s.d.L(p,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},hn.preloadModule=function(p,y){if(typeof p=="string")if(y){var x=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},hn.requestFormReset=function(p){s.d.r(p)},hn.unstable_batchedUpdates=function(p,y){return p(y)},hn.useFormState=function(p,y,x){return h.H.useFormState(p,y,x)},hn.useFormStatus=function(){return h.H.useHostTransitionStatus()},hn.version="19.1.1",hn}var Nv;function ZT(){if(Nv)return mm.exports;Nv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mm.exports=WT(),mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function JT(){if(Iv)return ql;Iv=1;var i=XT(),e=sg(),n=ZT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return g(d),t;if(m===l)return g(d),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=m;else{for(var b=!1,T=d.child;T;){if(T===a){b=!0,a=d,l=m;break}if(T===l){b=!0,l=d,a=m;break}T=T.sibling}if(!b){for(T=m.child;T;){if(T===a){b=!0,a=m,l=d;break}if(T===l){b=!0,l=m,a=d;break}T=T.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function $e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case L:return"Profiler";case z:return"StrictMode";case me:return"Suspense";case de:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case $:return(t._context.displayName||"Context")+".Consumer";case ve:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return r=t.displayName||null,r!==null?r:$e(t.type)||"Memo";case k:r=t._payload,t=t._init;try{return $e(t(r))}catch{}}return null}var Me=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ye=[],A=-1;function Z(t){return{current:t}}function ee(t){0>A||(t.current=ye[A],ye[A]=null,A--)}function X(t,r){A++,ye[A]=t.current,t.current=r}var oe=Z(null),ge=Z(null),xe=Z(null),rt=Z(null);function Je(t,r){switch(X(xe,r),X(ge,t),X(oe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?X0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=X0(r),t=W0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(oe),X(oe,t)}function ln(){ee(oe),ee(ge),ee(xe)}function bn(t){t.memoizedState!==null&&X(rt,t);var r=oe.current,a=W0(r,t.type);r!==a&&(X(ge,t),X(oe,a))}function gn(t){ge.current===t&&(ee(oe),ee(ge)),rt.current===t&&(ee(rt),Vl._currentValue=le)}var kn=Object.prototype.hasOwnProperty,Zt=i.unstable_scheduleCallback,Rn=i.unstable_cancelCallback,je=i.unstable_shouldYield,se=i.unstable_requestPaint,ue=i.unstable_now,Re=i.unstable_getCurrentPriorityLevel,it=i.unstable_ImmediatePriority,we=i.unstable_UserBlockingPriority,Ke=i.unstable_NormalPriority,Ne=i.unstable_LowPriority,Ce=i.unstable_IdlePriority,Ln=i.log,bt=i.unstable_setDisableYieldValue,ze=null,Ze=null;function Nn(t){if(typeof Ln=="function"&&bt(t),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(ze,t)}catch{}}var cn=Math.clz32?Math.clz32:xs,Dc=Math.log,ud=Math.LN2;function xs(t){return t>>>=0,t===0?32:31-(Dc(t)/ud|0)|0}var bs=256,Es=4194304;function er(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ma(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~m,l!==0?d=er(l):(b&=T,b!==0?d=er(b):a||(a=T&~t,a!==0&&(d=er(a))))):(T=l&~m,T!==0?d=er(T):b!==0?d=er(b):a||(a=l&~t,a!==0&&(d=er(a)))),d===0?0:r!==0&&r!==d&&(r&m)===0&&(m=d&-d,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:d}function Ts(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Vo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var t=bs;return bs<<=1,(bs&4194048)===0&&(bs=256),t}function Lo(){var t=Es;return Es<<=1,(Es&62914560)===0&&(Es=4194304),t}function Ur(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Br(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zo(t,r,a,l,d,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,G=t.hiddenUpdates;for(a=b&~a;0<a;){var J=31-cn(a),re=1<<J;T[J]=0,C[J]=-1;var K=G[J];if(K!==null)for(G[J]=null,J=0;J<K.length;J++){var Q=K[J];Q!==null&&(Q.lane&=-536870913)}a&=~re}l!==0&&fr(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~r))}function fr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-cn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Uo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-cn(a),d=1<<l;d&r|t[l]&r&&(t[l]|=r),a&=~d}}function Si(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ga(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ai(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:pv(t.type))}function jc(t,r){var a=ce.p;try{return ce.p=t,r()}finally{ce.p=a}}var vt=Math.random().toString(36).slice(2),zt="__reactFiber$"+vt,It="__reactProps$"+vt,zn="__reactContainer$"+vt,Bo="__reactEvents$"+vt,hd="__reactListeners$"+vt,ki="__reactHandles$"+vt,Oc="__reactResources$"+vt,ws="__reactMarker$"+vt;function Ri(t){delete t[zt],delete t[It],delete t[Bo],delete t[hd],delete t[ki]}function qr(t){var r=t[zt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[zn]||a[zt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=tv(t);t!==null;){if(a=t[zt])return a;t=tv(t)}return r}t=a,a=t.parentNode}return null}function mr(t){if(t=t[zt]||t[zn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function gr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function pn(t){var r=t[Oc];return r||(r=t[Oc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(t){t[ws]=!0}var qo=new Set,pa={};function tr(t,r){Hr(t,r),Hr(t+"Capture",r)}function Hr(t,r){for(pa[t]=r,t=0;t<r.length;t++)qo.add(r[t])}var Mc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vc={},Ss={};function Pc(t){return kn.call(Ss,t)?!0:kn.call(Vc,t)?!1:Mc.test(t)?Ss[t]=!0:(Vc[t]=!0,!1)}function Ni(t,r,a){if(Pc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function pr(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Jt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var As,Lc;function Gr(t){if(As===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);As=r&&r[1]||"",Lc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+t+Lc}var ya=!1;function va(t,r){if(!t||ya)return"";ya=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Q){var K=Q}Reflect.construct(t,[],re)}else{try{re.call()}catch(Q){K=Q}t.call(re.prototype)}}else{try{throw Error()}catch(Q){K=Q}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],T=m[1];if(b&&T){var C=b.split(`
`),G=T.split(`
`);for(d=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(l===C.length||d===G.length)for(l=C.length-1,d=G.length-1;1<=l&&0<=d&&C[l]!==G[d];)d--;for(;1<=l&&0<=d;l--,d--)if(C[l]!==G[d]){if(l!==1||d!==1)do if(l--,d--,0>d||C[l]!==G[d]){var J=`
`+C[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=d);break}}}finally{ya=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Gr(a):""}function Ho(t){switch(t.tag){case 26:case 27:case 5:return Gr(t.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 15:return va(t.type,!1);case 11:return va(t.type.render,!1);case 1:return va(t.type,!0);case 31:return Gr("Activity");default:return""}}function _a(t){try{var r="";do r+=Ho(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function yn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Go(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dd(t){var r=Go(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function xa(t){t._valueTracker||(t._valueTracker=dd(t))}function Fo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Go(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ks(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fd=/[\n"\\]/g;function Ct(t){return t.replace(fd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function In(t,r,a,l,d,m,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+yn(r)):t.value!==""+yn(r)&&(t.value=""+yn(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?Ii(t,b,yn(r)):a!=null?Ii(t,b,yn(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+yn(T):t.removeAttribute("name")}function Rs(t,r,a,l,d,m,b,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+yn(a):"",r=r!=null?""+yn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Ii(t,r,a){r==="number"&&ks(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fr(t,r,a,l){if(t=t.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=r.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+yn(a),r=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function ut(t,r,a){if(r!=null&&(r=""+yn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+yn(a):""}function Ns(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=yn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Un(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zc(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Is.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function $o(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&zc(t,d,l)}else for(var m in r)r.hasOwnProperty(m)&&zc(t,m,r[m])}function Ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var md=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return gd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var $r=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kr=null,Qr=null;function Qo(t){var r=mr(t);if(r&&(t=r.stateNode)){var a=t[It]||null;e:switch(t=r.stateNode,r.type){case"input":if(In(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ct(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var d=l[It]||null;if(!d)throw Error(s(90));In(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Fo(l)}break e;case"textarea":ut(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Fr(t,!!a.multiple,r,!1)}}}var yr=!1;function Uc(t,r,a){if(yr)return t(r,a);yr=!0;try{var l=t(r);return l}finally{if(yr=!1,(Kr!==null||Qr!==null)&&(ju(),Kr&&(r=Kr,t=Qr,Qr=Kr=null,Qo(r),t)))for(r=0;r<t.length;r++)Qo(t[r])}}function Cs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[It]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(nr)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{qn=!1}var vr=null,Ci=null,Yr=null;function Yo(){if(Yr)return Yr;var t,r=Ci,a=r.length,l,d="value"in vr?vr.value:vr.textContent,m=d.length;for(t=0;t<a&&r[t]===d[t];t++);var b=a-t;for(l=1;l<=b&&r[a-l]===d[m-l];l++);return Yr=d.slice(t,1<l?1-l:void 0)}function _r(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function xr(){return!0}function Xo(){return!1}function Ft(t){function r(a,l,d,m,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xr:Xo,this.isPropagationStopped=Xo,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),r}var at={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Ft(at),js=x({},at,{view:0,detail:0}),Bc=Ft(js),Ta,wa,br,Os=x({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==br&&(br&&t.type==="mousemove"?(Ta=t.screenX-br.screenX,wa=t.screenY-br.screenY):wa=Ta=0,br=t),Ta)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Hn=Ft(Os),qc=x({},Os,{dataTransfer:0}),pd=Ft(qc),Ms=x({},js,{relatedTarget:0}),Sa=Ft(Ms),Wo=x({},at,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=Ft(Wo),Hc=x({},at,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ka=Ft(Hc),yd=x({},at,{data:0}),Zo=Ft(yd),Vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Fc[t])?!!r[t]:!1}function Ps(){return Jo}var $c=x({},js,{key:function(t){if(t.key){var r=Vs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=_r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?_r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ra=Ft($c),Kc=x({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ft(Kc),Xr=x({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),Qc=Ft(Xr),Yc=x({},at,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xc=Ft(Yc),Wc=x({},Os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=Ft(Wc),vn=x({},at,{newState:0,oldState:0}),Zc=Ft(vn),Jc=[9,13,27,32],Er=nr&&"CompositionEvent"in window,u=null;nr&&"documentMode"in document&&(u=document.documentMode);var v=nr&&"TextEvent"in window&&!u,_=nr&&(!Er||u&&8<u&&11>=u),w=" ",B=!1;function W(t,r){switch(t){case"keyup":return Jc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qe=!1;function Ut(t,r){switch(t){case"compositionend":return he(r);case"keypress":return r.which!==32?null:(B=!0,w);case"textInput":return t=r.data,t===w&&B?null:t;default:return null}}function Ye(t,r){if(Qe)return t==="compositionend"||!Er&&W(t,r)?(t=Yo(),Yr=Ci=vr=null,Qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!$t[t.type]:r==="textarea"}function Wr(t,r,a,l){Kr?Qr?Qr.push(l):Qr=[l]:Kr=l,r=zu(r,"onChange"),0<r.length&&(a=new Ea("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var en=null,Tr=null;function tl(t){F0(t,0)}function eu(t){var r=gr(t);if(Fo(r))return t}function dp(t,r){if(t==="change")return r}var fp=!1;if(nr){var vd;if(nr){var _d="oninput"in document;if(!_d){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),_d=typeof mp.oninput=="function"}vd=_d}else vd=!1;fp=vd&&(!document.documentMode||9<document.documentMode)}function gp(){en&&(en.detachEvent("onpropertychange",pp),Tr=en=null)}function pp(t){if(t.propertyName==="value"&&eu(Tr)){var r=[];Wr(r,Tr,t,Bn(t)),Uc(tl,r)}}function bE(t,r,a){t==="focusin"?(gp(),en=r,Tr=a,en.attachEvent("onpropertychange",pp)):t==="focusout"&&gp()}function EE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(Tr)}function TE(t,r){if(t==="click")return eu(r)}function wE(t,r){if(t==="input"||t==="change")return eu(r)}function SE(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Cn=typeof Object.is=="function"?Object.is:SE;function nl(t,r){if(Cn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!kn.call(r,d)||!Cn(t[d],r[d]))return!1}return!0}function yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vp(t,r){var a=yp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yp(a)}}function _p(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?_p(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ks(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ks(t.document)}return r}function xd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var AE=nr&&"documentMode"in document&&11>=document.documentMode,Ia=null,bd=null,rl=null,Ed=!1;function bp(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ed||Ia==null||Ia!==ks(l)||(l=Ia,"selectionStart"in l&&xd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&nl(rl,l)||(rl=l,l=zu(bd,"onSelect"),0<l.length&&(r=new Ea("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ia)))}function Ls(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ca={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Td={},Ep={};nr&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function zs(t){if(Td[t])return Td[t];if(!Ca[t])return t;var r=Ca[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ep)return Td[t]=r[a];return t}var Tp=zs("animationend"),wp=zs("animationiteration"),Sp=zs("animationstart"),kE=zs("transitionrun"),RE=zs("transitionstart"),NE=zs("transitioncancel"),Ap=zs("transitionend"),kp=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function rr(t,r){kp.set(t,r),tr(r,[t])}var Rp=new WeakMap;function Gn(t,r){if(typeof t=="object"&&t!==null){var a=Rp.get(t);return a!==void 0?a:(r={value:t,source:r,stack:_a(r)},Rp.set(t,r),r)}return{value:t,source:r,stack:_a(r)}}var Fn=[],Da=0,Sd=0;function tu(){for(var t=Da,r=Sd=Da=0;r<t;){var a=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var d=Fn[r];Fn[r++]=null;var m=Fn[r];if(Fn[r++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&Np(a,d,m)}}function nu(t,r,a,l){Fn[Da++]=t,Fn[Da++]=r,Fn[Da++]=a,Fn[Da++]=l,Sd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ad(t,r,a,l){return nu(t,r,a,l),ru(t)}function ja(t,r){return nu(t,null,null,r),ru(t)}function Np(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&r!==null&&(d=31-cn(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[r]:l.push(r),r.lane=a|536870912),m):null}function ru(t){if(50<Rl)throw Rl=0,jf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Oa={};function IE(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,r,a,l){return new IE(t,r,a,l)}function kd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zr(t,r){var a=t.alternate;return a===null?(a=Dn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ip(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function iu(t,r,a,l,d,m){var b=0;if(l=t,typeof t=="function")kd(t)&&(b=1);else if(typeof t=="string")b=DT(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Dn(31,a,r,d),t.elementType=N,t.lanes=m,t;case q:return Us(a.children,d,m,r);case z:b=8,d|=24;break;case L:return t=Dn(12,a,r,d|2),t.elementType=L,t.lanes=m,t;case me:return t=Dn(13,a,r,d),t.elementType=me,t.lanes=m,t;case de:return t=Dn(19,a,r,d),t.elementType=de,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:case ae:b=10;break e;case $:b=9;break e;case ve:b=11;break e;case j:b=14;break e;case k:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Dn(b,a,r,d),r.elementType=t,r.type=l,r.lanes=m,r}function Us(t,r,a,l){return t=Dn(7,t,l,r),t.lanes=a,t}function Rd(t,r,a){return t=Dn(6,t,null,r),t.lanes=a,t}function Nd(t,r,a){return r=Dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ma=[],Va=0,su=null,au=0,$n=[],Kn=0,Bs=null,Jr=1,ei="";function qs(t,r){Ma[Va++]=au,Ma[Va++]=su,su=t,au=r}function Cp(t,r,a){$n[Kn++]=Jr,$n[Kn++]=ei,$n[Kn++]=Bs,Bs=t;var l=Jr;t=ei;var d=32-cn(l)-1;l&=~(1<<d),a+=1;var m=32-cn(r)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Jr=1<<32-cn(r)+d|a<<d|l,ei=m+t}else Jr=1<<m|a<<d|l,ei=t}function Id(t){t.return!==null&&(qs(t,1),Cp(t,1,0))}function Cd(t){for(;t===su;)su=Ma[--Va],Ma[Va]=null,au=Ma[--Va],Ma[Va]=null;for(;t===Bs;)Bs=$n[--Kn],$n[Kn]=null,ei=$n[--Kn],$n[Kn]=null,Jr=$n[--Kn],$n[Kn]=null}var _n=null,wt=null,st=!1,Hs=null,wr=!1,Dd=Error(s(519));function Gs(t){var r=Error(s(418,""));throw al(Gn(r,t)),Dd}function Dp(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[zt]=t,r[It]=l,a){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(a=0;a<Il.length;a++)qe(Il[a],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":qe("invalid",r),Rs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xa(r);break;case"select":qe("invalid",r);break;case"textarea":qe("invalid",r),Ns(r,l.value,l.defaultValue,l.children),xa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Y0(r.textContent,a)?(l.popover!=null&&(qe("beforetoggle",r),qe("toggle",r)),l.onScroll!=null&&qe("scroll",r),l.onScrollEnd!=null&&qe("scrollend",r),l.onClick!=null&&(r.onclick=Uu),r=!0):r=!1,r||Gs(t)}function jp(t){for(_n=t.return;_n;)switch(_n.tag){case 5:case 13:wr=!1;return;case 27:case 3:wr=!0;return;default:_n=_n.return}}function il(t){if(t!==_n)return!1;if(!st)return jp(t),st=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Yf(t.type,t.memoizedProps)),a=!a),a&&wt&&Gs(t),jp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){wt=sr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}wt=null}}else r===27?(r=wt,Ki(t.type)?(t=Jf,Jf=null,wt=t):wt=r):wt=_n?sr(t.stateNode.nextSibling):null;return!0}function sl(){wt=_n=null,st=!1}function Op(){var t=Hs;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),Hs=null),t}function al(t){Hs===null?Hs=[t]:Hs.push(t)}var jd=Z(null),Fs=null,ti=null;function Di(t,r,a){X(jd,r._currentValue),r._currentValue=a}function ni(t){t._currentValue=jd.current,ee(jd)}function Od(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Md(t,r,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=d;for(var C=0;C<r.length;C++)if(T.context===r[C]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Od(m.return,a,t),l||(b=null);break e}m=T.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Od(b,a,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function ol(t,r,a,l){t=null;for(var d=r,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=d.type;Cn(d.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(d===rt.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}d=d.return}t!==null&&Md(r,t,a,l),r.flags|=262144}function ou(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $s(t){Fs=t,ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function un(t){return Mp(Fs,t)}function lu(t,r){return Fs===null&&$s(t),Mp(t,r)}function Mp(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ti===null){if(t===null)throw Error(s(308));ti=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ti=ti.next=r;return a}var CE=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},DE=i.unstable_scheduleCallback,jE=i.unstable_NormalPriority,qt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new CE,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&DE(jE,function(){t.controller.abort()})}var cl=null,Pd=0,Pa=0,La=null;function OE(t,r){if(cl===null){var a=cl=[];Pd=0,Pa=Uf(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pd++,r.then(Vp,Vp),r}function Vp(){if(--Pd===0&&cl!==null){La!==null&&(La.status="fulfilled");var t=cl;cl=null,Pa=0,La=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function ME(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Pp=Y.S;Y.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&OE(t,r),Pp!==null&&Pp(t,r)};var Ks=Z(null);function Ld(){var t=Ks.current;return t!==null?t:gt.pooledCache}function cu(t,r){r===null?X(Ks,Ks.current):X(Ks,r.pool)}function Lp(){var t=Ld();return t===null?null:{parent:qt._currentValue,pool:t}}var ul=Error(s(460)),zp=Error(s(474)),uu=Error(s(542)),zd={then:function(){}};function Up(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hu(){}function Bp(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(hu,hu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Hp(t),t;default:if(typeof r.status=="string")r.then(hu,hu);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Hp(t),t}throw hl=r,ul}}var hl=null;function qp(){if(hl===null)throw Error(s(459));var t=hl;return hl=null,t}function Hp(t){if(t===ul||t===uu)throw Error(s(483))}var ji=!1;function Ud(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Oi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(lt&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=ru(t),Np(t,null,a),r}return nu(t,l,r,a),ru(t)}function dl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Uo(t,a)}}function qd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?d=m=r:m=m.next=r}else d=m=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Hd=!1;function fl(){if(Hd){var t=La;if(t!==null)throw t}}function ml(t,r,a,l){Hd=!1;var d=t.updateQueue;ji=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var C=T,G=C.next;C.next=null,b===null?m=G:b.next=G,b=C;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==b&&(T===null?J.firstBaseUpdate=G:T.next=G,J.lastBaseUpdate=C))}if(m!==null){var re=d.baseState;b=0,J=G=C=null,T=m;do{var K=T.lane&-536870913,Q=K!==T.lane;if(Q?(Xe&K)===K:(l&K)===K){K!==0&&K===Pa&&(Hd=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ie=t,Te=T;K=r;var ft=a;switch(Te.tag){case 1:if(Ie=Te.payload,typeof Ie=="function"){re=Ie.call(ft,re,K);break e}re=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Te.payload,K=typeof Ie=="function"?Ie.call(ft,re,K):Ie,K==null)break e;re=x({},re,K);break e;case 2:ji=!0}}K=T.callback,K!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(G=J=Q,C=re):J=J.next=Q,b|=K;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);J===null&&(C=re),d.baseState=C,d.firstBaseUpdate=G,d.lastBaseUpdate=J,m===null&&(d.shared.lanes=0),Hi|=b,t.lanes=b,t.memoizedState=re}}function Gp(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Fp(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Gp(a[t],r)}var za=Z(null),du=Z(0);function $p(t,r){t=ci,X(du,t),X(za,r),ci=t|r.baseLanes}function Gd(){X(du,ci),X(za,za.current)}function Fd(){ci=du.current,ee(za),ee(du)}var Vi=0,Pe=null,ht=null,Dt=null,fu=!1,Ua=!1,Qs=!1,mu=0,gl=0,Ba=null,VE=0;function kt(){throw Error(s(321))}function $d(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Cn(t[a],r[a]))return!1;return!0}function Kd(t,r,a,l,d,m){return Vi=m,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?Ny:Iy,Qs=!1,m=a(l,d),Qs=!1,Ua&&(m=Qp(r,a,l,d)),Kp(t),m}function Kp(t){Y.H=xu;var r=ht!==null&&ht.next!==null;if(Vi=0,Dt=ht=Pe=null,fu=!1,gl=0,Ba=null,r)throw Error(s(300));t===null||Kt||(t=t.dependencies,t!==null&&ou(t)&&(Kt=!0))}function Qp(t,r,a,l){Pe=t;var d=0;do{if(Ua&&(Ba=null),gl=0,Ua=!1,25<=d)throw Error(s(301));if(d+=1,Dt=ht=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=HE,m=r(a,l)}while(Ua);return m}function PE(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?pl(r):r,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(Pe.flags|=1024),r}function Qd(){var t=mu!==0;return mu=0,t}function Yd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Xd(t){if(fu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}fu=!1}Vi=0,Dt=ht=Pe=null,Ua=!1,gl=mu=0,Ba=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Pe.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function jt(){if(ht===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=Dt===null?Pe.memoizedState:Dt.next;if(r!==null)Dt=r,ht=t;else{if(t===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Dt===null?Pe.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Wd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var r=gl;return gl+=1,Ba===null&&(Ba=[]),t=Bp(Ba,t,r),r=Pe,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?Ny:Iy),t}function gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===ae)return un(t)}throw Error(s(438,String(t)))}function Zd(t){var r=null,a=Pe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Wd(),Pe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=D;return r.index++,a}function ri(t,r){return typeof r=="function"?r(t):r}function pu(t){var r=jt();return Jd(r,ht,t)}function Jd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}r.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{r=d.next;var T=b=null,C=null,G=r,J=!1;do{var re=G.lane&-536870913;if(re!==G.lane?(Xe&re)===re:(Vi&re)===re){var K=G.revertLane;if(K===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),re===Pa&&(J=!0);else if((Vi&K)===K){G=G.next,K===Pa&&(J=!0);continue}else re={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(T=C=re,b=m):C=C.next=re,Pe.lanes|=K,Hi|=K;re=G.action,Qs&&a(m,re),m=G.hasEagerState?G.eagerState:a(m,re)}else K={lane:re,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(T=C=K,b=m):C=C.next=K,Pe.lanes|=re,Hi|=re;G=G.next}while(G!==null&&G!==r);if(C===null?b=m:C.next=T,!Cn(m,t.memoizedState)&&(Kt=!0,J&&(a=La,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=C,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ef(t){var r=jt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=r.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do m=t(m,b.action),b=b.next;while(b!==d);Cn(m,r.memoizedState)||(Kt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function Yp(t,r,a){var l=Pe,d=jt(),m=st;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var b=!Cn((ht||d).memoizedState,a);b&&(d.memoizedState=a,Kt=!0),d=d.queue;var T=Zp.bind(null,l,d,t);if(yl(2048,8,T,[t]),d.getSnapshot!==r||b||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,qa(9,yu(),Wp.bind(null,l,d,a,r),null),gt===null)throw Error(s(349));m||(Vi&124)!==0||Xp(l,r,a)}return a}function Xp(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Pe.updateQueue,r===null?(r=Wd(),Pe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Wp(t,r,a,l){r.value=a,r.getSnapshot=l,Jp(r)&&ey(t)}function Zp(t,r,a){return a(function(){Jp(r)&&ey(t)})}function Jp(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Cn(t,a)}catch{return!0}}function ey(t){var r=ja(t,2);r!==null&&Pn(r,t,2)}function tf(t){var r=En();if(typeof t=="function"){var a=t;if(t=a(),Qs){Nn(!0);try{a()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:t},r}function ty(t,r,a,l){return t.baseState=a,Jd(t,ht,typeof l=="function"?l:ri)}function LE(t,r,a,l,d){if(_u(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Y.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,ny(r,m)):(m.next=a.next,r.pending=a.next=m)}}function ny(t,r){var a=r.action,l=r.payload,d=t.state;if(r.isTransition){var m=Y.T,b={};Y.T=b;try{var T=a(d,l),C=Y.S;C!==null&&C(b,T),ry(t,r,T)}catch(G){nf(t,r,G)}finally{Y.T=m}}else try{m=a(d,l),ry(t,r,m)}catch(G){nf(t,r,G)}}function ry(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){iy(t,r,l)},function(l){return nf(t,r,l)}):iy(t,r,a)}function iy(t,r,a){r.status="fulfilled",r.value=a,sy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,ny(t,a)))}function nf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,sy(r),r=r.next;while(r!==l)}t.action=null}function sy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function ay(t,r){return r}function oy(t,r){if(st){var a=gt.formState;if(a!==null){e:{var l=Pe;if(st){if(wt){t:{for(var d=wt,m=wr;d.nodeType!==8;){if(!m){d=null;break t}if(d=sr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){wt=sr(d.nextSibling),l=d.data==="F!";break e}}Gs(l)}l=!1}l&&(r=a[0])}}return a=En(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:r},a.queue=l,a=Ay.bind(null,Pe,l),l.dispatch=a,l=tf(!1),m=lf.bind(null,Pe,!1,l.queue),l=En(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,a=LE.bind(null,Pe,d,m,a),d.dispatch=a,l.memoizedState=t,[r,a,!1]}function ly(t){var r=jt();return cy(r,ht,t)}function cy(t,r,a){if(r=Jd(t,r,ay)[0],t=pu(ri)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(b){throw b===ul?uu:b}else l=r;r=jt();var d=r.queue,m=d.dispatch;return a!==r.memoizedState&&(Pe.flags|=2048,qa(9,yu(),zE.bind(null,d,a),null)),[l,m,t]}function zE(t,r){t.action=r}function uy(t){var r=jt(),a=ht;if(a!==null)return cy(r,a,t);jt(),r=r.memoizedState,a=jt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function qa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=Wd(),Pe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function yu(){return{destroy:void 0,resource:void 0}}function hy(){return jt().memoizedState}function vu(t,r,a,l){var d=En();l=l===void 0?null:l,Pe.flags|=t,d.memoizedState=qa(1|r,yu(),a,l)}function yl(t,r,a,l){var d=jt();l=l===void 0?null:l;var m=d.memoizedState.inst;ht!==null&&l!==null&&$d(l,ht.memoizedState.deps)?d.memoizedState=qa(r,m,a,l):(Pe.flags|=t,d.memoizedState=qa(1|r,m,a,l))}function dy(t,r){vu(8390656,8,t,r)}function fy(t,r){yl(2048,8,t,r)}function my(t,r){return yl(4,2,t,r)}function gy(t,r){return yl(4,4,t,r)}function py(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function yy(t,r,a){a=a!=null?a.concat([t]):null,yl(4,4,py.bind(null,r,t),a)}function rf(){}function vy(t,r){var a=jt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&$d(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function _y(t,r){var a=jt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&$d(r,l[1]))return l[0];if(l=t(),Qs){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,r],l}function sf(t,r,a){return a===void 0||(Vi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=E0(),Pe.lanes|=t,Hi|=t,a)}function xy(t,r,a,l){return Cn(a,r)?a:za.current!==null?(t=sf(t,a,l),Cn(t,r)||(Kt=!0),t):(Vi&42)===0?(Kt=!0,t.memoizedState=a):(t=E0(),Pe.lanes|=t,Hi|=t,r)}function by(t,r,a,l,d){var m=ce.p;ce.p=m!==0&&8>m?m:8;var b=Y.T,T={};Y.T=T,lf(t,!1,r,a);try{var C=d(),G=Y.S;if(G!==null&&G(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=ME(C,l);vl(t,r,J,Vn(t))}else vl(t,r,l,Vn(t))}catch(re){vl(t,r,{then:function(){},status:"rejected",reason:re},Vn())}finally{ce.p=m,Y.T=b}}function UE(){}function af(t,r,a,l){if(t.tag!==5)throw Error(s(476));var d=Ey(t).queue;by(t,d,r,le,a===null?UE:function(){return Ty(t),a(l)})}function Ey(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:le},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ty(t){var r=Ey(t).next.queue;vl(t,r,{},Vn())}function of(){return un(Vl)}function wy(){return jt().memoizedState}function Sy(){return jt().memoizedState}function BE(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Vn();t=Oi(a);var l=Mi(r,t,a);l!==null&&(Pn(l,r,a),dl(l,r,a)),r={cache:Vd()},t.payload=r;return}r=r.return}}function qE(t,r,a){var l=Vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_u(t)?ky(r,a):(a=Ad(t,r,a,l),a!==null&&(Pn(a,t,l),Ry(a,r,l)))}function Ay(t,r,a){var l=Vn();vl(t,r,a,l)}function vl(t,r,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_u(t))ky(r,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,T=m(b,a);if(d.hasEagerState=!0,d.eagerState=T,Cn(T,b))return nu(t,r,d,0),gt===null&&tu(),!1}catch{}finally{}if(a=Ad(t,r,d,l),a!==null)return Pn(a,t,l),Ry(a,r,l),!0}return!1}function lf(t,r,a,l){if(l={lane:2,revertLane:Uf(),action:l,hasEagerState:!1,eagerState:null,next:null},_u(t)){if(r)throw Error(s(479))}else r=Ad(t,a,l,2),r!==null&&Pn(r,t,2)}function _u(t){var r=t.alternate;return t===Pe||r!==null&&r===Pe}function ky(t,r){Ua=fu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Ry(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Uo(t,a)}}var xu={readContext:un,use:gu,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},Ny={readContext:un,use:gu,useCallback:function(t,r){return En().memoizedState=[t,r===void 0?null:r],t},useContext:un,useEffect:dy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,vu(4194308,4,py.bind(null,r,t),a)},useLayoutEffect:function(t,r){return vu(4194308,4,t,r)},useInsertionEffect:function(t,r){vu(4,2,t,r)},useMemo:function(t,r){var a=En();r=r===void 0?null:r;var l=t();if(Qs){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=En();if(a!==void 0){var d=a(r);if(Qs){Nn(!0);try{a(r)}finally{Nn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=qE.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var r=En();return t={current:t},r.memoizedState=t},useState:function(t){t=tf(t);var r=t.queue,a=Ay.bind(null,Pe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:rf,useDeferredValue:function(t,r){var a=En();return sf(a,t,r)},useTransition:function(){var t=tf(!1);return t=by.bind(null,Pe,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Pe,d=En();if(st){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),gt===null)throw Error(s(349));(Xe&124)!==0||Xp(l,r,a)}d.memoizedState=a;var m={value:a,getSnapshot:r};return d.queue=m,dy(Zp.bind(null,l,m,t),[t]),l.flags|=2048,qa(9,yu(),Wp.bind(null,l,m,a,r),null),a},useId:function(){var t=En(),r=gt.identifierPrefix;if(st){var a=ei,l=Jr;a=(l&~(1<<32-cn(l)-1)).toString(32)+a,r=""+r+"R"+a,a=mu++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=VE++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:of,useFormState:oy,useActionState:oy,useOptimistic:function(t){var r=En();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=lf.bind(null,Pe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Zd,useCacheRefresh:function(){return En().memoizedState=BE.bind(null,Pe)}},Iy={readContext:un,use:gu,useCallback:vy,useContext:un,useEffect:fy,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:_y,useReducer:pu,useRef:hy,useState:function(){return pu(ri)},useDebugValue:rf,useDeferredValue:function(t,r){var a=jt();return xy(a,ht.memoizedState,t,r)},useTransition:function(){var t=pu(ri)[0],r=jt().memoizedState;return[typeof t=="boolean"?t:pl(t),r]},useSyncExternalStore:Yp,useId:wy,useHostTransitionStatus:of,useFormState:ly,useActionState:ly,useOptimistic:function(t,r){var a=jt();return ty(a,ht,t,r)},useMemoCache:Zd,useCacheRefresh:Sy},HE={readContext:un,use:gu,useCallback:vy,useContext:un,useEffect:fy,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:_y,useReducer:ef,useRef:hy,useState:function(){return ef(ri)},useDebugValue:rf,useDeferredValue:function(t,r){var a=jt();return ht===null?sf(a,t,r):xy(a,ht.memoizedState,t,r)},useTransition:function(){var t=ef(ri)[0],r=jt().memoizedState;return[typeof t=="boolean"?t:pl(t),r]},useSyncExternalStore:Yp,useId:wy,useHostTransitionStatus:of,useFormState:uy,useActionState:uy,useOptimistic:function(t,r){var a=jt();return ht!==null?ty(a,ht,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zd,useCacheRefresh:Sy},Ha=null,_l=0;function bu(t){var r=_l;return _l+=1,Ha===null&&(Ha=[]),Bp(Ha,t,r)}function xl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Eu(t,r){throw r.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Cy(t){var r=t._init;return r(t._payload)}function Dy(t){function r(U,V){if(t){var H=U.deletions;H===null?(U.deletions=[V],U.flags|=16):H.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)r(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function d(U,V){return U=Zr(U,V),U.index=0,U.sibling=null,U}function m(U,V,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<V?(U.flags|=67108866,V):H):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function b(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,H,ne){return V===null||V.tag!==6?(V=Rd(H,U.mode,ne),V.return=U,V):(V=d(V,H),V.return=U,V)}function C(U,V,H,ne){var _e=H.type;return _e===q?J(U,V,H.props.children,ne,H.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===k&&Cy(_e)===V.type)?(V=d(V,H.props),xl(V,H),V.return=U,V):(V=iu(H.type,H.key,H.props,null,U.mode,ne),xl(V,H),V.return=U,V)}function G(U,V,H,ne){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Nd(H,U.mode,ne),V.return=U,V):(V=d(V,H.children||[]),V.return=U,V)}function J(U,V,H,ne,_e){return V===null||V.tag!==7?(V=Us(H,U.mode,ne,_e),V.return=U,V):(V=d(V,H),V.return=U,V)}function re(U,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Rd(""+V,U.mode,H),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return H=iu(V.type,V.key,V.props,null,U.mode,H),xl(H,V),H.return=U,H;case M:return V=Nd(V,U.mode,H),V.return=U,V;case k:var ne=V._init;return V=ne(V._payload),re(U,V,H)}if(Me(V)||P(V))return V=Us(V,U.mode,H,null),V.return=U,V;if(typeof V.then=="function")return re(U,bu(V),H);if(V.$$typeof===ae)return re(U,lu(U,V),H);Eu(U,V)}return null}function K(U,V,H,ne){var _e=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return _e!==null?null:T(U,V,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===_e?C(U,V,H,ne):null;case M:return H.key===_e?G(U,V,H,ne):null;case k:return _e=H._init,H=_e(H._payload),K(U,V,H,ne)}if(Me(H)||P(H))return _e!==null?null:J(U,V,H,ne,null);if(typeof H.then=="function")return K(U,V,bu(H),ne);if(H.$$typeof===ae)return K(U,V,lu(U,H),ne);Eu(U,H)}return null}function Q(U,V,H,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return U=U.get(H)||null,T(V,U,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return U=U.get(ne.key===null?H:ne.key)||null,C(V,U,ne,_e);case M:return U=U.get(ne.key===null?H:ne.key)||null,G(V,U,ne,_e);case k:var Ue=ne._init;return ne=Ue(ne._payload),Q(U,V,H,ne,_e)}if(Me(ne)||P(ne))return U=U.get(H)||null,J(V,U,ne,_e,null);if(typeof ne.then=="function")return Q(U,V,H,bu(ne),_e);if(ne.$$typeof===ae)return Q(U,V,H,lu(V,ne),_e);Eu(V,ne)}return null}function Ie(U,V,H,ne){for(var _e=null,Ue=null,be=V,Se=V=0,Yt=null;be!==null&&Se<H.length;Se++){be.index>Se?(Yt=be,be=null):Yt=be.sibling;var et=K(U,be,H[Se],ne);if(et===null){be===null&&(be=Yt);break}t&&be&&et.alternate===null&&r(U,be),V=m(et,V,Se),Ue===null?_e=et:Ue.sibling=et,Ue=et,be=Yt}if(Se===H.length)return a(U,be),st&&qs(U,Se),_e;if(be===null){for(;Se<H.length;Se++)be=re(U,H[Se],ne),be!==null&&(V=m(be,V,Se),Ue===null?_e=be:Ue.sibling=be,Ue=be);return st&&qs(U,Se),_e}for(be=l(be);Se<H.length;Se++)Yt=Q(be,U,Se,H[Se],ne),Yt!==null&&(t&&Yt.alternate!==null&&be.delete(Yt.key===null?Se:Yt.key),V=m(Yt,V,Se),Ue===null?_e=Yt:Ue.sibling=Yt,Ue=Yt);return t&&be.forEach(function(Zi){return r(U,Zi)}),st&&qs(U,Se),_e}function Te(U,V,H,ne){if(H==null)throw Error(s(151));for(var _e=null,Ue=null,be=V,Se=V=0,Yt=null,et=H.next();be!==null&&!et.done;Se++,et=H.next()){be.index>Se?(Yt=be,be=null):Yt=be.sibling;var Zi=K(U,be,et.value,ne);if(Zi===null){be===null&&(be=Yt);break}t&&be&&Zi.alternate===null&&r(U,be),V=m(Zi,V,Se),Ue===null?_e=Zi:Ue.sibling=Zi,Ue=Zi,be=Yt}if(et.done)return a(U,be),st&&qs(U,Se),_e;if(be===null){for(;!et.done;Se++,et=H.next())et=re(U,et.value,ne),et!==null&&(V=m(et,V,Se),Ue===null?_e=et:Ue.sibling=et,Ue=et);return st&&qs(U,Se),_e}for(be=l(be);!et.done;Se++,et=H.next())et=Q(be,U,Se,et.value,ne),et!==null&&(t&&et.alternate!==null&&be.delete(et.key===null?Se:et.key),V=m(et,V,Se),Ue===null?_e=et:Ue.sibling=et,Ue=et);return t&&be.forEach(function(GT){return r(U,GT)}),st&&qs(U,Se),_e}function ft(U,V,H,ne){if(typeof H=="object"&&H!==null&&H.type===q&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var _e=H.key;V!==null;){if(V.key===_e){if(_e=H.type,_e===q){if(V.tag===7){a(U,V.sibling),ne=d(V,H.props.children),ne.return=U,U=ne;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===k&&Cy(_e)===V.type){a(U,V.sibling),ne=d(V,H.props),xl(ne,H),ne.return=U,U=ne;break e}a(U,V);break}else r(U,V);V=V.sibling}H.type===q?(ne=Us(H.props.children,U.mode,ne,H.key),ne.return=U,U=ne):(ne=iu(H.type,H.key,H.props,null,U.mode,ne),xl(ne,H),ne.return=U,U=ne)}return b(U);case M:e:{for(_e=H.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(U,V.sibling),ne=d(V,H.children||[]),ne.return=U,U=ne;break e}else{a(U,V);break}else r(U,V);V=V.sibling}ne=Nd(H,U.mode,ne),ne.return=U,U=ne}return b(U);case k:return _e=H._init,H=_e(H._payload),ft(U,V,H,ne)}if(Me(H))return Ie(U,V,H,ne);if(P(H)){if(_e=P(H),typeof _e!="function")throw Error(s(150));return H=_e.call(H),Te(U,V,H,ne)}if(typeof H.then=="function")return ft(U,V,bu(H),ne);if(H.$$typeof===ae)return ft(U,V,lu(U,H),ne);Eu(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(U,V.sibling),ne=d(V,H),ne.return=U,U=ne):(a(U,V),ne=Rd(H,U.mode,ne),ne.return=U,U=ne),b(U)):a(U,V)}return function(U,V,H,ne){try{_l=0;var _e=ft(U,V,H,ne);return Ha=null,_e}catch(be){if(be===ul||be===uu)throw be;var Ue=Dn(29,be,null,U.mode);return Ue.lanes=ne,Ue.return=U,Ue}finally{}}}var Ga=Dy(!0),jy=Dy(!1),Qn=Z(null),Sr=null;function Pi(t){var r=t.alternate;X(Ht,Ht.current&1),X(Qn,t),Sr===null&&(r===null||za.current!==null||r.memoizedState!==null)&&(Sr=t)}function Oy(t){if(t.tag===22){if(X(Ht,Ht.current),X(Qn,t),Sr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Sr=t)}}else Li()}function Li(){X(Ht,Ht.current),X(Qn,Qn.current)}function ii(t){ee(Qn),Sr===t&&(Sr=null),ee(Ht)}var Ht=Z(0);function Tu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zf(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function cf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:x({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var uf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Vn(),d=Oi(l);d.payload=r,a!=null&&(d.callback=a),r=Mi(t,d,l),r!==null&&(Pn(r,t,l),dl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Vn(),d=Oi(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Mi(t,d,l),r!==null&&(Pn(r,t,l),dl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Vn(),l=Oi(a);l.tag=2,r!=null&&(l.callback=r),r=Mi(t,l,a),r!==null&&(Pn(r,t,a),dl(r,t,a))}};function My(t,r,a,l,d,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):r.prototype&&r.prototype.isPureReactComponent?!nl(a,l)||!nl(d,m):!0}function Vy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&uf.enqueueReplaceState(r,r.state,null)}function Ys(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=x({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Py(t){wu(t)}function Ly(t){console.error(t)}function zy(t){wu(t)}function Su(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function hf(t,r,a){return a=Oi(a),a.tag=3,a.payload={element:null},a.callback=function(){Su(t,r)},a}function By(t){return t=Oi(t),t.tag=3,t}function qy(t,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){Uy(r,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Uy(r,a,l),typeof d!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function GE(t,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ol(r,a,d,!0),a=Qn.current,a!==null){switch(a.tag){case 13:return Sr===null?Mf():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===zd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Pf(t,l,d)),!1;case 22:return a.flags|=65536,l===zd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Pf(t,l,d)),!1}throw Error(s(435,a.tag))}return Pf(t,l,d),Mf(),!1}if(st)return r=Qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==Dd&&(t=Error(s(422),{cause:l}),al(Gn(t,a)))):(l!==Dd&&(r=Error(s(423),{cause:l}),al(Gn(r,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Gn(l,a),d=hf(t.stateNode,l,d),qd(t,d),St!==4&&(St=2)),!1;var m=Error(s(520),{cause:l});if(m=Gn(m,a),kl===null?kl=[m]:kl.push(m),St!==4&&(St=2),r===null)return!0;l=Gn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=hf(a.stateNode,l,t),qd(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gi===null||!Gi.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=By(d),qy(d,t,a,l),qd(a,d),!1}a=a.return}while(a!==null);return!1}var Hy=Error(s(461)),Kt=!1;function tn(t,r,a,l){r.child=t===null?jy(r,null,a,l):Ga(r,t.child,a,l)}function Gy(t,r,a,l,d){a=a.render;var m=r.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return $s(r),l=Kd(t,r,a,b,m,d),T=Qd(),t!==null&&!Kt?(Yd(t,r,d),si(t,r,d)):(st&&T&&Id(r),r.flags|=1,tn(t,r,l,d),r.child)}function Fy(t,r,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!kd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,$y(t,r,m,l,d)):(t=iu(a.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!_f(t,d)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(b,l)&&t.ref===r.ref)return si(t,r,d)}return r.flags|=1,t=Zr(m,l),t.ref=r.ref,t.return=r,r.child=t}function $y(t,r,a,l,d){if(t!==null){var m=t.memoizedProps;if(nl(m,l)&&t.ref===r.ref)if(Kt=!1,r.pendingProps=l=m,_f(t,d))(t.flags&131072)!==0&&(Kt=!0);else return r.lanes=t.lanes,si(t,r,d)}return df(t,r,a,l,d)}function Ky(t,r,a){var l=r.pendingProps,d=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(d=r.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return Qy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(r,m!==null?m.cachePool:null),m!==null?$p(r,m):Gd(),Oy(r);else return r.lanes=r.childLanes=536870912,Qy(t,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(cu(r,m.cachePool),$p(r,m),Li(),r.memoizedState=null):(t!==null&&cu(r,null),Gd(),Li());return tn(t,r,d,a),r.child}function Qy(t,r,a,l){var d=Ld();return d=d===null?null:{parent:qt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&cu(r,null),Gd(),Oy(r),t!==null&&ol(t,r,l,!0),null}function Au(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function df(t,r,a,l,d){return $s(r),a=Kd(t,r,a,l,void 0,d),l=Qd(),t!==null&&!Kt?(Yd(t,r,d),si(t,r,d)):(st&&l&&Id(r),r.flags|=1,tn(t,r,a,d),r.child)}function Yy(t,r,a,l,d,m){return $s(r),r.updateQueue=null,a=Qp(r,l,a,d),Kp(t),l=Qd(),t!==null&&!Kt?(Yd(t,r,m),si(t,r,m)):(st&&l&&Id(r),r.flags|=1,tn(t,r,a,m),r.child)}function Xy(t,r,a,l,d){if($s(r),r.stateNode===null){var m=Oa,b=a.contextType;typeof b=="object"&&b!==null&&(m=un(b)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=uf,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Ud(r),b=a.contextType,m.context=typeof b=="object"&&b!==null?un(b):Oa,m.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(cf(r,a,b,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&uf.enqueueReplaceState(m,m.state,null),ml(r,l,m,d),fl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var T=r.memoizedProps,C=Ys(a,T);m.props=C;var G=m.context,J=a.contextType;b=Oa,typeof J=="object"&&J!==null&&(b=un(J));var re=a.getDerivedStateFromProps;J=typeof re=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||G!==b)&&Vy(r,m,l,b),ji=!1;var K=r.memoizedState;m.state=K,ml(r,l,m,d),fl(),G=r.memoizedState,T||K!==G||ji?(typeof re=="function"&&(cf(r,a,re,l),G=r.memoizedState),(C=ji||My(r,a,C,l,K,G,b))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),m.props=l,m.state=G,m.context=b,l=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Bd(t,r),b=r.memoizedProps,J=Ys(a,b),m.props=J,re=r.pendingProps,K=m.context,G=a.contextType,C=Oa,typeof G=="object"&&G!==null&&(C=un(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==re||K!==C)&&Vy(r,m,l,C),ji=!1,K=r.memoizedState,m.state=K,ml(r,l,m,d),fl();var Q=r.memoizedState;b!==re||K!==Q||ji||t!==null&&t.dependencies!==null&&ou(t.dependencies)?(typeof T=="function"&&(cf(r,a,T,l),Q=r.memoizedState),(J=ji||My(r,a,J,l,K,Q,C)||t!==null&&t.dependencies!==null&&ou(t.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),m.props=l,m.state=Q,m.context=C,l=J):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,Au(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=Ga(r,t.child,null,d),r.child=Ga(r,null,a,d)):tn(t,r,a,d),r.memoizedState=m.state,t=r.child):t=si(t,r,d),t}function Wy(t,r,a,l){return sl(),r.flags|=256,tn(t,r,a,l),r.child}var ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mf(t){return{baseLanes:t,cachePool:Lp()}}function gf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Yn),t}function Zy(t,r,a){var l=r.pendingProps,d=!1,m=(r.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Ht.current&2)!==0),b&&(d=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(st){if(d?Pi(r):Li(),st){var T=wt,C;if(C=T){e:{for(C=T,T=wr;C.nodeType!==8;){if(!T){T=null;break e}if(C=sr(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Bs!==null?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},C=Dn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,_n=r,wt=null,C=!0):C=!1}C||Gs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Zf(T)?r.lanes=32:r.lanes=536870912,null;ii(r)}return T=l.children,l=l.fallback,d?(Li(),d=r.mode,T=ku({mode:"hidden",children:T},d),l=Us(l,d,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,d=r.child,d.memoizedState=mf(a),d.childLanes=gf(t,b,a),r.memoizedState=ff,l):(Pi(r),pf(r,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(m)r.flags&256?(Pi(r),r.flags&=-257,r=yf(t,r,a)):r.memoizedState!==null?(Li(),r.child=t.child,r.flags|=128,r=null):(Li(),d=l.fallback,T=r.mode,l=ku({mode:"visible",children:l.children},T),d=Us(d,T,a,null),d.flags|=2,l.return=r,d.return=r,l.sibling=d,r.child=l,Ga(r,t.child,null,a),l=r.child,l.memoizedState=mf(a),l.childLanes=gf(t,b,a),r.memoizedState=ff,r=d);else if(Pi(r),Zf(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var G=b.dgst;b=G,l=Error(s(419)),l.stack="",l.digest=b,al({value:l,source:null,stack:null}),r=yf(t,r,a)}else if(Kt||ol(t,r,a,!1),b=(a&t.childLanes)!==0,Kt||b){if(b=gt,b!==null&&(l=a&-a,l=(l&42)!==0?1:Si(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ja(t,l),Pn(b,t,l),Hy;T.data==="$?"||Mf(),r=yf(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,wt=sr(T.nextSibling),_n=r,st=!0,Hs=null,wr=!1,t!==null&&($n[Kn++]=Jr,$n[Kn++]=ei,$n[Kn++]=Bs,Jr=t.id,ei=t.overflow,Bs=r),r=pf(r,l.children),r.flags|=4096);return r}return d?(Li(),d=l.fallback,T=r.mode,C=t.child,G=C.sibling,l=Zr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,G!==null?d=Zr(G,d):(d=Us(d,T,a,null),d.flags|=2),d.return=r,l.return=r,l.sibling=d,r.child=l,l=d,d=r.child,T=t.child.memoizedState,T===null?T=mf(a):(C=T.cachePool,C!==null?(G=qt._currentValue,C=C.parent!==G?{parent:G,pool:G}:C):C=Lp(),T={baseLanes:T.baseLanes|a,cachePool:C}),d.memoizedState=T,d.childLanes=gf(t,b,a),r.memoizedState=ff,l):(Pi(r),a=t.child,t=a.sibling,a=Zr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=a,r.memoizedState=null,a)}function pf(t,r){return r=ku({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ku(t,r){return t=Dn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function yf(t,r,a){return Ga(r,t.child,null,a),t=pf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Jy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Od(t.return,r,a)}function vf(t,r,a,l,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function e0(t,r,a){var l=r.pendingProps,d=l.revealOrder,m=l.tail;if(tn(t,r,l.children,a),l=Ht.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,a,r);else if(t.tag===19)Jy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(X(Ht,l),d){case"forwards":for(a=r.child,d=null;a!==null;)t=a.alternate,t!==null&&Tu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),vf(r,!1,d,a,m);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Tu(t)===null){r.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}vf(r,!0,a,null,m);break;case"together":vf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function si(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Hi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ol(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Zr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Zr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function _f(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ou(t)))}function FE(t,r,a){switch(r.tag){case 3:Je(r,r.stateNode.containerInfo),Di(r,qt,t.memoizedState.cache),sl();break;case 27:case 5:bn(r);break;case 4:Je(r,r.stateNode.containerInfo);break;case 10:Di(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Pi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Zy(t,r,a):(Pi(r),t=si(t,r,a),t!==null?t.sibling:null);Pi(r);break;case 19:var d=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ol(t,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return e0(t,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(Ht,Ht.current),l)break;return null;case 22:case 23:return r.lanes=0,Ky(t,r,a);case 24:Di(r,qt,t.memoizedState.cache)}return si(t,r,a)}function t0(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Kt=!0;else{if(!_f(t,a)&&(r.flags&128)===0)return Kt=!1,FE(t,r,a);Kt=(t.flags&131072)!==0}else Kt=!1,st&&(r.flags&1048576)!==0&&Cp(r,au,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,d=l._init;if(l=d(l._payload),r.type=l,typeof l=="function")kd(l)?(t=Ys(l,t),r.tag=1,r=Xy(null,r,l,t,a)):(r.tag=0,r=df(null,r,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===ve){r.tag=11,r=Gy(null,r,l,t,a);break e}else if(d===j){r.tag=14,r=Fy(null,r,l,t,a);break e}}throw r=$e(l)||l,Error(s(306,r,""))}}return r;case 0:return df(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=Ys(l,r.pendingProps),Xy(t,r,l,d,a);case 3:e:{if(Je(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;d=m.element,Bd(t,r),ml(r,l,null,a);var b=r.memoizedState;if(l=b.cache,Di(r,qt,l),l!==m.cache&&Md(r,[qt],a,!0),fl(),l=b.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Wy(t,r,l,a);break e}else if(l!==d){d=Gn(Error(s(424)),r),al(d),r=Wy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(wt=sr(t.firstChild),_n=r,st=!0,Hs=null,wr=!0,a=jy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sl(),l===d){r=si(t,r,a);break e}tn(t,r,l,a)}r=r.child}return r;case 26:return Au(t,r),t===null?(a=sv(r.type,null,r.pendingProps,null))?r.memoizedState=a:st||(a=r.type,t=r.pendingProps,l=Bu(xe.current).createElement(a),l[zt]=r,l[It]=t,rn(l,a,t),At(l),r.stateNode=l):r.memoizedState=sv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return bn(r),t===null&&st&&(l=r.stateNode=nv(r.type,r.pendingProps,xe.current),_n=r,wr=!0,d=wt,Ki(r.type)?(Jf=d,wt=sr(l.firstChild)):wt=d),tn(t,r,r.pendingProps.children,a),Au(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&st&&((d=l=wt)&&(l=_T(l,r.type,r.pendingProps,wr),l!==null?(r.stateNode=l,_n=r,wt=sr(l.firstChild),wr=!1,d=!0):d=!1),d||Gs(r)),bn(r),d=r.type,m=r.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,Yf(d,m)?l=null:b!==null&&Yf(d,b)&&(r.flags|=32),r.memoizedState!==null&&(d=Kd(t,r,PE,null,null,a),Vl._currentValue=d),Au(t,r),tn(t,r,l,a),r.child;case 6:return t===null&&st&&((t=a=wt)&&(a=xT(a,r.pendingProps,wr),a!==null?(r.stateNode=a,_n=r,wt=null,t=!0):t=!1),t||Gs(r)),null;case 13:return Zy(t,r,a);case 4:return Je(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ga(r,null,l,a):tn(t,r,l,a),r.child;case 11:return Gy(t,r,r.type,r.pendingProps,a);case 7:return tn(t,r,r.pendingProps,a),r.child;case 8:return tn(t,r,r.pendingProps.children,a),r.child;case 12:return tn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Di(r,r.type,l.value),tn(t,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,$s(r),d=un(d),l=l(d),r.flags|=1,tn(t,r,l,a),r.child;case 14:return Fy(t,r,r.type,r.pendingProps,a);case 15:return $y(t,r,r.type,r.pendingProps,a);case 19:return e0(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=ku(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Zr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Ky(t,r,a);case 24:return $s(r),l=un(qt),t===null?(d=Ld(),d===null&&(d=gt,m=Vd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),r.memoizedState={parent:l,cache:d},Ud(r),Di(r,qt,d)):((t.lanes&a)!==0&&(Bd(t,r),ml(r,null,null,a),fl()),d=t.memoizedState,m=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Di(r,qt,l)):(l=m.cache,Di(r,qt,l),l!==d.cache&&Md(r,[qt],a,!0))),tn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ai(t){t.flags|=4}function n0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uv(r)){if(r=Qn.current,r!==null&&((Xe&4194048)===Xe?Sr!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||r!==Sr))throw hl=zd,zp;t.flags|=8192}}function Ru(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Lo():536870912,t.lanes|=r,Qa|=r)}function bl(t,r){if(!st)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Et(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function $E(t,r,a){var l=r.pendingProps;switch(Cd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(r),null;case 1:return Et(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ni(qt),ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(il(r)?ai(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Op())),Et(r),null;case 26:return a=r.memoizedState,t===null?(ai(r),a!==null?(Et(r),n0(r,a)):(Et(r),r.flags&=-16777217)):a?a!==t.memoizedState?(ai(r),Et(r),n0(r,a)):(Et(r),r.flags&=-16777217):(t.memoizedProps!==l&&ai(r),Et(r),r.flags&=-16777217),null;case 27:gn(r),a=xe.current;var d=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ai(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Et(r),null}t=oe.current,il(r)?Dp(r):(t=nv(d,l,a),r.stateNode=t,ai(r))}return Et(r),null;case 5:if(gn(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ai(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Et(r),null}if(t=oe.current,il(r))Dp(r);else{switch(d=Bu(xe.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[zt]=r,t[It]=l;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=t;e:switch(rn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ai(r)}}return Et(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ai(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=xe.current,il(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,d=_n,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[zt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Y0(t.nodeValue,a)),t||Gs(r)}else t=Bu(t).createTextNode(l),t[zt]=r,r.stateNode=t}return Et(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=il(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[zt]=r}else sl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Et(r),d=!1}else d=Op(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(ii(r),r):(ii(r),null)}if(ii(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Ru(r,r.updateQueue),Et(r),null;case 4:return ln(),t===null&&Gf(r.stateNode.containerInfo),Et(r),null;case 10:return ni(r.type),Et(r),null;case 19:if(ee(Ht),d=r.memoizedState,d===null)return Et(r),null;if(l=(r.flags&128)!==0,m=d.rendering,m===null)if(l)bl(d,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=Tu(t),m!==null){for(r.flags|=128,bl(d,!1),t=m.updateQueue,r.updateQueue=t,Ru(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Ip(a,t),a=a.sibling;return X(Ht,Ht.current&1|2),r.child}t=t.sibling}d.tail!==null&&ue()>Cu&&(r.flags|=128,l=!0,bl(d,!1),r.lanes=4194304)}else{if(!l)if(t=Tu(m),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Ru(r,t),bl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!st)return Et(r),null}else 2*ue()-d.renderingStartTime>Cu&&a!==536870912&&(r.flags|=128,l=!0,bl(d,!1),r.lanes=4194304);d.isBackwards?(m.sibling=r.child,r.child=m):(t=d.last,t!==null?t.sibling=m:r.child=m,d.last=m)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=ue(),r.sibling=null,t=Ht.current,X(Ht,l?t&1|2:t&1),r):(Et(r),null);case 22:case 23:return ii(r),Fd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(Et(r),r.subtreeFlags&6&&(r.flags|=8192)):Et(r),a=r.updateQueue,a!==null&&Ru(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ee(Ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ni(qt),Et(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function KE(t,r){switch(Cd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ni(qt),ln(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return gn(r),null;case 13:if(ii(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));sl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ee(Ht),null;case 4:return ln(),null;case 10:return ni(r.type),null;case 22:case 23:return ii(r),Fd(),t!==null&&ee(Ks),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ni(qt),null;case 25:return null;default:return null}}function r0(t,r){switch(Cd(r),r.tag){case 3:ni(qt),ln();break;case 26:case 27:case 5:gn(r);break;case 4:ln();break;case 13:ii(r);break;case 19:ee(Ht);break;case 10:ni(r.type);break;case 22:case 23:ii(r),Fd(),t!==null&&ee(Ks);break;case 24:ni(qt)}}function El(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==d)}}catch(T){mt(r,r.return,T)}}function zi(t,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,d=r;var C=a,G=T;try{G()}catch(J){mt(d,C,J)}}}l=l.next}while(l!==m)}}catch(J){mt(r,r.return,J)}}function i0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Fp(r,a)}catch(l){mt(t,t.return,l)}}}function s0(t,r,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){mt(t,r,l)}}function Tl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){mt(t,r,d)}}function Ar(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){mt(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){mt(t,r,d)}else a.current=null}function a0(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){mt(t,t.return,d)}}function xf(t,r,a){try{var l=t.stateNode;mT(l,t.type,a,r),l[It]=r}catch(d){mt(t,t.return,d)}}function o0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ki(t.type)||t.tag===4}function bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||o0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ki(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ef(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Uu));else if(l!==4&&(l===27&&Ki(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Ef(t,r,a),t=t.sibling;t!==null;)Ef(t,r,a),t=t.sibling}function Nu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ki(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nu(t,r,a),t=t.sibling;t!==null;)Nu(t,r,a),t=t.sibling}function l0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);rn(r,l,a),r[zt]=t,r[It]=a}catch(m){mt(t,t.return,m)}}var oi=!1,Rt=!1,Tf=!1,c0=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function QE(t,r){if(t=t.containerInfo,Kf=Ku,t=xp(t),xd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,T=-1,C=-1,G=0,J=0,re=t,K=null;t:for(;;){for(var Q;re!==a||d!==0&&re.nodeType!==3||(T=b+d),re!==m||l!==0&&re.nodeType!==3||(C=b+l),re.nodeType===3&&(b+=re.nodeValue.length),(Q=re.firstChild)!==null;)K=re,re=Q;for(;;){if(re===t)break t;if(K===a&&++G===d&&(T=b),K===m&&++J===l&&(C=b),(Q=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=Q}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qf={focusedElem:t,selectionRange:a},Ku=!1,Qt=r;Qt!==null;)if(r=Qt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Qt=t;else for(;Qt!==null;){switch(r=Qt,m=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ie=Ys(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ie,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){mt(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Wf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Qt=t;break}Qt=r.return}}function u0(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(t,a),l&4&&El(5,a);break;case 1:if(Ui(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){mt(a,a.return,b)}else{var d=Ys(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){mt(a,a.return,b)}}l&64&&i0(a),l&512&&Tl(a,a.return);break;case 3:if(Ui(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Fp(t,r)}catch(b){mt(a,a.return,b)}}break;case 27:r===null&&l&4&&l0(a);case 26:case 5:Ui(t,a),r===null&&l&4&&a0(a),l&512&&Tl(a,a.return);break;case 12:Ui(t,a);break;case 13:Ui(t,a),l&4&&f0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=rT.bind(null,a),bT(t,a))));break;case 22:if(l=a.memoizedState!==null||oi,!l){r=r!==null&&r.memoizedState!==null||Rt,d=oi;var m=Rt;oi=l,(Rt=r)&&!m?Bi(t,a,(a.subtreeFlags&8772)!==0):Ui(t,a),oi=d,Rt=m}break;case 30:break;default:Ui(t,a)}}function h0(t){var r=t.alternate;r!==null&&(t.alternate=null,h0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ri(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,Tn=!1;function li(t,r,a){for(a=a.child;a!==null;)d0(t,r,a),a=a.sibling}function d0(t,r,a){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(ze,a)}catch{}switch(a.tag){case 26:Rt||Ar(a,r),li(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ar(a,r);var l=_t,d=Tn;Ki(a.type)&&(_t=a.stateNode,Tn=!1),li(t,r,a),Dl(a.stateNode),_t=l,Tn=d;break;case 5:Rt||Ar(a,r);case 6:if(l=_t,d=Tn,_t=null,li(t,r,a),_t=l,Tn=d,_t!==null)if(Tn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(m){mt(a,r,m)}else try{_t.removeChild(a.stateNode)}catch(m){mt(a,r,m)}break;case 18:_t!==null&&(Tn?(t=_t,ev(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ul(t)):ev(_t,a.stateNode));break;case 4:l=_t,d=Tn,_t=a.stateNode.containerInfo,Tn=!0,li(t,r,a),_t=l,Tn=d;break;case 0:case 11:case 14:case 15:Rt||zi(2,a,r),Rt||zi(4,a,r),li(t,r,a);break;case 1:Rt||(Ar(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&s0(a,r,l)),li(t,r,a);break;case 21:li(t,r,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,li(t,r,a),Rt=l;break;default:li(t,r,a)}}function f0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(a){mt(r,r.return,a)}}function YE(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new c0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new c0),r;default:throw Error(s(435,t.tag))}}function wf(t,r){var a=YE(t);r.forEach(function(l){var d=iT.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function jn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,b=r,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Ki(T.type)){_t=T.stateNode,Tn=!1;break e}break;case 5:_t=T.stateNode,Tn=!1;break e;case 3:case 4:_t=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(_t===null)throw Error(s(160));d0(m,b,d),_t=null,Tn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)m0(r,t),r=r.sibling}var ir=null;function m0(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(r,t),On(t),l&4&&(zi(3,t,t.return),El(3,t),zi(5,t,t.return));break;case 1:jn(r,t),On(t),l&512&&(Rt||a===null||Ar(a,a.return)),l&64&&oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ir;if(jn(r,t),On(t),l&512&&(Rt||a===null||Ar(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[ws]||m[zt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),rn(m,l,a),m[zt]=t,At(m),l=m;break e;case"link":var b=lv("link","href",d).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(m=b[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}m=d.createElement(l),rn(m,l,a),d.head.appendChild(m);break;case"meta":if(b=lv("meta","content",d).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(m=b[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}m=d.createElement(l),rn(m,l,a),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[zt]=t,At(m),l=m}t.stateNode=l}else cv(d,t.type,t.stateNode);else t.stateNode=ov(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?cv(d,t.type,t.stateNode):ov(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:jn(r,t),On(t),l&512&&(Rt||a===null||Ar(a,a.return)),a!==null&&l&4&&xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(jn(r,t),On(t),l&512&&(Rt||a===null||Ar(a,a.return)),t.flags&32){d=t.stateNode;try{Un(d,"")}catch(Q){mt(t,t.return,Q)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,xf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Tf=!0);break;case 6:if(jn(r,t),On(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){mt(t,t.return,Q)}}break;case 3:if(Gu=null,d=ir,ir=qu(r.containerInfo),jn(r,t),ir=d,On(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(r.containerInfo)}catch(Q){mt(t,t.return,Q)}Tf&&(Tf=!1,g0(t));break;case 4:l=ir,ir=qu(t.stateNode.containerInfo),jn(r,t),On(t),ir=l;break;case 12:jn(r,t),On(t);break;case 13:jn(r,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(If=ue()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wf(t,l)));break;case 22:d=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,G=oi,J=Rt;if(oi=G||d,Rt=J||C,jn(r,t),Rt=J,oi=G,On(t),l&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||C||oi||Rt||Xs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(m=C.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=C.stateNode;var re=C.memoizedProps.style,K=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){mt(C,C.return,Q)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(Q){mt(C,C.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wf(t,a))));break;case 19:jn(r,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wf(t,l)));break;case 30:break;case 21:break;default:jn(r,t),On(t)}}function On(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(o0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,m=bf(t);Nu(t,m,d);break;case 5:var b=a.stateNode;a.flags&32&&(Un(b,""),a.flags&=-33);var T=bf(t);Nu(t,T,b);break;case 3:case 4:var C=a.stateNode.containerInfo,G=bf(t);Ef(t,G,C);break;default:throw Error(s(161))}}catch(J){mt(t,t.return,J)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function g0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;g0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ui(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)u0(t,r.alternate,r),r=r.sibling}function Xs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:zi(4,r,r.return),Xs(r);break;case 1:Ar(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&s0(r,r.return,a),Xs(r);break;case 27:Dl(r.stateNode);case 26:case 5:Ar(r,r.return),Xs(r);break;case 22:r.memoizedState===null&&Xs(r);break;case 30:Xs(r);break;default:Xs(r)}t=t.sibling}}function Bi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,m=r,b=m.flags;switch(m.tag){case 0:case 11:case 15:Bi(d,m,a),El(4,m);break;case 1:if(Bi(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){mt(l,l.return,G)}if(l=m,d=l.updateQueue,d!==null){var T=l.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)Gp(C[d],T)}catch(G){mt(l,l.return,G)}}a&&b&64&&i0(m),Tl(m,m.return);break;case 27:l0(m);case 26:case 5:Bi(d,m,a),a&&l===null&&b&4&&a0(m),Tl(m,m.return);break;case 12:Bi(d,m,a);break;case 13:Bi(d,m,a),a&&b&4&&f0(d,m);break;case 22:m.memoizedState===null&&Bi(d,m,a),Tl(m,m.return);break;case 30:break;default:Bi(d,m,a)}r=r.sibling}}function Sf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Af(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t))}function kr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)p0(t,r,a,l),r=r.sibling}function p0(t,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:kr(t,r,a,l),d&2048&&El(9,r);break;case 1:kr(t,r,a,l);break;case 3:kr(t,r,a,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t)));break;case 12:if(d&2048){kr(t,r,a,l),t=r.stateNode;try{var m=r.memoizedProps,b=m.id,T=m.onPostCommit;typeof T=="function"&&T(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){mt(r,r.return,C)}}else kr(t,r,a,l);break;case 13:kr(t,r,a,l);break;case 23:break;case 22:m=r.stateNode,b=r.alternate,r.memoizedState!==null?m._visibility&2?kr(t,r,a,l):wl(t,r):m._visibility&2?kr(t,r,a,l):(m._visibility|=2,Fa(t,r,a,l,(r.subtreeFlags&10256)!==0)),d&2048&&Sf(b,r);break;case 24:kr(t,r,a,l),d&2048&&Af(r.alternate,r);break;default:kr(t,r,a,l)}}function Fa(t,r,a,l,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=t,b=r,T=a,C=l,G=b.flags;switch(b.tag){case 0:case 11:case 15:Fa(m,b,T,C,d),El(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?Fa(m,b,T,C,d):wl(m,b):(J._visibility|=2,Fa(m,b,T,C,d)),d&&G&2048&&Sf(b.alternate,b);break;case 24:Fa(m,b,T,C,d),d&&G&2048&&Af(b.alternate,b);break;default:Fa(m,b,T,C,d)}r=r.sibling}}function wl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,d=l.flags;switch(l.tag){case 22:wl(a,l),d&2048&&Sf(l.alternate,l);break;case 24:wl(a,l),d&2048&&Af(l.alternate,l);break;default:wl(a,l)}r=r.sibling}}var Sl=8192;function $a(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)y0(t),t=t.sibling}function y0(t){switch(t.tag){case 26:$a(t),t.flags&Sl&&t.memoizedState!==null&&OT(ir,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var r=ir;ir=qu(t.stateNode.containerInfo),$a(t),ir=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Sl,Sl=16777216,$a(t),Sl=r):$a(t));break;default:$a(t)}}function v0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Al(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Qt=l,x0(l,t)}v0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_0(t),t=t.sibling}function _0(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&zi(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Iu(t)):Al(t);break;default:Al(t)}}function Iu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Qt=l,x0(l,t)}v0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:zi(8,r,r.return),Iu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Iu(r));break;default:Iu(r)}t=t.sibling}}function x0(t,r){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:zi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qt=l;else e:for(a=t;Qt!==null;){l=Qt;var d=l.sibling,m=l.return;if(h0(l),l===a){Qt=null;break e}if(d!==null){d.return=m,Qt=d;break e}Qt=m}}}var XE={getCacheForType:function(t){var r=un(qt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},WE=typeof WeakMap=="function"?WeakMap:Map,lt=0,gt=null,Be=null,Xe=0,ct=0,Mn=null,qi=!1,Ka=!1,kf=!1,ci=0,St=0,Hi=0,Ws=0,Rf=0,Yn=0,Qa=0,kl=null,wn=null,Nf=!1,If=0,Cu=1/0,Du=null,Gi=null,nn=0,Fi=null,Ya=null,Xa=0,Cf=0,Df=null,b0=null,Rl=0,jf=null;function Vn(){if((lt&2)!==0&&Xe!==0)return Xe&-Xe;if(Y.T!==null){var t=Pa;return t!==0?t:Uf()}return Ai()}function E0(){Yn===0&&(Yn=(Xe&536870912)===0||st?Po():536870912);var t=Qn.current;return t!==null&&(t.flags|=32),Yn}function Pn(t,r,a){(t===gt&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),$i(t,Xe,Yn,!1)),Br(t,a),((lt&2)===0||t!==gt)&&(t===gt&&((lt&2)===0&&(Ws|=a),St===4&&$i(t,Xe,Yn,!1)),Rr(t))}function T0(t,r,a){if((lt&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Ts(t,r),d=l?eT(t,r):Vf(t,r,!0),m=l;do{if(d===0){Ka&&!l&&$i(t,r,0,!1);break}else{if(a=t.current.alternate,m&&!ZE(a)){d=Vf(t,r,!1),m=!1;continue}if(d===2){if(m=r,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var T=t;d=kl;var C=T.current.memoizedState.isDehydrated;if(C&&(Wa(T,b).flags|=256),b=Vf(T,b,!1),b!==2){if(kf&&!C){T.errorRecoveryDisabledLanes|=m,Ws|=m,d=4;break e}m=wn,wn=d,m!==null&&(wn===null?wn=m:wn.push.apply(wn,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){Wa(t,0),$i(t,r,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:$i(l,r,Yn,!qi);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=If+300-ue(),10<d)){if($i(l,r,Yn,!qi),ma(l,0,!0)!==0)break e;l.timeoutHandle=Z0(w0.bind(null,l,a,wn,Du,Nf,r,Yn,Ws,Qa,qi,m,2,-0,0),d);break e}w0(l,a,wn,Du,Nf,r,Yn,Ws,Qa,qi,m,0,-0,0)}}break}while(!0);Rr(t)}function w0(t,r,a,l,d,m,b,T,C,G,J,re,K,Q){if(t.timeoutHandle=-1,re=r.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:jT},y0(r),re=MT(),re!==null)){t.cancelPendingCommit=re(C0.bind(null,t,r,m,a,l,d,b,T,C,J,1,K,Q)),$i(t,m,b,!G);return}C0(t,r,m,a,l,d,b,T,C)}function ZE(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Cn(m(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $i(t,r,a,l){r&=~Rf,r&=~Ws,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var m=31-cn(d),b=1<<m;l[m]=-1,d&=~b}a!==0&&fr(t,a,r)}function ju(){return(lt&6)===0?(Nl(0),!1):!0}function Of(){if(Be!==null){if(ct===0)var t=Be.return;else t=Be,ti=Fs=null,Xd(t),Ha=null,_l=0,t=Be;for(;t!==null;)r0(t.alternate,t),t=t.return;Be=null}}function Wa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Of(),gt=t,Be=a=Zr(t.current,null),Xe=r,ct=0,Mn=null,qi=!1,Ka=Ts(t,r),kf=!1,Qa=Yn=Rf=Ws=Hi=St=0,wn=kl=null,Nf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-cn(l),m=1<<d;r|=t[d],l&=~m}return ci=r,tu(),a}function S0(t,r){Pe=null,Y.H=xu,r===ul||r===uu?(r=qp(),ct=3):r===zp?(r=qp(),ct=4):ct=r===Hy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mn=r,Be===null&&(St=1,Su(t,Gn(r,t.current)))}function A0(){var t=Y.H;return Y.H=xu,t===null?xu:t}function k0(){var t=Y.A;return Y.A=XE,t}function Mf(){St=4,qi||(Xe&4194048)!==Xe&&Qn.current!==null||(Ka=!0),(Hi&134217727)===0&&(Ws&134217727)===0||gt===null||$i(gt,Xe,Yn,!1)}function Vf(t,r,a){var l=lt;lt|=2;var d=A0(),m=k0();(gt!==t||Xe!==r)&&(Du=null,Wa(t,r)),r=!1;var b=St;e:do try{if(ct!==0&&Be!==null){var T=Be,C=Mn;switch(ct){case 8:Of(),b=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(r=!0);var G=ct;if(ct=0,Mn=null,Za(t,T,C,G),a&&Ka){b=0;break e}break;default:G=ct,ct=0,Mn=null,Za(t,T,C,G)}}JE(),b=St;break}catch(J){S0(t,J)}while(!0);return r&&t.shellSuspendCounter++,ti=Fs=null,lt=l,Y.H=d,Y.A=m,Be===null&&(gt=null,Xe=0,tu()),b}function JE(){for(;Be!==null;)R0(Be)}function eT(t,r){var a=lt;lt|=2;var l=A0(),d=k0();gt!==t||Xe!==r?(Du=null,Cu=ue()+500,Wa(t,r)):Ka=Ts(t,r);e:do try{if(ct!==0&&Be!==null){r=Be;var m=Mn;t:switch(ct){case 1:ct=0,Mn=null,Za(t,r,m,1);break;case 2:case 9:if(Up(m)){ct=0,Mn=null,N0(r);break}r=function(){ct!==2&&ct!==9||gt!==t||(ct=7),Rr(t)},m.then(r,r);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Up(m)?(ct=0,Mn=null,N0(r)):(ct=0,Mn=null,Za(t,r,m,7));break;case 5:var b=null;switch(Be.tag){case 26:b=Be.memoizedState;case 5:case 27:var T=Be;if(!b||uv(b)){ct=0,Mn=null;var C=T.sibling;if(C!==null)Be=C;else{var G=T.return;G!==null?(Be=G,Ou(G)):Be=null}break t}}ct=0,Mn=null,Za(t,r,m,5);break;case 6:ct=0,Mn=null,Za(t,r,m,6);break;case 8:Of(),St=6;break e;default:throw Error(s(462))}}tT();break}catch(J){S0(t,J)}while(!0);return ti=Fs=null,Y.H=l,Y.A=d,lt=a,Be!==null?0:(gt=null,Xe=0,tu(),St)}function tT(){for(;Be!==null&&!je();)R0(Be)}function R0(t){var r=t0(t.alternate,t,ci);t.memoizedProps=t.pendingProps,r===null?Ou(t):Be=r}function N0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Yy(a,r,r.pendingProps,r.type,void 0,Xe);break;case 11:r=Yy(a,r,r.pendingProps,r.type.render,r.ref,Xe);break;case 5:Xd(r);default:r0(a,r),r=Be=Ip(r,ci),r=t0(a,r,ci)}t.memoizedProps=t.pendingProps,r===null?Ou(t):Be=r}function Za(t,r,a,l){ti=Fs=null,Xd(r),Ha=null,_l=0;var d=r.return;try{if(GE(t,d,r,a,Xe)){St=1,Su(t,Gn(a,t.current)),Be=null;return}}catch(m){if(d!==null)throw Be=d,m;St=1,Su(t,Gn(a,t.current)),Be=null;return}r.flags&32768?(st||l===1?t=!0:Ka||(Xe&536870912)!==0?t=!1:(qi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),I0(r,t)):Ou(r)}function Ou(t){var r=t;do{if((r.flags&32768)!==0){I0(r,qi);return}t=r.return;var a=$E(r.alternate,r,ci);if(a!==null){Be=a;return}if(r=r.sibling,r!==null){Be=r;return}Be=r=t}while(r!==null);St===0&&(St=5)}function I0(t,r){do{var a=KE(t.alternate,t);if(a!==null){a.flags&=32767,Be=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Be=t;return}Be=t=a}while(t!==null);St=6,Be=null}function C0(t,r,a,l,d,m,b,T,C){t.cancelPendingCommit=null;do Mu();while(nn!==0);if((lt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Sd,zo(t,a,m,b,T,C),t===gt&&(Be=gt=null,Xe=0),Ya=r,Fi=t,Xa=a,Cf=m,Df=d,b0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sT(Ke,function(){return V0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,d=ce.p,ce.p=2,b=lt,lt|=4;try{QE(t,r,a)}finally{lt=b,ce.p=d,Y.T=l}}nn=1,D0(),j0(),O0()}}function D0(){if(nn===1){nn=0;var t=Fi,r=Ya,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ce.p;ce.p=2;var d=lt;lt|=4;try{m0(r,t);var m=Qf,b=xp(t.containerInfo),T=m.focusedElem,C=m.selectionRange;if(b!==T&&T&&T.ownerDocument&&_p(T.ownerDocument.documentElement,T)){if(C!==null&&xd(T)){var G=C.start,J=C.end;if(J===void 0&&(J=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(J,T.value.length);else{var re=T.ownerDocument||document,K=re&&re.defaultView||window;if(K.getSelection){var Q=K.getSelection(),Ie=T.textContent.length,Te=Math.min(C.start,Ie),ft=C.end===void 0?Te:Math.min(C.end,Ie);!Q.extend&&Te>ft&&(b=ft,ft=Te,Te=b);var U=vp(T,Te),V=vp(T,ft);if(U&&V&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var H=re.createRange();H.setStart(U.node,U.offset),Q.removeAllRanges(),Te>ft?(Q.addRange(H),Q.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),Q.addRange(H))}}}}for(re=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&re.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var ne=re[T];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Ku=!!Kf,Qf=Kf=null}finally{lt=d,ce.p=l,Y.T=a}}t.current=r,nn=2}}function j0(){if(nn===2){nn=0;var t=Fi,r=Ya,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ce.p;ce.p=2;var d=lt;lt|=4;try{u0(t,r.alternate,r)}finally{lt=d,ce.p=l,Y.T=a}}nn=3}}function O0(){if(nn===4||nn===3){nn=0,se();var t=Fi,r=Ya,a=Xa,l=b0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?nn=5:(nn=0,Ya=Fi=null,M0(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Gi=null),ga(a),r=r.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(ze,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,d=ce.p,ce.p=2,Y.T=null;try{for(var m=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];m(T.value,{componentStack:T.stack})}}finally{Y.T=r,ce.p=d}}(Xa&3)!==0&&Mu(),Rr(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===jf?Rl++:(Rl=0,jf=t):Rl=0,Nl(0)}}function M0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ll(r)))}function Mu(t){return D0(),j0(),O0(),V0()}function V0(){if(nn!==5)return!1;var t=Fi,r=Cf;Cf=0;var a=ga(Xa),l=Y.T,d=ce.p;try{ce.p=32>a?32:a,Y.T=null,a=Df,Df=null;var m=Fi,b=Xa;if(nn=0,Ya=Fi=null,Xa=0,(lt&6)!==0)throw Error(s(331));var T=lt;if(lt|=4,_0(m.current),p0(m,m.current,b,a),lt=T,Nl(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(ze,m)}catch{}return!0}finally{ce.p=d,Y.T=l,M0(t,r)}}function P0(t,r,a){r=Gn(a,r),r=hf(t.stateNode,r,2),t=Mi(t,r,2),t!==null&&(Br(t,2),Rr(t))}function mt(t,r,a){if(t.tag===3)P0(t,t,a);else for(;r!==null;){if(r.tag===3){P0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gi===null||!Gi.has(l))){t=Gn(a,t),a=By(2),l=Mi(r,a,2),l!==null&&(qy(a,l,r,t),Br(l,2),Rr(l));break}}r=r.return}}function Pf(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new WE;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(kf=!0,d.add(a),t=nT.bind(null,t,r,a),r.then(t,t))}function nT(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,gt===t&&(Xe&a)===a&&(St===4||St===3&&(Xe&62914560)===Xe&&300>ue()-If?(lt&2)===0&&Wa(t,0):Rf|=a,Qa===Xe&&(Qa=0)),Rr(t)}function L0(t,r){r===0&&(r=Lo()),t=ja(t,r),t!==null&&(Br(t,r),Rr(t))}function rT(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),L0(t,a)}function iT(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),L0(t,a)}function sT(t,r){return Zt(t,r)}var Vu=null,Ja=null,Lf=!1,Pu=!1,zf=!1,Zs=0;function Rr(t){t!==Ja&&t.next===null&&(Ja===null?Vu=Ja=t:Ja=Ja.next=t),Pu=!0,Lf||(Lf=!0,oT())}function Nl(t,r){if(!zf&&Pu){zf=!0;do for(var a=!1,l=Vu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-cn(42|t)+1)-1,m&=d&~(b&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,q0(l,m))}else m=Xe,m=ma(l,l===gt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ts(l,m)||(a=!0,q0(l,m));l=l.next}while(a);zf=!1}}function aT(){z0()}function z0(){Pu=Lf=!1;var t=0;Zs!==0&&(gT()&&(t=Zs),Zs=0);for(var r=ue(),a=null,l=Vu;l!==null;){var d=l.next,m=U0(l,r);m===0?(l.next=null,a===null?Vu=d:a.next=d,d===null&&(Ja=a)):(a=l,(t!==0||(m&3)!==0)&&(Pu=!0)),l=d}Nl(t)}function U0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-cn(m),T=1<<b,C=d[b];C===-1?((T&a)===0||(T&l)!==0)&&(d[b]=Vo(T,r)):C<=r&&(t.expiredLanes|=T),m&=~T}if(r=gt,a=Xe,a=ma(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Rn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ts(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Rn(l),ga(a)){case 2:case 8:a=we;break;case 32:a=Ke;break;case 268435456:a=Ce;break;default:a=Ke}return l=B0.bind(null,t),a=Zt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Rn(l),t.callbackPriority=2,t.callbackNode=null,2}function B0(t,r){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mu()&&t.callbackNode!==a)return null;var l=Xe;return l=ma(t,t===gt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(T0(t,l,r),U0(t,ue()),t.callbackNode!=null&&t.callbackNode===a?B0.bind(null,t):null)}function q0(t,r){if(Mu())return null;T0(t,r,!0)}function oT(){yT(function(){(lt&6)!==0?Zt(it,aT):z0()})}function Uf(){return Zs===0&&(Zs=Po()),Zs}function H0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function G0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function lT(t,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var m=H0((d[It]||null).action),b=l.submitter;b&&(r=(r=b[It]||null)?H0(r.formAction):b.getAttribute("formAction"),r!==null&&(m=r,b=null));var T=new Ea("action","action",null,l,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var C=b?G0(d,b):new FormData(d);af(a,{pending:!0,data:C,method:d.method,action:m},null,C)}}else typeof m=="function"&&(T.preventDefault(),C=b?G0(d,b):new FormData(d),af(a,{pending:!0,data:C,method:d.method,action:m},m,C))},currentTarget:d}]})}}for(var Bf=0;Bf<wd.length;Bf++){var qf=wd[Bf],cT=qf.toLowerCase(),uT=qf[0].toUpperCase()+qf.slice(1);rr(cT,"on"+uT)}rr(Tp,"onAnimationEnd"),rr(wp,"onAnimationIteration"),rr(Sp,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(kE,"onTransitionRun"),rr(RE,"onTransitionStart"),rr(NE,"onTransitionCancel"),rr(Ap,"onTransitionEnd"),Hr("onMouseEnter",["mouseout","mouseover"]),Hr("onMouseLeave",["mouseout","mouseover"]),Hr("onPointerEnter",["pointerout","pointerover"]),Hr("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function F0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var b=l.length-1;0<=b;b--){var T=l[b],C=T.instance,G=T.currentTarget;if(T=T.listener,C!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=G;try{m(d)}catch(J){wu(J)}d.currentTarget=null,m=C}else for(b=0;b<l.length;b++){if(T=l[b],C=T.instance,G=T.currentTarget,T=T.listener,C!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=G;try{m(d)}catch(J){wu(J)}d.currentTarget=null,m=C}}}}function qe(t,r){var a=r[Bo];a===void 0&&(a=r[Bo]=new Set);var l=t+"__bubble";a.has(l)||($0(r,t,2,!1),a.add(l))}function Hf(t,r,a){var l=0;r&&(l|=4),$0(a,t,l,r)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function Gf(t){if(!t[Lu]){t[Lu]=!0,qo.forEach(function(a){a!=="selectionchange"&&(hT.has(a)||Hf(a,!1,t),Hf(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Lu]||(r[Lu]=!0,Hf("selectionchange",!1,r))}}function $0(t,r,a,l){switch(pv(r)){case 2:var d=LT;break;case 8:d=zT;break;default:d=im}a=d.bind(null,r,a,t),d=void 0,!qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,a,{capture:!0,passive:d}):t.addEventListener(r,a,!0):d!==void 0?t.addEventListener(r,a,{passive:d}):t.addEventListener(r,a,!1)}function Ff(t,r,a,l,d){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===d)break;if(b===4)for(b=l.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;T!==null;){if(b=qr(T),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){l=m=b;continue e}T=T.parentNode}}l=l.return}Uc(function(){var G=m,J=Bn(a),re=[];e:{var K=kp.get(t);if(K!==void 0){var Q=Ea,Ie=t;switch(t){case"keypress":if(_r(a)===0)break e;case"keydown":case"keyup":Q=Ra;break;case"focusin":Ie="focus",Q=Sa;break;case"focusout":Ie="blur",Q=Sa;break;case"beforeblur":case"afterblur":Q=Sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Qc;break;case Tp:case wp:case Sp:Q=Aa;break;case Ap:Q=Xc;break;case"scroll":case"scrollend":Q=Bc;break;case"wheel":Q=Na;break;case"copy":case"cut":case"paste":Q=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=el;break;case"toggle":case"beforetoggle":Q=Zc}var Te=(r&4)!==0,ft=!Te&&(t==="scroll"||t==="scrollend"),U=Te?K!==null?K+"Capture":null:K;Te=[];for(var V=G,H;V!==null;){var ne=V;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||U===null||(ne=Cs(V,U),ne!=null&&Te.push(Cl(V,ne,H))),ft)break;V=V.return}0<Te.length&&(K=new Q(K,Ie,null,a,J),re.push({event:K,listeners:Te}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",K&&a!==$r&&(Ie=a.relatedTarget||a.fromElement)&&(qr(Ie)||Ie[zn]))break e;if((Q||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(Ie=a.relatedTarget||a.toElement,Q=G,Ie=Ie?qr(Ie):null,Ie!==null&&(ft=c(Ie),Te=Ie.tag,Ie!==ft||Te!==5&&Te!==27&&Te!==6)&&(Ie=null)):(Q=null,Ie=G),Q!==Ie)){if(Te=Hn,ne="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Te=el,ne="onPointerLeave",U="onPointerEnter",V="pointer"),ft=Q==null?K:gr(Q),H=Ie==null?K:gr(Ie),K=new Te(ne,V+"leave",Q,a,J),K.target=ft,K.relatedTarget=H,ne=null,qr(J)===G&&(Te=new Te(U,V+"enter",Ie,a,J),Te.target=H,Te.relatedTarget=ft,ne=Te),ft=ne,Q&&Ie)t:{for(Te=Q,U=Ie,V=0,H=Te;H;H=eo(H))V++;for(H=0,ne=U;ne;ne=eo(ne))H++;for(;0<V-H;)Te=eo(Te),V--;for(;0<H-V;)U=eo(U),H--;for(;V--;){if(Te===U||U!==null&&Te===U.alternate)break t;Te=eo(Te),U=eo(U)}Te=null}else Te=null;Q!==null&&K0(re,K,Q,Te,!1),Ie!==null&&ft!==null&&K0(re,ft,Ie,Te,!0)}}e:{if(K=G?gr(G):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var _e=dp;else if(Bt(K))if(fp)_e=wE;else{_e=EE;var Ue=bE}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Ko(G.elementType)&&(_e=dp):_e=TE;if(_e&&(_e=_e(t,G))){Wr(re,_e,a,J);break e}Ue&&Ue(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Ii(K,"number",K.value)}switch(Ue=G?gr(G):window,t){case"focusin":(Bt(Ue)||Ue.contentEditable==="true")&&(Ia=Ue,bd=G,rl=null);break;case"focusout":rl=bd=Ia=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,bp(re,a,J);break;case"selectionchange":if(AE)break;case"keydown":case"keyup":bp(re,a,J)}var be;if(Er)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Qe?W(t,a)&&(Se="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(_&&a.locale!=="ko"&&(Qe||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Qe&&(be=Yo()):(vr=J,Ci="value"in vr?vr.value:vr.textContent,Qe=!0)),Ue=zu(G,Se),0<Ue.length&&(Se=new Zo(Se,t,null,a,J),re.push({event:Se,listeners:Ue}),be?Se.data=be:(be=he(a),be!==null&&(Se.data=be)))),(be=v?Ut(t,a):Ye(t,a))&&(Se=zu(G,"onBeforeInput"),0<Se.length&&(Ue=new Zo("onBeforeInput","beforeinput",null,a,J),re.push({event:Ue,listeners:Se}),Ue.data=be)),lT(re,t,G,a,J)}F0(re,r)})}function Cl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function zu(t,r){for(var a=r+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Cs(t,a),d!=null&&l.unshift(Cl(t,d,m)),d=Cs(t,r),d!=null&&l.push(Cl(t,d,m))),t.tag===3)return l;t=t.return}return[]}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function K0(t,r,a,l,d){for(var m=r._reactName,b=[];a!==null&&a!==l;){var T=a,C=T.alternate,G=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||G===null||(C=G,d?(G=Cs(a,m),G!=null&&b.unshift(Cl(a,G,C))):d||(G=Cs(a,m),G!=null&&b.push(Cl(a,G,C)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var dT=/\r\n?/g,fT=/\u0000|\uFFFD/g;function Q0(t){return(typeof t=="string"?t:""+t).replace(dT,`
`).replace(fT,"")}function Y0(t,r){return r=Q0(r),Q0(t)===r}function Uu(){}function dt(t,r,a,l,d,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Un(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Un(t,""+l);break;case"className":pr(t,"class",l);break;case"tabIndex":pr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(t,a,l);break;case"style":$o(t,l,m);break;case"data":if(r!=="object"){pr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&dt(t,r,"name",d.name,d,null),dt(t,r,"formEncType",d.formEncType,d,null),dt(t,r,"formMethod",d.formMethod,d,null),dt(t,r,"formTarget",d.formTarget,d,null)):(dt(t,r,"encType",d.encType,d,null),dt(t,r,"method",d.method,d,null),dt(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Uu);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":qe("beforetoggle",t),qe("toggle",t),Ni(t,"popover",l);break;case"xlinkActuate":Jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ni(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=md.get(a)||a,Ni(t,a,l))}}function $f(t,r,a,l,d,m){switch(a){case"style":$o(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Un(t,l):(typeof l=="number"||typeof l=="bigint")&&Un(t,""+l);break;case"onScroll":l!=null&&qe("scroll",t);break;case"onScrollEnd":l!=null&&qe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),m=t[It]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ni(t,a,l)}}}function rn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",t),qe("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:dt(t,r,m,b,a,null)}}d&&dt(t,r,"srcSet",a.srcSet,a,null),l&&dt(t,r,"src",a.src,a,null);return;case"input":qe("invalid",t);var T=m=b=d=null,C=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":d=J;break;case"type":b=J;break;case"checked":C=J;break;case"defaultChecked":G=J;break;case"value":m=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:dt(t,r,l,J,a,null)}}Rs(t,m,T,C,G,b,d,!1),xa(t);return;case"select":qe("invalid",t),l=b=m=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":m=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:dt(t,r,d,T,a,null)}r=m,a=b,t.multiple=!!l,r!=null?Fr(t,!!l,r,!1):a!=null&&Fr(t,!!l,a,!0);return;case"textarea":qe("invalid",t),m=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":d=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:dt(t,r,b,T,a,null)}Ns(t,l,d,m),xa(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:dt(t,r,C,l,a,null)}return;case"dialog":qe("beforetoggle",t),qe("toggle",t),qe("cancel",t),qe("close",t);break;case"iframe":case"object":qe("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)qe(Il[l],t);break;case"image":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"embed":case"source":case"link":qe("error",t),qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:dt(t,r,G,l,a,null)}return;default:if(Ko(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&$f(t,r,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&dt(t,r,T,l,a,null))}function mT(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,T=null,C=null,G=null,J=null;for(Q in a){var re=a[Q];if(a.hasOwnProperty(Q)&&re!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=re;default:l.hasOwnProperty(Q)||dt(t,r,Q,null,l,re)}}for(var K in l){var Q=l[K];if(re=a[K],l.hasOwnProperty(K)&&(Q!=null||re!=null))switch(K){case"type":m=Q;break;case"name":d=Q;break;case"checked":G=Q;break;case"defaultChecked":J=Q;break;case"value":b=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==re&&dt(t,r,K,Q,l,re)}}In(t,b,T,C,G,J,m,d);return;case"select":Q=b=T=K=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(m)||dt(t,r,m,null,l,C)}for(d in l)if(m=l[d],C=a[d],l.hasOwnProperty(d)&&(m!=null||C!=null))switch(d){case"value":K=m;break;case"defaultValue":T=m;break;case"multiple":b=m;default:m!==C&&dt(t,r,d,m,l,C)}r=T,a=b,l=Q,K!=null?Fr(t,!!a,K,!1):!!l!=!!a&&(r!=null?Fr(t,!!a,r,!0):Fr(t,!!a,a?[]:"",!1));return;case"textarea":Q=K=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:dt(t,r,T,null,l,d)}for(b in l)if(d=l[b],m=a[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":K=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&dt(t,r,b,d,l,m)}ut(t,K,Q);return;case"option":for(var Ie in a)if(K=a[Ie],a.hasOwnProperty(Ie)&&K!=null&&!l.hasOwnProperty(Ie))switch(Ie){case"selected":t.selected=!1;break;default:dt(t,r,Ie,null,l,K)}for(C in l)if(K=l[C],Q=a[C],l.hasOwnProperty(C)&&K!==Q&&(K!=null||Q!=null))switch(C){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:dt(t,r,C,K,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)K=a[Te],a.hasOwnProperty(Te)&&K!=null&&!l.hasOwnProperty(Te)&&dt(t,r,Te,null,l,K);for(G in l)if(K=l[G],Q=a[G],l.hasOwnProperty(G)&&K!==Q&&(K!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:dt(t,r,G,K,l,Q)}return;default:if(Ko(r)){for(var ft in a)K=a[ft],a.hasOwnProperty(ft)&&K!==void 0&&!l.hasOwnProperty(ft)&&$f(t,r,ft,void 0,l,K);for(J in l)K=l[J],Q=a[J],!l.hasOwnProperty(J)||K===Q||K===void 0&&Q===void 0||$f(t,r,J,K,l,Q);return}}for(var U in a)K=a[U],a.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&dt(t,r,U,null,l,K);for(re in l)K=l[re],Q=a[re],!l.hasOwnProperty(re)||K===Q||K==null&&Q==null||dt(t,r,re,K,l,Q)}var Kf=null,Qf=null;function Bu(t){return t.nodeType===9?t:t.ownerDocument}function X0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Yf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xf=null;function gT(){var t=window.event;return t&&t.type==="popstate"?t===Xf?!1:(Xf=t,!0):(Xf=null,!1)}var Z0=typeof setTimeout=="function"?setTimeout:void 0,pT=typeof clearTimeout=="function"?clearTimeout:void 0,J0=typeof Promise=="function"?Promise:void 0,yT=typeof queueMicrotask=="function"?queueMicrotask:typeof J0<"u"?function(t){return J0.resolve(null).then(t).catch(vT)}:Z0;function vT(t){setTimeout(function(){throw t})}function Ki(t){return t==="head"}function ev(t,r){var a=r,l=0,d=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&Dl(b.documentElement),a&2&&Dl(b.body),a&4)for(a=b.head,Dl(a),b=a.firstChild;b;){var T=b.nextSibling,C=b.nodeName;b[ws]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=T}}if(d===0){t.removeChild(m),Ul(r);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Ul(r)}function Wf(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wf(a),Ri(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _T(t,r,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ws])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=sr(t.nextSibling),t===null)break}return null}function xT(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=sr(t.nextSibling),t===null))return null;return t}function Zf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function bT(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function sr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Jf=null;function tv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function nv(t,r,a){switch(r=Bu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ri(t)}var Xn=new Map,rv=new Set;function qu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ui=ce.d;ce.d={f:ET,r:TT,D:wT,C:ST,L:AT,m:kT,X:NT,S:RT,M:IT};function ET(){var t=ui.f(),r=ju();return t||r}function TT(t){var r=mr(t);r!==null&&r.tag===5&&r.type==="form"?Ty(r):ui.r(t)}var to=typeof document>"u"?null:document;function iv(t,r,a){var l=to;if(l&&typeof r=="string"&&r){var d=Ct(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),rv.has(d)||(rv.add(d),t={rel:t,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),rn(r,"link",t),At(r),l.head.appendChild(r)))}}function wT(t){ui.D(t),iv("dns-prefetch",t,null)}function ST(t,r){ui.C(t,r),iv("preconnect",t,r)}function AT(t,r,a){ui.L(t,r,a);var l=to;if(l&&t&&r){var d='link[rel="preload"][as="'+Ct(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Ct(a.imageSizes)+'"]')):d+='[href="'+Ct(t)+'"]';var m=d;switch(r){case"style":m=no(t);break;case"script":m=ro(t)}Xn.has(m)||(t=x({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Xn.set(m,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(jl(m))||r==="script"&&l.querySelector(Ol(m))||(r=l.createElement("link"),rn(r,"link",t),At(r),l.head.appendChild(r)))}}function kT(t,r){ui.m(t,r);var a=to;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Ct(l)+'"][href="'+Ct(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ro(t)}if(!Xn.has(m)&&(t=x({rel:"modulepreload",href:t},r),Xn.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(m)))return}l=a.createElement("link"),rn(l,"link",t),At(l),a.head.appendChild(l)}}}function RT(t,r,a){ui.S(t,r,a);var l=to;if(l&&t){var d=pn(l).hoistableStyles,m=no(t);r=r||"default";var b=d.get(m);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(jl(m)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Xn.get(m))&&em(t,a);var C=b=l.createElement("link");At(C),rn(C,"link",t),C._p=new Promise(function(G,J){C.onload=G,C.onerror=J}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hu(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:T},d.set(m,b)}}}function NT(t,r){ui.X(t,r);var a=to;if(a&&t){var l=pn(a).hoistableScripts,d=ro(t),m=l.get(d);m||(m=a.querySelector(Ol(d)),m||(t=x({src:t,async:!0},r),(r=Xn.get(d))&&tm(t,r),m=a.createElement("script"),At(m),rn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function IT(t,r){ui.M(t,r);var a=to;if(a&&t){var l=pn(a).hoistableScripts,d=ro(t),m=l.get(d);m||(m=a.querySelector(Ol(d)),m||(t=x({src:t,async:!0,type:"module"},r),(r=Xn.get(d))&&tm(t,r),m=a.createElement("script"),At(m),rn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function sv(t,r,a,l){var d=(d=xe.current)?qu(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=no(a.href),a=pn(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=no(a.href);var m=pn(d).hoistableStyles,b=m.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=d.querySelector(jl(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(t,a),m||CT(d,t,a,b.state))),r&&l===null)throw Error(s(528,""));return b}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(a),a=pn(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function no(t){return'href="'+Ct(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function av(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function CT(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),rn(r,"link",a),At(r),t.head.appendChild(r))}function ro(t){return'[src="'+Ct(t)+'"]'}function Ol(t){return"script[async]"+t}function ov(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Ct(a.href)+'"]');if(l)return r.instance=l,At(l),l;var d=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),rn(l,"style",d),Hu(l,a.precedence,t),r.instance=l;case"stylesheet":d=no(a.href);var m=t.querySelector(jl(d));if(m)return r.state.loading|=4,r.instance=m,At(m),m;l=av(a),(d=Xn.get(d))&&em(l,d),m=(t.ownerDocument||t).createElement("link"),At(m);var b=m;return b._p=new Promise(function(T,C){b.onload=T,b.onerror=C}),rn(m,"link",l),r.state.loading|=4,Hu(m,a.precedence,t),r.instance=m;case"script":return m=ro(a.src),(d=t.querySelector(Ol(m)))?(r.instance=d,At(d),d):(l=a,(d=Xn.get(m))&&(l=x({},a),tm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),At(d),rn(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Hu(l,a.precedence,t));return r.instance}function Hu(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===r)m=T;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function em(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Gu=null;function lv(t,r,a){if(Gu===null){var l=new Map,d=Gu=new Map;d.set(a,l)}else d=Gu,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[ws]||m[zt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(r)||"";b=t+b;var T=l.get(b);T?T.push(m):l.set(b,[m])}}return l}function cv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function DT(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function jT(){}function OT(t,r,a){if(Ml===null)throw Error(s(475));var l=Ml;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=no(a.href),m=t.querySelector(jl(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Fu.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=m,At(m);return}m=t.ownerDocument||t,a=av(a),(d=Xn.get(d))&&em(a,d),m=m.createElement("link"),At(m);var b=m;b._p=new Promise(function(T,C){b.onload=T,b.onerror=C}),rn(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Fu.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function MT(){if(Ml===null)throw Error(s(475));var t=Ml;return t.stylesheets&&t.count===0&&nm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&nm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Fu(){if(this.count--,this.count===0){if(this.stylesheets)nm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $u=null;function nm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$u=new Map,r.forEach(VT,t),$u=null,Fu.call(t))}function VT(t,r){if(!(r.state.loading&4)){var a=$u.get(t);if(a)var l=a.get(null);else{a=new Map,$u.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=r.instance,b=d.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,d),a.set(b,d),this.count++,l=Fu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Vl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function PT(t,r,a,l,d,m,b,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.hiddenUpdates=Ur(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function hv(t,r,a,l,d,m,b,T,C,G,J,re){return t=new PT(t,r,a,b,T,C,G,re),r=1,m===!0&&(r|=24),m=Dn(3,null,null,r),t.current=m,m.stateNode=t,r=Vd(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Ud(m),t}function dv(t){return t?(t=Oa,t):Oa}function fv(t,r,a,l,d,m){d=dv(d),l.context===null?l.context=d:l.pendingContext=d,l=Oi(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Mi(t,l,r),a!==null&&(Pn(a,t,r),dl(a,t,r))}function mv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function rm(t,r){mv(t,r),(t=t.alternate)&&mv(t,r)}function gv(t){if(t.tag===13){var r=ja(t,67108864);r!==null&&Pn(r,t,67108864),rm(t,67108864)}}var Ku=!0;function LT(t,r,a,l){var d=Y.T;Y.T=null;var m=ce.p;try{ce.p=2,im(t,r,a,l)}finally{ce.p=m,Y.T=d}}function zT(t,r,a,l){var d=Y.T;Y.T=null;var m=ce.p;try{ce.p=8,im(t,r,a,l)}finally{ce.p=m,Y.T=d}}function im(t,r,a,l){if(Ku){var d=sm(l);if(d===null)Ff(t,r,l,Qu,a),yv(t,l);else if(BT(d,t,r,a,l))l.stopPropagation();else if(yv(t,l),r&4&&-1<UT.indexOf(t)){for(;d!==null;){var m=mr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=er(m.pendingLanes);if(b!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var C=1<<31-cn(b);T.entanglements[1]|=C,b&=~C}Rr(m),(lt&6)===0&&(Cu=ue()+500,Nl(0))}}break;case 13:T=ja(m,2),T!==null&&Pn(T,m,2),ju(),rm(m,2)}if(m=sm(l),m===null&&Ff(t,r,l,Qu,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Ff(t,r,l,null,a)}}function sm(t){return t=Bn(t),am(t)}var Qu=null;function am(t){if(Qu=null,t=qr(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Qu=t,null}function pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case it:return 2;case we:return 8;case Ke:case Ne:return 32;case Ce:return 268435456;default:return 32}default:return 32}}var om=!1,Qi=null,Yi=null,Xi=null,Pl=new Map,Ll=new Map,Wi=[],UT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yv(t,r){switch(t){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Pl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(r.pointerId)}}function zl(t,r,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},r!==null&&(r=mr(r),r!==null&&gv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function BT(t,r,a,l,d){switch(r){case"focusin":return Qi=zl(Qi,t,r,a,l,d),!0;case"dragenter":return Yi=zl(Yi,t,r,a,l,d),!0;case"mouseover":return Xi=zl(Xi,t,r,a,l,d),!0;case"pointerover":var m=d.pointerId;return Pl.set(m,zl(Pl.get(m)||null,t,r,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Ll.set(m,zl(Ll.get(m)||null,t,r,a,l,d)),!0}return!1}function vv(t){var r=qr(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,jc(t.priority,function(){if(a.tag===13){var l=Vn();l=Si(l);var d=ja(a,l);d!==null&&Pn(d,a,l),rm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=sm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$r=l,a.target.dispatchEvent(l),$r=null}else return r=mr(a),r!==null&&gv(r),t.blockedOn=a,!1;r.shift()}return!0}function _v(t,r,a){Yu(t)&&a.delete(r)}function qT(){om=!1,Qi!==null&&Yu(Qi)&&(Qi=null),Yi!==null&&Yu(Yi)&&(Yi=null),Xi!==null&&Yu(Xi)&&(Xi=null),Pl.forEach(_v),Ll.forEach(_v)}function Xu(t,r){t.blockedOn===r&&(t.blockedOn=null,om||(om=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qT)))}var Wu=null;function xv(t){Wu!==t&&(Wu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wu===t&&(Wu=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(am(l||a)===null)continue;break}var m=mr(a);m!==null&&(t.splice(r,3),r-=3,af(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Ul(t){function r(C){return Xu(C,t)}Qi!==null&&Xu(Qi,t),Yi!==null&&Xu(Yi,t),Xi!==null&&Xu(Xi,t),Pl.forEach(r),Ll.forEach(r);for(var a=0;a<Wi.length;a++){var l=Wi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)vv(a),a.blockedOn===null&&Wi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=d[It]||null;if(typeof m=="function")b||xv(a);else if(b){var T=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[It]||null)T=b.formAction;else if(am(d)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),xv(a)}}}function lm(t){this._internalRoot=t}Zu.prototype.render=lm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Vn();fv(a,l,t,r,null,null)},Zu.prototype.unmount=lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;fv(t.current,2,null,t,null,null),ju(),r[zn]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ai();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Wi.length&&r!==0&&r<Wi[a].priority;a++);Wi.splice(a,0,t),a===0&&vv(t)}};var bv=e.version;if(bv!=="19.1.1")throw Error(s(527,bv,"19.1.1"));ce.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var HT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{ze=Ju.inject(HT),Ze=Ju}catch{}}return ql.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",d=Py,m=Ly,b=zy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=hv(t,1,!1,null,null,a,l,d,m,b,T,null),t[zn]=r.current,Gf(t),new lm(r)},ql.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,d="",m=Py,b=Ly,T=zy,C=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=hv(t,1,!0,r,a??null,l,d,m,b,T,C,G),r.context=dv(null),a=r.current,l=Vn(),l=Si(l),d=Oi(l),d.callback=null,Mi(a,d,l),a=l,r.current.lanes=a,Br(r,a),Rr(r),t[zn]=r.current,Gf(t),new Zu(r)},ql.version="19.1.1",ql}var Cv;function ew(){if(Cv)return hm.exports;Cv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hm.exports=JT(),hm.exports}var tw=ew();const nw=vx(tw);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dv="popstate";function rw(i={}){function e(s,o){let{pathname:c,search:h,hash:g}=s.location;return Im("",{pathname:c,search:h,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:nc(o)}return sw(e,n,null,i)}function xt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function cr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iw(){return Math.random().toString(36).substring(2,10)}function jv(i,e){return{usr:i.state,key:i.key,idx:e}}function Im(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:n,key:e&&e.key||s||iw()}}function nc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function wo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function sw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,g="POP",p=null,y=x();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function x(){return(h.state||{idx:null}).idx}function E(){g="POP";let L=x(),F=L==null?null:L-y;y=L,p&&p({action:g,location:z.location,delta:F})}function S(L,F){g="PUSH";let $=Im(z.location,L,F);y=x()+1;let ae=jv($,y),ve=z.createHref($);try{h.pushState(ae,"",ve)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;o.location.assign(ve)}c&&p&&p({action:g,location:z.location,delta:1})}function M(L,F){g="REPLACE";let $=Im(z.location,L,F);y=x();let ae=jv($,y),ve=z.createHref($);h.replaceState(ae,"",ve),c&&p&&p({action:g,location:z.location,delta:0})}function q(L){return aw(L)}let z={get action(){return g},get location(){return i(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Dv,E),p=L,()=>{o.removeEventListener(Dv,E),p=null}},createHref(L){return e(o,L)},createURL:q,encodeLocation(L){let F=q(L);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:M,go(L){return h.go(L)}};return z}function aw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:nc(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function _x(i,e,n="/"){return ow(i,e,n,!1)}function ow(i,e,n,s){let o=typeof e=="string"?wo(e):e,c=vi(o.pathname||"/",n);if(c==null)return null;let h=xx(i);lw(h);let g=null;for(let p=0;g==null&&p<h.length;++p){let y=_w(c);g=yw(h[p],y,s)}return g}function xx(i,e=[],n=[],s="",o=!1){let c=(h,g,p=o,y)=>{let x={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&p)return;xt(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let E=fi([s,x.relativePath]),S=n.concat(x);h.children&&h.children.length>0&&(xt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),xx(h.children,e,S,E,p)),!(h.path==null&&!h.index)&&e.push({path:E,score:gw(E,h.index),routesMeta:S})};return i.forEach((h,g)=>{if(h.path===""||!h.path?.includes("?"))c(h,g);else for(let p of bx(h.path))c(h,g,!0,p)}),e}function bx(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=bx(s.join("/")),g=[];return g.push(...h.map(p=>p===""?c:[c,p].join("/"))),o&&g.push(...h),g.map(p=>i.startsWith("/")&&p===""?"/":p)}function lw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:pw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var cw=/^:[\w-]+$/,uw=3,hw=2,dw=1,fw=10,mw=-2,Ov=i=>i==="*";function gw(i,e){let n=i.split("/"),s=n.length;return n.some(Ov)&&(s+=mw),e&&(s+=hw),n.filter(o=>!Ov(o)).reduce((o,c)=>o+(cw.test(c)?uw:c===""?dw:fw),s)}function pw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function yw(i,e,n=!1){let{routesMeta:s}=i,o={},c="/",h=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},x),S=p.route;if(!E&&y&&n&&!s[s.length-1].route.index&&(E=xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:fi([c,E.pathname]),pathnameBase:Tw(fi([c,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(c=fi([c,E.pathnameBase]))}return h}function xh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=vw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:x,isOptional:E},S)=>{if(x==="*"){let q=g[S]||"";h=c.slice(0,c.length-q.length).replace(/(.)\/+$/,"$1")}const M=g[S];return E&&!M?y[x]=void 0:y[x]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:i}}function vw(i,e=!1,n=!0){cr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function _w(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function vi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function xw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?wo(i):i;return{pathname:n?n.startsWith("/")?n:bw(n,e):e,search:ww(s),hash:Sw(o)}}function bw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ew(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ag(i){let e=Ew(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function og(i,e,n,s=!1){let o;typeof i=="string"?o=wo(i):(o={...i},xt(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),xt(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),xt(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let c=i===""||o.pathname==="",h=c?"/":o.pathname,g;if(h==null)g=n;else{let E=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}g=E>=0?e[E]:"/"}let p=xw(o,g),y=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||x)&&(p.pathname+="/"),p}var fi=i=>i.join("/").replace(/\/\/+/g,"/"),Tw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),ww=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Sw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Aw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Ex=["POST","PUT","PATCH","DELETE"];new Set(Ex);var kw=["GET",...Ex];new Set(kw);var So=R.createContext(null);So.displayName="DataRouter";var zh=R.createContext(null);zh.displayName="DataRouterState";R.createContext(!1);var Tx=R.createContext({isTransitioning:!1});Tx.displayName="ViewTransition";var Rw=R.createContext(new Map);Rw.displayName="Fetchers";var Nw=R.createContext(null);Nw.displayName="Await";var dr=R.createContext(null);dr.displayName="Navigation";var yc=R.createContext(null);yc.displayName="Location";var Lr=R.createContext({outlet:null,matches:[],isDataRoute:!1});Lr.displayName="Route";var lg=R.createContext(null);lg.displayName="RouteError";function Iw(i,{relative:e}={}){xt(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=R.useContext(dr),{hash:o,pathname:c,search:h}=vc(i,{relative:e}),g=c;return n!=="/"&&(g=c==="/"?n:fi([n,c])),s.createHref({pathname:g,search:h,hash:o})}function Ao(){return R.useContext(yc)!=null}function ys(){return xt(Ao(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(yc).location}var wx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sx(i){R.useContext(dr).static||R.useLayoutEffect(i)}function Ax(){let{isDataRoute:i}=R.useContext(Lr);return i?Hw():Cw()}function Cw(){xt(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let i=R.useContext(So),{basename:e,navigator:n}=R.useContext(dr),{matches:s}=R.useContext(Lr),{pathname:o}=ys(),c=JSON.stringify(ag(s)),h=R.useRef(!1);return Sx(()=>{h.current=!0}),R.useCallback((p,y={})=>{if(cr(h.current,wx),!h.current)return;if(typeof p=="number"){n.go(p);return}let x=og(p,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:fi([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,o,i])}R.createContext(null);function vc(i,{relative:e}={}){let{matches:n}=R.useContext(Lr),{pathname:s}=ys(),o=JSON.stringify(ag(n));return R.useMemo(()=>og(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Dw(i,e){return kx(i,e)}function kx(i,e,n,s,o){xt(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=R.useContext(dr),{matches:h}=R.useContext(Lr),g=h[h.length-1],p=g?g.params:{},y=g?g.pathname:"/",x=g?g.pathnameBase:"/",E=g&&g.route;{let $=E&&E.path||"";Rx(y,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let S=ys(),M;if(e){let $=typeof e=="string"?wo(e):e;xt(x==="/"||$.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${$.pathname}" was given in the \`location\` prop.`),M=$}else M=S;let q=M.pathname||"/",z=q;if(x!=="/"){let $=x.replace(/^\//,"").split("/");z="/"+q.replace(/^\//,"").split("/").slice($.length).join("/")}let L=_x(i,{pathname:z});cr(E||L!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),cr(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=Pw(L&&L.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:fi([x,c.encodeLocation?c.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?x:fi([x,c.encodeLocation?c.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),h,n,s,o);return e&&F?R.createElement(yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},F):F}function jw(){let i=qw(),e=Aw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:c},"ErrorBoundary")," or"," ",R.createElement("code",{style:c},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:o},n):null,h)}var Ow=R.createElement(jw,null),Mw=class extends R.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?R.createElement(Lr.Provider,{value:this.props.routeContext},R.createElement(lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vw({routeContext:i,match:e,children:n}){let s=R.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Lr.Provider,{value:i},n)}function Pw(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,h=n?.errors;if(h!=null){let y=c.findIndex(x=>x.route.id&&h?.[x.route.id]!==void 0);xt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let g=!1,p=-1;if(n)for(let y=0;y<c.length;y++){let x=c[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=y),x.route.id){let{loaderData:E,errors:S}=n,M=x.route.loader&&!E.hasOwnProperty(x.route.id)&&(!S||S[x.route.id]===void 0);if(x.route.lazy||M){g=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((y,x,E)=>{let S,M=!1,q=null,z=null;n&&(S=h&&x.route.id?h[x.route.id]:void 0,q=x.route.errorElement||Ow,g&&(p<0&&E===0?(Rx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,z=null):p===E&&(M=!0,z=x.route.hydrateFallbackElement||null)));let L=e.concat(c.slice(0,E+1)),F=()=>{let $;return S?$=q:M?$=z:x.route.Component?$=R.createElement(x.route.Component,null):x.route.element?$=x.route.element:$=y,R.createElement(Vw,{match:x,routeContext:{outlet:y,matches:L,isDataRoute:n!=null},children:$})};return n&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?R.createElement(Mw,{location:n.location,revalidation:n.revalidation,component:q,error:S,children:F(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):F()},null)}function cg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lw(i){let e=R.useContext(So);return xt(e,cg(i)),e}function zw(i){let e=R.useContext(zh);return xt(e,cg(i)),e}function Uw(i){let e=R.useContext(Lr);return xt(e,cg(i)),e}function ug(i){let e=Uw(i),n=e.matches[e.matches.length-1];return xt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Bw(){return ug("useRouteId")}function qw(){let i=R.useContext(lg),e=zw("useRouteError"),n=ug("useRouteError");return i!==void 0?i:e.errors?.[n]}function Hw(){let{router:i}=Lw("useNavigate"),e=ug("useNavigate"),n=R.useRef(!1);return Sx(()=>{n.current=!0}),R.useCallback(async(o,c={})=>{cr(n.current,wx),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var Mv={};function Rx(i,e,n){!e&&!Mv[i]&&(Mv[i]=!0,cr(!1,n))}R.memo(Gw);function Gw({routes:i,future:e,state:n,unstable_onError:s}){return kx(i,void 0,n,s,e)}function rc({to:i,replace:e,state:n,relative:s}){xt(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(dr);cr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=R.useContext(Lr),{pathname:h}=ys(),g=Ax(),p=og(i,ag(c),h,s==="path"),y=JSON.stringify(p);return R.useEffect(()=>{g(JSON.parse(y),{replace:e,state:n,relative:s})},[g,y,s,e,n]),null}function io(i){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){xt(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),g=R.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof n=="string"&&(n=wo(n));let{pathname:p="/",search:y="",hash:x="",state:E=null,key:S="default"}=n,M=R.useMemo(()=>{let q=vi(p,h);return q==null?null:{location:{pathname:q,search:y,hash:x,state:E,key:S},navigationType:s}},[h,p,y,x,E,S,s]);return cr(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:R.createElement(dr.Provider,{value:g},R.createElement(yc.Provider,{children:e,value:M}))}function $w({children:i,location:e}){return Dw(Cm(i),e)}function Cm(i,e=[]){let n=[];return R.Children.forEach(i,(s,o)=>{if(!R.isValidElement(s))return;let c=[...e,o];if(s.type===R.Fragment){n.push.apply(n,Cm(s.props.children,c));return}xt(s.type===io,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Cm(s.props.children,c)),n.push(h)}),n}var lh="get",ch="application/x-www-form-urlencoded";function Uh(i){return i!=null&&typeof i.tagName=="string"}function Kw(i){return Uh(i)&&i.tagName.toLowerCase()==="button"}function Qw(i){return Uh(i)&&i.tagName.toLowerCase()==="form"}function Yw(i){return Uh(i)&&i.tagName.toLowerCase()==="input"}function Xw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ww(i,e){return i.button===0&&(!e||e==="_self")&&!Xw(i)}var eh=null;function Zw(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var Jw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pm(i){return i!=null&&!Jw.has(i)?(cr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):i}function eS(i,e){let n,s,o,c,h;if(Qw(i)){let g=i.getAttribute("action");s=g?vi(g,e):null,n=i.getAttribute("method")||lh,o=pm(i.getAttribute("enctype"))||ch,c=new FormData(i)}else if(Kw(i)||Yw(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||g.getAttribute("action");if(s=p?vi(p,e):null,n=i.getAttribute("formmethod")||g.getAttribute("method")||lh,o=pm(i.getAttribute("formenctype"))||pm(g.getAttribute("enctype"))||ch,c=new FormData(g,i),!Zw()){let{name:y,type:x,value:E}=i;if(x==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,E)}}else{if(Uh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,s=null,o=ch,h=i}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function tS(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&vi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function nS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function iS(i,e,n){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await nS(c,n);return h.links?h.links():[]}return[]}));return lS(s.flat(1).filter(rS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Vv(i,e,n,s,o,c){let h=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,g=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,y)=>h(p,y)||g(p,y)):c==="data"?e.filter((p,y)=>{let x=s.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(h(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function sS(i,e,{includeHydrateFallback:n}={}){return aS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function aS(i){return[...new Set(i)]}function oS(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function lS(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(oS(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function Nx(){let i=R.useContext(So);return hg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function cS(){let i=R.useContext(zh);return hg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var dg=R.createContext(void 0);dg.displayName="FrameworkContext";function Ix(){let i=R.useContext(dg);return hg(i,"You must render this element inside a <HydratedRouter> element"),i}function uS(i,e){let n=R.useContext(dg),[s,o]=R.useState(!1),[c,h]=R.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,S=R.useRef(null);R.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=F=>{F.forEach($=>{h($.isIntersecting)})},L=new IntersectionObserver(z,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[i]),R.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let M=()=>{o(!0)},q=()=>{o(!1),h(!1)};return n?i!=="intent"?[c,S,{}]:[c,S,{onFocus:Hl(g,M),onBlur:Hl(p,q),onMouseEnter:Hl(y,M),onMouseLeave:Hl(x,q),onTouchStart:Hl(E,M)}]:[!1,S,{}]}function Hl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function hS({page:i,...e}){let{router:n}=Nx(),s=R.useMemo(()=>_x(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?R.createElement(fS,{page:i,matches:s,...e}):null}function dS(i){let{manifest:e,routeModules:n}=Ix(),[s,o]=R.useState([]);return R.useEffect(()=>{let c=!1;return iS(i,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[i,e,n]),s}function fS({page:i,matches:e,...n}){let s=ys(),{manifest:o,routeModules:c}=Ix(),{basename:h}=Nx(),{loaderData:g,matches:p}=cS(),y=R.useMemo(()=>Vv(i,e,p,o,s,"data"),[i,e,p,o,s]),x=R.useMemo(()=>Vv(i,e,p,o,s,"assets"),[i,e,p,o,s]),E=R.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let q=new Set,z=!1;if(e.forEach(F=>{let $=o.routes[F.route.id];!$||!$.hasLoader||(!y.some(ae=>ae.route.id===F.route.id)&&F.route.id in g&&c[F.route.id]?.shouldRevalidate||$.hasClientLoader?z=!0:q.add(F.route.id))}),q.size===0)return[];let L=tS(i,h,"data");return z&&q.size>0&&L.searchParams.set("_routes",e.filter(F=>q.has(F.route.id)).map(F=>F.route.id).join(",")),[L.pathname+L.search]},[h,g,s,o,y,e,i,c]),S=R.useMemo(()=>sS(x,o),[x,o]),M=dS(x);return R.createElement(R.Fragment,null,E.map(q=>R.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),S.map(q=>R.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),M.map(({key:q,link:z})=>R.createElement("link",{key:q,nonce:n.nonce,...z})))}function mS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Cx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cx&&(window.__reactRouterVersion="7.9.1")}catch{}function gS({basename:i,children:e,window:n}){let s=R.useRef();s.current==null&&(s.current=rw({window:n,v5Compat:!0}));let o=s.current,[c,h]=R.useState({action:o.action,location:o.location}),g=R.useCallback(p=>{R.startTransition(()=>h(p))},[h]);return R.useLayoutEffect(()=>o.listen(g),[o,g]),R.createElement(Fw,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var Dx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jx=R.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:g,target:p,to:y,preventScrollReset:x,viewTransition:E,...S},M){let{basename:q}=R.useContext(dr),z=typeof y=="string"&&Dx.test(y),L,F=!1;if(typeof y=="string"&&z&&(L=y,Cx))try{let N=new URL(window.location.href),D=y.startsWith("//")?new URL(N.protocol+y):new URL(y),O=vi(D.pathname,q);D.origin===N.origin&&O!=null?y=O+D.search+D.hash:F=!0}catch{cr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=Iw(y,{relative:o}),[ae,ve,me]=uS(s,S),de=_S(y,{replace:h,state:g,target:p,preventScrollReset:x,relative:o,viewTransition:E});function j(N){e&&e(N),N.defaultPrevented||de(N)}let k=R.createElement("a",{...S,...me,href:L||$,onClick:F||c?e:j,ref:mS(M,ve),target:p,"data-discover":!z&&n==="render"?"true":void 0});return ae&&!z?R.createElement(R.Fragment,null,k,R.createElement(hS,{page:$})):k});jx.displayName="Link";var pS=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:g,children:p,...y},x){let E=vc(h,{relative:y.relative}),S=ys(),M=R.useContext(zh),{navigator:q,basename:z}=R.useContext(dr),L=M!=null&&wS(E)&&g===!0,F=q.encodeLocation?q.encodeLocation(E).pathname:E.pathname,$=S.pathname,ae=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||($=$.toLowerCase(),ae=ae?ae.toLowerCase():null,F=F.toLowerCase()),ae&&z&&(ae=vi(ae,z)||ae);const ve=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let me=$===F||!o&&$.startsWith(F)&&$.charAt(ve)==="/",de=ae!=null&&(ae===F||!o&&ae.startsWith(F)&&ae.charAt(F.length)==="/"),j={isActive:me,isPending:de,isTransitioning:L},k=me?e:void 0,N;typeof s=="function"?N=s(j):N=[s,me?"active":null,de?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(j):c;return R.createElement(jx,{...y,"aria-current":k,className:N,ref:x,style:D,to:h,viewTransition:g},typeof p=="function"?p(j):p)});pS.displayName="NavLink";var yS=R.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:h=lh,action:g,onSubmit:p,relative:y,preventScrollReset:x,viewTransition:E,...S},M)=>{let q=ES(),z=TS(g,{relative:y}),L=h.toLowerCase()==="get"?"get":"post",F=typeof g=="string"&&Dx.test(g),$=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let ve=ae.nativeEvent.submitter,me=ve?.getAttribute("formmethod")||h;q(ve||ae.currentTarget,{fetcherKey:e,method:me,navigate:n,replace:o,state:c,relative:y,preventScrollReset:x,viewTransition:E})};return R.createElement("form",{ref:M,method:L,action:z,onSubmit:s?p:$,...S,"data-discover":!F&&i==="render"?"true":void 0})});yS.displayName="Form";function vS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ox(i){let e=R.useContext(So);return xt(e,vS(i)),e}function _S(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:h}={}){let g=Ax(),p=ys(),y=vc(i,{relative:c});return R.useCallback(x=>{if(Ww(x,e)){x.preventDefault();let E=n!==void 0?n:nc(p)===nc(y);g(i,{replace:E,state:s,preventScrollReset:o,relative:c,viewTransition:h})}},[p,g,y,n,s,e,i,o,c,h])}var xS=0,bS=()=>`__${String(++xS)}__`;function ES(){let{router:i}=Ox("useSubmit"),{basename:e}=R.useContext(dr),n=Bw();return R.useCallback(async(s,o={})=>{let{action:c,method:h,encType:g,formData:p,body:y}=eS(s,e);if(o.navigate===!1){let x=o.fetcherKey||bS();await i.fetch(x,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||g,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function TS(i,{relative:e}={}){let{basename:n}=R.useContext(dr),s=R.useContext(Lr);xt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...vc(i||".",{relative:e})},h=ys();if(i==null){c.search=h.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(x=>x==="")){g.delete("index"),p.filter(E=>E).forEach(E=>g.append("index",E));let x=g.toString();c.search=x?`?${x}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:fi([n,c.pathname])),nc(c)}function wS(i,{relative:e}={}){let n=R.useContext(Tx);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ox("useViewTransitionState"),o=vc(i,{relative:e});if(!n.isTransitioning)return!1;let c=vi(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=vi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return xh(o.pathname,h)!=null||xh(o.pathname,c)!=null}const SS=()=>{};var Pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},AS=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],h=i[n++],g=i[n++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],h=o+1<i.length,g=h?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,x=c>>2,E=(c&3)<<4|g>>4;let S=(g&15)<<2|y>>6,M=y&63;p||(M=64,h||(S=64)),s.push(n[x],n[E],n[S],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Mx(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):AS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],g=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const E=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||g==null||y==null||E==null)throw new kS;const S=c<<2|g>>4;if(s.push(S),y!==64){const M=g<<4&240|y>>2;if(s.push(M),E!==64){const q=y<<6&192|E;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RS=function(i){const e=Mx(i);return Vx.encodeByteArray(e,!0)},Px=function(i){return RS(i).replace(/\./g,"")},Lx=function(i){try{return Vx.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=()=>NS().__FIREBASE_DEFAULTS__,CS=()=>{if(typeof process>"u"||typeof Pv>"u")return;const i=Pv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},DS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Lx(i[1]);return e&&JSON.parse(e)},Bh=()=>{try{return SS()||IS()||CS()||DS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},jS=i=>Bh()?.emulatorHosts?.[i],zx=()=>Bh()?.config,Ux=i=>Bh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bx(i){return(await fetch(i,{credentials:"include"})).ok}const Xl={};function MS(){const i={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?i.emulator.push(e):i.prod.push(e);return i}function VS(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Lv=!1;function PS(i,e){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||Xl[i]===e||Xl[i]||Lv)return;Xl[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=MS().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Lv=!0,h()},S}function x(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=VS(s),M=n("text"),q=document.getElementById(M)||document.createElement("span"),z=n("learnmore"),L=document.getElementById(z)||document.createElement("a"),F=n("preprendIcon"),$=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ae=S.element;g(ae),x(L,z);const ve=y();p($,F),ae.append($,q,L,ve),document.body.appendChild(ae)}c?(q.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function zS(){const i=Bh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BS(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function qS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HS(){const i=mn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function GS(){return!zS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="FirebaseError";class Ti extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=KS,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?QS(c,s):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new Ti(o,g,s)}}function QS(i,e){return i.replace(YS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const YS=/\{\$([^}]+)}/g;function XS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function na(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],h=e[o];if(zv(c)&&zv(h)){if(!na(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function zv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Fl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function WS(i,e){const n=new ZS(i,e);return n.subscribe.bind(n)}class ZS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");JS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JS(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(i){return i&&i._delegate?i._delegate:i}class ra{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new OS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nA(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tA(i){return i===Js?void 0:i}function nA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(He||(He={}));const iA={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},sA=He.INFO,aA={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},oA=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=aA[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fg{constructor(e){this.name=e,this._logLevel=sA,this._logHandler=oA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const lA=(i,e)=>e.some(n=>i instanceof n);let Uv,Bv;function cA(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uA(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qx=new WeakMap,Dm=new WeakMap,Hx=new WeakMap,vm=new WeakMap,mg=new WeakMap;function hA(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(ss(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&qx.set(n,i)}).catch(()=>{}),mg.set(e,i),e}function dA(i){if(Dm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Dm.set(i,e)}let jm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Dm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Hx.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function fA(i){jm=i(jm)}function mA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(_m(this),e,...n);return Hx.set(s,e.sort?e.sort():[e]),ss(s)}:uA().includes(i)?function(...e){return i.apply(_m(this),e),ss(qx.get(this))}:function(...e){return ss(i.apply(_m(this),e))}}function gA(i){return typeof i=="function"?mA(i):(i instanceof IDBTransaction&&dA(i),lA(i,cA())?new Proxy(i,jm):i)}function ss(i){if(i instanceof IDBRequest)return hA(i);if(vm.has(i))return vm.get(i);const e=gA(i);return e!==i&&(vm.set(i,e),mg.set(e,i)),e}const _m=i=>mg.get(i);function pA(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(i,e),g=ss(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ss(h.result),p.oldVersion,p.newVersion,ss(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const yA=["get","getKey","getAll","getAllKeys","count"],vA=["put","add","delete","clear"],xm=new Map;function qv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=vA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yA.includes(n)))return;const c=async function(h,...g){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),o&&p.done]))[0]};return xm.set(e,c),c}fA(i=>({...i,get:(e,n,s)=>qv(e,n)||i.get(e,n,s),has:(e,n)=>!!qv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function xA(i){return i.getComponent()?.type==="VERSION"}const Om="@firebase/app",Hv="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new fg("@firebase/app"),bA="@firebase/app-compat",EA="@firebase/analytics-compat",TA="@firebase/analytics",wA="@firebase/app-check-compat",SA="@firebase/app-check",AA="@firebase/auth",kA="@firebase/auth-compat",RA="@firebase/database",NA="@firebase/data-connect",IA="@firebase/database-compat",CA="@firebase/functions",DA="@firebase/functions-compat",jA="@firebase/installations",OA="@firebase/installations-compat",MA="@firebase/messaging",VA="@firebase/messaging-compat",PA="@firebase/performance",LA="@firebase/performance-compat",zA="@firebase/remote-config",UA="@firebase/remote-config-compat",BA="@firebase/storage",qA="@firebase/storage-compat",HA="@firebase/firestore",GA="@firebase/ai",FA="@firebase/firestore-compat",$A="firebase",KA="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="[DEFAULT]",QA={[Om]:"fire-core",[bA]:"fire-core-compat",[TA]:"fire-analytics",[EA]:"fire-analytics-compat",[SA]:"fire-app-check",[wA]:"fire-app-check-compat",[AA]:"fire-auth",[kA]:"fire-auth-compat",[RA]:"fire-rtdb",[NA]:"fire-data-connect",[IA]:"fire-rtdb-compat",[CA]:"fire-fn",[DA]:"fire-fn-compat",[jA]:"fire-iid",[OA]:"fire-iid-compat",[MA]:"fire-fcm",[VA]:"fire-fcm-compat",[PA]:"fire-perf",[LA]:"fire-perf-compat",[zA]:"fire-rc",[UA]:"fire-rc-compat",[BA]:"fire-gcs",[qA]:"fire-gcs-compat",[HA]:"fire-fst",[FA]:"fire-fst-compat",[GA]:"fire-vertex","fire-js":"fire-js",[$A]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new Map,YA=new Map,Vm=new Map;function Gv(i,e){try{i.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function po(i){const e=i.name;if(Vm.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,i);for(const n of ic.values())Gv(n,i);for(const n of YA.values())Gv(n,i);return!0}function gg(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Wn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new _c("app","Firebase",XA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=KA;function Gx(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Mm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(n||(n=zx()),!n)throw as.create("no-options");const c=ic.get(o);if(c){if(na(n,c.options)&&na(s,c.config))return c;throw as.create("duplicate-app",{appName:o})}const h=new rA(o);for(const p of Vm.values())h.addComponent(p);const g=new WA(n,s,h);return ic.set(o,g),g}function Fx(i=Mm){const e=ic.get(i);if(!e&&i===Mm&&zx())return Gx();if(!e)throw as.create("no-app",{appName:i});return e}function ZA(){return Array.from(ic.values())}function os(i,e,n){let s=QA[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(h.join(" "));return}po(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="firebase-heartbeat-database",e2=1,sc="firebase-heartbeat-store";let bm=null;function $x(){return bm||(bm=pA(JA,e2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(i=>{throw as.create("idb-open",{originalErrorMessage:i.message})})),bm}async function t2(i){try{const n=(await $x()).transaction(sc),s=await n.objectStore(sc).get(Kx(i));return await n.done,s}catch(e){if(e instanceof Ti)_i.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}}async function Fv(i,e){try{const s=(await $x()).transaction(sc,"readwrite");await s.objectStore(sc).put(e,Kx(i)),await s.done}catch(n){if(n instanceof Ti)_i.warn(n.message);else{const s=as.create("idb-set",{originalErrorMessage:n?.message});_i.warn(s.message)}}}function Kx(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=1024,r2=30;class i2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>r2){const o=o2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$v(),{heartbeatsToSend:n,unsentEntries:s}=s2(this._heartbeatsCache.heartbeats),o=Px(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _i.warn(e),""}}}function $v(){return new Date().toISOString().substring(0,10)}function s2(i,e=n2){const n=[];let s=i.slice();for(const o of i){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),Kv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Kv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class a2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Kv(i){return Px(JSON.stringify({version:2,heartbeats:i})).length}function o2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(i){po(new ra("platform-logger",e=>new _A(e),"PRIVATE")),po(new ra("heartbeat",e=>new i2(e),"PRIVATE")),os(Om,Hv,i),os(Om,Hv,"esm2020"),os("fire-js","")}l2("");function Qx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c2=Qx,Yx=new _c("auth","Firebase",Qx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new fg("@firebase/auth");function u2(i,...e){bh.logLevel<=He.WARN&&bh.warn(`Auth (${Ro}): ${i}`,...e)}function uh(i,...e){bh.logLevel<=He.ERROR&&bh.error(`Auth (${Ro}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(i,...e){throw pg(i,...e)}function Ir(i,...e){return pg(i,...e)}function Xx(i,e,n){const s={...c2(),[e]:n};return new _c("auth","Firebase",s).create(e,{appName:i.name})}function mi(i){return Xx(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Yx.create(i,...e)}function Ae(i,e,...n){if(!i)throw pg(e,...n)}function hi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw uh(e),new Error(e)}function xi(i,e){i||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){return typeof self<"u"&&self.location?.href||""}function h2(){return Qv()==="http:"||Qv()==="https:"}function Qv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h2()||BS()||"connection"in navigator)?navigator.onLine:!0}function f2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=LS()||qS()}get(){return d2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(i,e){xi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p2=new bc(3e4,6e4);function vs(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function _s(i,e,n,s,o={}){return Zx(i,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const g=xc({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...c};return US()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&ko(i.emulatorConfig.host)&&(y.credentials="include"),Wx.fetch()(await Jx(i,i.config.apiHost,n,g),y)})}async function Zx(i,e,n){i._canInitEmulator=!1;const s={...m2,...e};try{const o=new v2(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw th(i,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const g=c.ok?h.errorMessage:h.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw th(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw th(i,"user-disabled",h);const x=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Xx(i,x,y);ur(i,x)}}catch(o){if(o instanceof Ti)throw o;ur(i,"network-request-failed",{message:String(o)})}}async function Ec(i,e,n,s,o={}){const c=await _s(i,e,n,s,o);return"mfaPendingCredential"in c&&ur(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Jx(i,e,n,s){const o=`${e}${n}?${s}`,c=i,h=c.config.emulator?yg(i.config,o):`${i.config.apiScheme}://${o}`;return g2.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function y2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ir(this.auth,"network-request-failed")),p2.get())})}}function th(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ir(i,e,s);return o.customData._tokenResponse=n,o}function Yv(i){return i!==void 0&&i.enterprise!==void 0}class _2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function x2(i,e){return _s(i,"GET","/v2/recaptchaConfig",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(i,e){return _s(i,"POST","/v1/accounts:delete",e)}async function Eh(i,e){return _s(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E2(i,e=!1){const n=xn(i),s=await n.getIdToken(e),o=vg(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:Wl(Em(o.auth_time)),issuedAtTime:Wl(Em(o.iat)),expirationTime:Wl(Em(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Em(i){return Number(i)*1e3}function vg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Lx(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Xv(i){const e=vg(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ti&&T2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function T2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(i){const e=i.auth,n=await i.getIdToken(),s=await ac(i,Eh(e,{idToken:n}));Ae(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?e1(o.providerUserInfo):[],h=A2(i.providerData,c),g=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,y=g?p:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,x)}async function S2(i){const e=xn(i);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function e1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(i,e){const n=await Zx(i,{},async()=>{const s=xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,h=await Jx(i,o,"/v1/token",`key=${c}`),g=await i._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return i.emulatorConfig&&ko(i.emulatorConfig.host)&&(p.credentials="include"),Wx.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R2(i,e){return _s(i,"POST","/v2/accounts:revokeToken",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=Xv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await k2(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,h=new uo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ar{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new w2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E2(this,e)}reload(){return S2(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await ac(this,b2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:M,providerData:q,stsTokenManager:z}=n;Ae(E&&z,e,"internal-error");const L=uo.fromJSON(this.name,z);Ae(typeof E=="string",e,"internal-error"),Ji(s,e.name),Ji(o,e.name),Ae(typeof S=="boolean",e,"internal-error"),Ae(typeof M=="boolean",e,"internal-error"),Ji(c,e.name),Ji(h,e.name),Ji(g,e.name),Ji(p,e.name),Ji(y,e.name),Ji(x,e.name);const F=new ar({uid:E,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:c,tenantId:g,stsTokenManager:L,createdAt:y,lastLoginAt:x});return q&&Array.isArray(q)&&(F.providerData=q.map($=>({...$}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const c=new ar({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Th(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?e1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,g=new uo;g.updateFromIdToken(s);const p=new ar({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=new Map;function di(i){xi(i instanceof Function,"Expected a class definition");let e=Wv.get(i);return e?(xi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Wv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}t1.type="NONE";const Zv=t1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(i,e,n){return`firebase:${i}:${e}:${n}`}class ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,c),this.fullPersistenceKey=hh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eh(this.auth,{idToken:e}).catch(()=>{});return n?ar._fromGetAccountInfoResponse(this.auth,n,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ho(di(Zv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||di(Zv);const h=hh(s,e.config.apiKey,e.name);let g=null;for(const y of n)try{const x=await y._get(h);if(x){let E;if(typeof x=="string"){const S=await Eh(e,{idToken:x}).catch(()=>{});if(!S)break;E=await ar._fromGetAccountInfoResponse(e,S,x)}else E=ar._fromJSON(e,x);y!==c&&(g=E),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new ho(c,e,s):(c=p[0],g&&await c._set(h,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new ho(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o1(e))return"Blackberry";if(l1(e))return"Webos";if(r1(e))return"Safari";if((e.includes("chrome/")||i1(e))&&!e.includes("edge/"))return"Chrome";if(a1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function n1(i=mn()){return/firefox\//i.test(i)}function r1(i=mn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i1(i=mn()){return/crios\//i.test(i)}function s1(i=mn()){return/iemobile/i.test(i)}function a1(i=mn()){return/android/i.test(i)}function o1(i=mn()){return/blackberry/i.test(i)}function l1(i=mn()){return/webos/i.test(i)}function _g(i=mn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function N2(i=mn()){return _g(i)&&!!window.navigator?.standalone}function I2(){return HS()&&document.documentMode===10}function c1(i=mn()){return _g(i)||a1(i)||l1(i)||o1(i)||/windows phone/i.test(i)||s1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(i,e=[]){let n;switch(i){case"Browser":n=Jv(mn());break;case"Worker":n=`${Jv(mn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((h,g)=>{try{const p=e(c);h(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(i,e={}){return _s(i,"GET","/v2/passwordPolicy",vs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=6;class O2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??j2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e_(this),this.idTokenSubscription=new e_(this),this.beforeStateQueue=new C2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eh(this,{idToken:e}),s=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===h)&&g?.user&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(mi(this));const n=e?xn(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D2(this),n=new O2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await R2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&u2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function la(i){return xn(i)}class e_{constructor(e){this.auth=e,this.observer=null,this.addObserver=WS(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V2(i){qh=i}function h1(i){return qh.loadJS(i)}function P2(){return qh.recaptchaEnterpriseScript}function L2(){return qh.gapiScript}function z2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class U2{constructor(){this.enterprise=new B2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class B2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const q2="recaptcha-enterprise",d1="NO_RECAPTCHA";class H2{constructor(e){this.type=q2,this.auth=la(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,g)=>{x2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new _2(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(p=>{g(p)})})}function o(c,h,g){const p=window.grecaptcha;Yv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(d1)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new U2().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(g=>{if(!n&&Yv(window.grecaptcha))o(g,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=P2();p.length!==0&&(p+=g),h1(p).then(()=>{o(g,c,h)}).catch(y=>{h(y)})}}).catch(g=>{h(g)})})}}async function t_(i,e,n,s=!1,o=!1){const c=new H2(i);let h;if(o)h=d1;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:h}):Object.assign(g,{captchaResponse:h}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function zm(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await t_(i,e,n,n==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await t_(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(i,e){const n=gg(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(na(c,e??{}))return o;ur(o,"already-initialized")}return n.initialize({options:e})}function F2(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(di);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function $2(i,e,n){const s=la(i);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=f1(e),{host:h,port:g}=K2(e),p=g===null?"":`:${g}`,y={url:`${c}//${h}${p}/`},x=Object.freeze({host:h,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(na(y,s.config.emulator)&&na(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,ko(h)?(Bx(`${c}//${h}${p}`),PS("Auth",!0)):Q2()}function f1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function K2(i){const e=f1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:n_(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:n_(h)}}}function n_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Q2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function Y2(i,e){return _s(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(i,e){return Ec(i,"POST","/v1/accounts:signInWithPassword",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(i,e){return Ec(i,"POST","/v1/accounts:signInWithEmailLink",vs(i,e))}async function Z2(i,e){return Ec(i,"POST","/v1/accounts:signInWithEmailLink",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends xg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new oc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new oc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,n,"signInWithPassword",X2);case"emailLink":return W2(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,s,"signUpPassword",Y2);case"emailLink":return Z2(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(i,e){return Ec(i,"POST","/v1/accounts:signInWithIdp",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="http://localhost";class ia extends xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const h=new ia(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:J2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tk(i){const e=Gl(Fl(i)).link,n=e?Gl(Fl(e)).deep_link_id:null,s=Gl(Fl(i)).deep_link_id;return(s?Gl(Fl(s)).link:null)||s||n||e||i}class bg{constructor(e){const n=Gl(Fl(e)),s=n.apiKey??null,o=n.oobCode??null,c=ek(n.mode??null);Ae(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=tk(e);try{return new bg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return oc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=bg.parseLink(n);return Ae(s,"argument-error"),oc._fromEmailAndCode(e,s.code,s.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends m1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Tc{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Tc{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Tc{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(i,e){return Ec(i,"POST","/v1/accounts:signUp",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await ar._fromIdTokenResponse(e,s,o),h=r_(s);return new sa({user:c,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=r_(s);return new sa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function r_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends Ti{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new wh(e,n,s,o)}}function g1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(i,c,e,s):c})}async function rk(i,e,n=!1){const s=await ac(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return sa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(i,e,n=!1){const{auth:s}=i;if(Wn(s.app))return Promise.reject(mi(s));const o="reauthenticate";try{const c=await ac(i,g1(s,o,e,i),n);Ae(c.idToken,s,"internal-error");const h=vg(c.idToken);Ae(h,s,"internal-error");const{sub:g}=h;return Ae(i.uid===g,s,"user-mismatch"),sa._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ur(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(i,e,n=!1){if(Wn(i.app))return Promise.reject(mi(i));const s="signIn",o=await g1(i,s,e),c=await sa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}async function sk(i,e){return p1(la(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(i){const e=la(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ak(i,e,n){if(Wn(i.app))return Promise.reject(mi(i));const s=la(i),h=await zm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nk).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&y1(i),p}),g=await sa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(g.user),g}function ok(i,e,n){return Wn(i.app)?Promise.reject(mi(i)):sk(xn(i),No.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&y1(i),s})}function lk(i,e,n,s){return xn(i).onIdTokenChanged(e,n,s)}function ck(i,e,n){return xn(i).beforeAuthStateChanged(e,n)}function uk(i,e,n,s){return xn(i).onAuthStateChanged(e,n,s)}function hk(i){return xn(i).signOut()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=1e3,fk=10;class _1 extends v1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,g,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);I2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fk):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},dk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_1.type="LOCAL";const mk=_1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends v1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}x1.type="SESSION";const b1=x1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(h).map(async y=>y(n.origin,c)),p=await gk(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((g,p)=>{const y=Eg("",20);o.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(S.data.response);break;default:clearTimeout(x),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function yk(i){Cr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function vk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _k(){return navigator?.serviceWorker?.controller||null}function xk(){return E1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firebaseLocalStorageDb",bk=1,Ah="firebaseLocalStorage",w1="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(i,e){return i.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function Ek(){const i=indexedDB.deleteDatabase(T1);return new wc(i).toPromise()}function Um(){const i=indexedDB.open(T1,bk);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ah,{keyPath:w1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ah)?e(s):(s.close(),await Ek(),e(await Um()))})})}async function i_(i,e,n){const s=Gh(i,!0).put({[w1]:e,value:n});return new wc(s).toPromise()}async function Tk(i,e){const n=Gh(i,!1).get(e),s=await new wc(n).toPromise();return s===void 0?null:s.value}function s_(i,e){const n=Gh(i,!0).delete(e);return new wc(n).toPromise()}const wk=800,Sk=3;class S1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Sk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(xk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vk(),!this.activeServiceWorker)return;this.sender=new pk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_k()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await i_(e,Sh,"1"),await s_(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>i_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Tk(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Gh(o,!1).getAll();return new wc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S1.type="LOCAL";const Ak=S1;new bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(i,e){return e?di(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Rk(i){return p1(i.auth,new Tg(i),i.bypassAuthState)}function Nk(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),ik(n,new Tg(i),i.bypassAuthState)}async function Ik(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),rk(n,new Tg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:h,type:g}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rk;case"linkViaPopup":case"linkViaRedirect":return Ik;case"reauthViaPopup":case"reauthViaRedirect":return Nk;default:ur(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new bc(2e3,1e4);class co extends A1{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ck.get())};e()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="pendingRedirect",dh=new Map;class jk extends A1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const s=await Ok(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ok(i,e){const n=Pk(e),s=Vk(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Mk(i,e){dh.set(i._key(),e)}function Vk(i){return di(i._redirectPersistence)}function Pk(i){return hh(Dk,i.config.apiKey,i.name)}async function Lk(i,e,n=!1){if(Wn(i.app))return Promise.reject(mi(i));const s=la(i),o=kk(s,e),h=await new jk(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=600*1e3;class Uk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!k1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ir(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zk&&this.cachedEventUids.clear(),this.cachedEventUids.has(a_(e))}saveEventToCache(e){this.cachedEventUids.add(a_(e)),this.lastProcessedEventTime=Date.now()}}function a_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function k1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function Bk(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(i,e={}){return _s(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gk=/^https?/;async function Fk(i){if(i.config.emulator)return;const{authorizedDomains:e}=await qk(i);for(const n of e)try{if($k(n))return}catch{}ur(i,"unauthorized-domain")}function $k(i){const e=Pm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!Gk.test(n))return!1;if(Hk.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=new bc(3e4,6e4);function o_(){const i=Cr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Qk(i){return new Promise((e,n)=>{function s(){o_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o_(),n(Ir(i,"network-request-failed"))},timeout:Kk.get()})}if(Cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Cr().gapi?.load)s();else{const o=z2("iframefcb");return Cr()[o]=()=>{gapi.load?s():n(Ir(i,"network-request-failed"))},h1(`${L2()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw fh=null,e})}let fh=null;function Yk(i){return fh=fh||Qk(i),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new bc(5e3,15e3),Wk="__/auth/iframe",Zk="emulator/auth/iframe",Jk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tR(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?yg(e,Zk):`https://${i.config.authDomain}/${Wk}`,s={apiKey:e.apiKey,appName:i.name,v:Ro},o=eR.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${xc(s).slice(1)}`}async function nR(i){const e=await Yk(i),n=Cr().gapi;return Ae(n,i,"internal-error"),e.open({where:document.body,url:tR(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jk,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=Ir(i,"network-request-failed"),g=Cr().setTimeout(()=>{c(h)},Xk.get());function p(){Cr().clearTimeout(g),o(s)}s.ping(p).then(p,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iR=500,sR=600,aR="_blank",oR="http://localhost";class l_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lR(i,e,n,s=iR,o=sR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...rR,width:s.toString(),height:o.toString(),top:c,left:h},y=mn().toLowerCase();n&&(g=i1(y)?aR:n),n1(y)&&(e=e||oR,p.scrollbars="yes");const x=Object.entries(p).reduce((S,[M,q])=>`${S}${M}=${q},`,"");if(N2(y)&&g!=="_self")return cR(e||"",g),new l_(null);const E=window.open(e||"",g,x);Ae(E,i,"popup-blocked");try{E.focus()}catch{}return new l_(E)}function cR(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="__/auth/handler",hR="emulator/auth/handler",dR=encodeURIComponent("fac");async function c_(i,e,n,s,o,c){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ro,eventId:o};if(e instanceof m1){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",XS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))h[x]=E}if(e instanceof Tc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(h.scopes=x.join(","))}i.tenantId&&(h.tid=i.tenantId);const g=h;for(const x of Object.keys(g))g[x]===void 0&&delete g[x];const p=await i._getAppCheckToken(),y=p?`#${dR}=${encodeURIComponent(p)}`:"";return`${fR(i)}?${xc(g).slice(1)}${y}`}function fR({config:i}){return i.emulator?yg(i,hR):`https://${i.authDomain}/${uR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class mR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b1,this._completeRedirectFn=Lk,this._overrideRedirectResult=Mk}async _openPopup(e,n,s,o){xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await c_(e,n,s,Pm(),o);return lR(e,c,Eg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await c_(e,n,s,Pm(),o);return yk(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(xi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await nR(e),s=new Uk(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{const c=o?.[0]?.[Tm];c!==void 0&&n(!!c),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Fk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return c1()||r1()||_g()}}const gR=mR;var u_="@firebase/auth",h_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vR(i){po(new ra("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=s.options;Ae(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:g,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u1(i)},y=new M2(s,o,c,p);return F2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),po(new ra("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(s=>new pR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(u_,h_,yR(i)),os(u_,h_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=300,xR=Ux("authIdTokenMaxAge")||_R;let d_=null;const bR=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>xR)return;const o=n?.token;d_!==o&&(d_=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ER(i=Fx()){const e=gg(i,"auth");if(e.isInitialized())return e.getImmediate();const n=G2(i,{popupRedirectResolver:gR,persistence:[Ak,mk,b1]}),s=Ux("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=bR(c.toString());ck(n,h,()=>h(n.currentUser)),lk(n,g=>h(g))}}const o=jS("auth");return o&&$2(n,`http://${o}`),n}function TR(){return document.getElementsByTagName("head")?.[0]??document}V2({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=Ir("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",TR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vR("Browser");var wR="firebase",SR="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(wR,SR,"app");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,R1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,k){function N(){}N.prototype=k.prototype,j.D=k.prototype,j.prototype=new N,j.prototype.constructor=j,j.C=function(D,O,P){for(var I=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)I[$e-2]=arguments[$e];return k.prototype[O].apply(D,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,k,N){N||(N=0);var D=Array(16);if(typeof k=="string")for(var O=0;16>O;++O)D[O]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(O=0;16>O;++O)D[O]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=j.g[0],N=j.g[1],O=j.g[2];var P=j.g[3],I=k+(P^N&(O^P))+D[0]+3614090360&4294967295;k=N+(I<<7&4294967295|I>>>25),I=P+(O^k&(N^O))+D[1]+3905402710&4294967295,P=k+(I<<12&4294967295|I>>>20),I=O+(N^P&(k^N))+D[2]+606105819&4294967295,O=P+(I<<17&4294967295|I>>>15),I=N+(k^O&(P^k))+D[3]+3250441966&4294967295,N=O+(I<<22&4294967295|I>>>10),I=k+(P^N&(O^P))+D[4]+4118548399&4294967295,k=N+(I<<7&4294967295|I>>>25),I=P+(O^k&(N^O))+D[5]+1200080426&4294967295,P=k+(I<<12&4294967295|I>>>20),I=O+(N^P&(k^N))+D[6]+2821735955&4294967295,O=P+(I<<17&4294967295|I>>>15),I=N+(k^O&(P^k))+D[7]+4249261313&4294967295,N=O+(I<<22&4294967295|I>>>10),I=k+(P^N&(O^P))+D[8]+1770035416&4294967295,k=N+(I<<7&4294967295|I>>>25),I=P+(O^k&(N^O))+D[9]+2336552879&4294967295,P=k+(I<<12&4294967295|I>>>20),I=O+(N^P&(k^N))+D[10]+4294925233&4294967295,O=P+(I<<17&4294967295|I>>>15),I=N+(k^O&(P^k))+D[11]+2304563134&4294967295,N=O+(I<<22&4294967295|I>>>10),I=k+(P^N&(O^P))+D[12]+1804603682&4294967295,k=N+(I<<7&4294967295|I>>>25),I=P+(O^k&(N^O))+D[13]+4254626195&4294967295,P=k+(I<<12&4294967295|I>>>20),I=O+(N^P&(k^N))+D[14]+2792965006&4294967295,O=P+(I<<17&4294967295|I>>>15),I=N+(k^O&(P^k))+D[15]+1236535329&4294967295,N=O+(I<<22&4294967295|I>>>10),I=k+(O^P&(N^O))+D[1]+4129170786&4294967295,k=N+(I<<5&4294967295|I>>>27),I=P+(N^O&(k^N))+D[6]+3225465664&4294967295,P=k+(I<<9&4294967295|I>>>23),I=O+(k^N&(P^k))+D[11]+643717713&4294967295,O=P+(I<<14&4294967295|I>>>18),I=N+(P^k&(O^P))+D[0]+3921069994&4294967295,N=O+(I<<20&4294967295|I>>>12),I=k+(O^P&(N^O))+D[5]+3593408605&4294967295,k=N+(I<<5&4294967295|I>>>27),I=P+(N^O&(k^N))+D[10]+38016083&4294967295,P=k+(I<<9&4294967295|I>>>23),I=O+(k^N&(P^k))+D[15]+3634488961&4294967295,O=P+(I<<14&4294967295|I>>>18),I=N+(P^k&(O^P))+D[4]+3889429448&4294967295,N=O+(I<<20&4294967295|I>>>12),I=k+(O^P&(N^O))+D[9]+568446438&4294967295,k=N+(I<<5&4294967295|I>>>27),I=P+(N^O&(k^N))+D[14]+3275163606&4294967295,P=k+(I<<9&4294967295|I>>>23),I=O+(k^N&(P^k))+D[3]+4107603335&4294967295,O=P+(I<<14&4294967295|I>>>18),I=N+(P^k&(O^P))+D[8]+1163531501&4294967295,N=O+(I<<20&4294967295|I>>>12),I=k+(O^P&(N^O))+D[13]+2850285829&4294967295,k=N+(I<<5&4294967295|I>>>27),I=P+(N^O&(k^N))+D[2]+4243563512&4294967295,P=k+(I<<9&4294967295|I>>>23),I=O+(k^N&(P^k))+D[7]+1735328473&4294967295,O=P+(I<<14&4294967295|I>>>18),I=N+(P^k&(O^P))+D[12]+2368359562&4294967295,N=O+(I<<20&4294967295|I>>>12),I=k+(N^O^P)+D[5]+4294588738&4294967295,k=N+(I<<4&4294967295|I>>>28),I=P+(k^N^O)+D[8]+2272392833&4294967295,P=k+(I<<11&4294967295|I>>>21),I=O+(P^k^N)+D[11]+1839030562&4294967295,O=P+(I<<16&4294967295|I>>>16),I=N+(O^P^k)+D[14]+4259657740&4294967295,N=O+(I<<23&4294967295|I>>>9),I=k+(N^O^P)+D[1]+2763975236&4294967295,k=N+(I<<4&4294967295|I>>>28),I=P+(k^N^O)+D[4]+1272893353&4294967295,P=k+(I<<11&4294967295|I>>>21),I=O+(P^k^N)+D[7]+4139469664&4294967295,O=P+(I<<16&4294967295|I>>>16),I=N+(O^P^k)+D[10]+3200236656&4294967295,N=O+(I<<23&4294967295|I>>>9),I=k+(N^O^P)+D[13]+681279174&4294967295,k=N+(I<<4&4294967295|I>>>28),I=P+(k^N^O)+D[0]+3936430074&4294967295,P=k+(I<<11&4294967295|I>>>21),I=O+(P^k^N)+D[3]+3572445317&4294967295,O=P+(I<<16&4294967295|I>>>16),I=N+(O^P^k)+D[6]+76029189&4294967295,N=O+(I<<23&4294967295|I>>>9),I=k+(N^O^P)+D[9]+3654602809&4294967295,k=N+(I<<4&4294967295|I>>>28),I=P+(k^N^O)+D[12]+3873151461&4294967295,P=k+(I<<11&4294967295|I>>>21),I=O+(P^k^N)+D[15]+530742520&4294967295,O=P+(I<<16&4294967295|I>>>16),I=N+(O^P^k)+D[2]+3299628645&4294967295,N=O+(I<<23&4294967295|I>>>9),I=k+(O^(N|~P))+D[0]+4096336452&4294967295,k=N+(I<<6&4294967295|I>>>26),I=P+(N^(k|~O))+D[7]+1126891415&4294967295,P=k+(I<<10&4294967295|I>>>22),I=O+(k^(P|~N))+D[14]+2878612391&4294967295,O=P+(I<<15&4294967295|I>>>17),I=N+(P^(O|~k))+D[5]+4237533241&4294967295,N=O+(I<<21&4294967295|I>>>11),I=k+(O^(N|~P))+D[12]+1700485571&4294967295,k=N+(I<<6&4294967295|I>>>26),I=P+(N^(k|~O))+D[3]+2399980690&4294967295,P=k+(I<<10&4294967295|I>>>22),I=O+(k^(P|~N))+D[10]+4293915773&4294967295,O=P+(I<<15&4294967295|I>>>17),I=N+(P^(O|~k))+D[1]+2240044497&4294967295,N=O+(I<<21&4294967295|I>>>11),I=k+(O^(N|~P))+D[8]+1873313359&4294967295,k=N+(I<<6&4294967295|I>>>26),I=P+(N^(k|~O))+D[15]+4264355552&4294967295,P=k+(I<<10&4294967295|I>>>22),I=O+(k^(P|~N))+D[6]+2734768916&4294967295,O=P+(I<<15&4294967295|I>>>17),I=N+(P^(O|~k))+D[13]+1309151649&4294967295,N=O+(I<<21&4294967295|I>>>11),I=k+(O^(N|~P))+D[4]+4149444226&4294967295,k=N+(I<<6&4294967295|I>>>26),I=P+(N^(k|~O))+D[11]+3174756917&4294967295,P=k+(I<<10&4294967295|I>>>22),I=O+(k^(P|~N))+D[2]+718787259&4294967295,O=P+(I<<15&4294967295|I>>>17),I=N+(P^(O|~k))+D[9]+3951481745&4294967295,j.g[0]=j.g[0]+k&4294967295,j.g[1]=j.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,j.g[2]=j.g[2]+O&4294967295,j.g[3]=j.g[3]+P&4294967295}s.prototype.u=function(j,k){k===void 0&&(k=j.length);for(var N=k-this.blockSize,D=this.B,O=this.h,P=0;P<k;){if(O==0)for(;P<=N;)o(this,j,P),P+=this.blockSize;if(typeof j=="string"){for(;P<k;)if(D[O++]=j.charCodeAt(P++),O==this.blockSize){o(this,D),O=0;break}}else for(;P<k;)if(D[O++]=j[P++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=k},s.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var k=1;k<j.length-8;++k)j[k]=0;var N=8*this.o;for(k=j.length-8;k<j.length;++k)j[k]=N&255,N/=256;for(this.u(j),j=Array(16),k=N=0;4>k;++k)for(var D=0;32>D;D+=8)j[N++]=this.g[k]>>>D&255;return j};function c(j,k){var N=g;return Object.prototype.hasOwnProperty.call(N,j)?N[j]:N[j]=k(j)}function h(j,k){this.h=k;for(var N=[],D=!0,O=j.length-1;0<=O;O--){var P=j[O]|0;D&&P==k||(N[O]=P,D=!1)}this.g=N}var g={};function p(j){return-128<=j&&128>j?c(j,function(k){return new h([k|0],0>k?-1:0)}):new h([j|0],0>j?-1:0)}function y(j){if(isNaN(j)||!isFinite(j))return E;if(0>j)return L(y(-j));for(var k=[],N=1,D=0;j>=N;D++)k[D]=j/N|0,N*=4294967296;return new h(k,0)}function x(j,k){if(j.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(j.charAt(0)=="-")return L(x(j.substring(1),k));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=y(Math.pow(k,8)),D=E,O=0;O<j.length;O+=8){var P=Math.min(8,j.length-O),I=parseInt(j.substring(O,O+P),k);8>P?(P=y(Math.pow(k,P)),D=D.j(P).add(y(I))):(D=D.j(N),D=D.add(y(I)))}return D}var E=p(0),S=p(1),M=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-L(this).m();for(var j=0,k=1,N=0;N<this.g.length;N++){var D=this.i(N);j+=(0<=D?D:4294967296+D)*k,k*=4294967296}return j},i.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(q(this))return"0";if(z(this))return"-"+L(this).toString(j);for(var k=y(Math.pow(j,6)),N=this,D="";;){var O=ve(N,k).g;N=F(N,O.j(k));var P=((0<N.g.length?N.g[0]:N.h)>>>0).toString(j);if(N=O,q(N))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},i.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function q(j){if(j.h!=0)return!1;for(var k=0;k<j.g.length;k++)if(j.g[k]!=0)return!1;return!0}function z(j){return j.h==-1}i.l=function(j){return j=F(this,j),z(j)?-1:q(j)?0:1};function L(j){for(var k=j.g.length,N=[],D=0;D<k;D++)N[D]=~j.g[D];return new h(N,~j.h).add(S)}i.abs=function(){return z(this)?L(this):this},i.add=function(j){for(var k=Math.max(this.g.length,j.g.length),N=[],D=0,O=0;O<=k;O++){var P=D+(this.i(O)&65535)+(j.i(O)&65535),I=(P>>>16)+(this.i(O)>>>16)+(j.i(O)>>>16);D=I>>>16,P&=65535,I&=65535,N[O]=I<<16|P}return new h(N,N[N.length-1]&-2147483648?-1:0)};function F(j,k){return j.add(L(k))}i.j=function(j){if(q(this)||q(j))return E;if(z(this))return z(j)?L(this).j(L(j)):L(L(this).j(j));if(z(j))return L(this.j(L(j)));if(0>this.l(M)&&0>j.l(M))return y(this.m()*j.m());for(var k=this.g.length+j.g.length,N=[],D=0;D<2*k;D++)N[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<j.g.length;O++){var P=this.i(D)>>>16,I=this.i(D)&65535,$e=j.i(O)>>>16,Me=j.i(O)&65535;N[2*D+2*O]+=I*Me,$(N,2*D+2*O),N[2*D+2*O+1]+=P*Me,$(N,2*D+2*O+1),N[2*D+2*O+1]+=I*$e,$(N,2*D+2*O+1),N[2*D+2*O+2]+=P*$e,$(N,2*D+2*O+2)}for(D=0;D<k;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=k;D<2*k;D++)N[D]=0;return new h(N,0)};function $(j,k){for(;(j[k]&65535)!=j[k];)j[k+1]+=j[k]>>>16,j[k]&=65535,k++}function ae(j,k){this.g=j,this.h=k}function ve(j,k){if(q(k))throw Error("division by zero");if(q(j))return new ae(E,E);if(z(j))return k=ve(L(j),k),new ae(L(k.g),L(k.h));if(z(k))return k=ve(j,L(k)),new ae(L(k.g),k.h);if(30<j.g.length){if(z(j)||z(k))throw Error("slowDivide_ only works with positive integers.");for(var N=S,D=k;0>=D.l(j);)N=me(N),D=me(D);var O=de(N,1),P=de(D,1);for(D=de(D,2),N=de(N,2);!q(D);){var I=P.add(D);0>=I.l(j)&&(O=O.add(N),P=I),D=de(D,1),N=de(N,1)}return k=F(j,O.j(k)),new ae(O,k)}for(O=E;0<=j.l(k);){for(N=Math.max(1,Math.floor(j.m()/k.m())),D=Math.ceil(Math.log(N)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=y(N),I=P.j(k);z(I)||0<I.l(j);)N-=D,P=y(N),I=P.j(k);q(P)&&(P=S),O=O.add(P),j=F(j,I)}return new ae(O,j)}i.A=function(j){return ve(this,j).h},i.and=function(j){for(var k=Math.max(this.g.length,j.g.length),N=[],D=0;D<k;D++)N[D]=this.i(D)&j.i(D);return new h(N,this.h&j.h)},i.or=function(j){for(var k=Math.max(this.g.length,j.g.length),N=[],D=0;D<k;D++)N[D]=this.i(D)|j.i(D);return new h(N,this.h|j.h)},i.xor=function(j){for(var k=Math.max(this.g.length,j.g.length),N=[],D=0;D<k;D++)N[D]=this.i(D)^j.i(D);return new h(N,this.h^j.h)};function me(j){for(var k=j.g.length+1,N=[],D=0;D<k;D++)N[D]=j.i(D)<<1|j.i(D-1)>>>31;return new h(N,j.h)}function de(j,k){var N=k>>5;k%=32;for(var D=j.g.length-N,O=[],P=0;P<D;P++)O[P]=0<k?j.i(P+N)>>>k|j.i(P+N+1)<<32-k:j.i(P+N);return new h(O,j.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,R1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=x,ls=h}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N1,$l,I1,mh,Bm,C1,D1,j1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,_){return u==Array.prototype||u==Object.prototype||(u[v]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var v=0;v<u.length;++v){var _=u[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(u,v){if(v)e:{var _=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var B=u[w];if(!(B in _))break e;_=_[B]}u=u[u.length-1],w=_[u],v=v(w),v!=w&&v!=null&&e(_,u,{configurable:!0,writable:!0,value:v})}}function c(u,v){u instanceof String&&(u+="");var _=0,w=!1,B={next:function(){if(!w&&_<u.length){var W=_++;return{value:v(W,u[W]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return c(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},g=this||self;function p(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function y(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function x(u,v,_){return u.call.apply(u.bind,arguments)}function E(u,v,_){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),u.apply(v,B)}}return function(){return u.apply(v,arguments)}}function S(u,v,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:E,S.apply(null,arguments)}function M(u,v){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function q(u,v){function _(){}_.prototype=v.prototype,u.aa=v.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(w,B,W){for(var he=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)he[Qe-2]=arguments[Qe];return v.prototype[B].apply(w,he)}}function z(u){const v=u.length;if(0<v){const _=Array(v);for(let w=0;w<v;w++)_[w]=u[w];return _}return[]}function L(u,v){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const B=u.length||0,W=w.length||0;u.length=B+W;for(let he=0;he<W;he++)u[B+he]=w[he]}else u.push(w)}}class F{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(u){return/^[\s\xa0]*$/.test(u)}function ae(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function ve(u){return ve[" "](u),u}ve[" "]=function(){};var me=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function de(u,v,_){for(const w in u)v.call(_,u[w],w,u)}function j(u,v){for(const _ in u)v.call(void 0,u[_],_,u)}function k(u){const v={};for(const _ in u)v[_]=u[_];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,v){let _,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(_ in w)u[_]=w[_];for(let W=0;W<N.length;W++)_=N[W],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function O(u){var v=1;u=u.split(":");const _=[];for(;0<v&&u.length;)_.push(u.shift()),v--;return u.length&&_.push(u.join(":")),_}function P(u){g.setTimeout(()=>{throw u},0)}function I(){var u=ye;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class $e{constructor(){this.h=this.g=null}add(v,_){const w=Me.get();w.set(v,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Me=new F(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,le=!1,ye=new $e,A=()=>{const u=g.Promise.resolve(void 0);ce=()=>{u.then(Z)}};var Z=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){P(_)}var v=Me;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}le=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var oe=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,v),g.removeEventListener("test",_,v)}catch{}return u})();function ge(u,v){if(X.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(me){e:{try{ve(v.nodeName);var B=!0;break e}catch{}B=!1}B||(v=null)}}else _=="mouseover"?v=u.fromElement:_=="mouseout"&&(v=u.toElement);this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:xe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ge.aa.h.call(this)}}q(ge,X);var xe={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function ln(u,v,_,w,B){this.listener=u,this.proxy=null,this.src=v,this.type=_,this.capture=!!w,this.ha=B,this.key=++Je,this.da=this.fa=!1}function bn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gn(u){this.src=u,this.g={},this.h=0}gn.prototype.add=function(u,v,_,w,B){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var he=Zt(u,v,w,B);return-1<he?(v=u[he],_||(v.fa=!1)):(v=new ln(v,this.src,W,!!w,B),v.fa=_,u.push(v)),v};function kn(u,v){var _=v.type;if(_ in u.g){var w=u.g[_],B=Array.prototype.indexOf.call(w,v,void 0),W;(W=0<=B)&&Array.prototype.splice.call(w,B,1),W&&(bn(v),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Zt(u,v,_,w){for(var B=0;B<u.length;++B){var W=u[B];if(!W.da&&W.listener==v&&W.capture==!!_&&W.ha==w)return B}return-1}var Rn="closure_lm_"+(1e6*Math.random()|0),je={};function se(u,v,_,w,B){if(Array.isArray(v)){for(var W=0;W<v.length;W++)se(u,v[W],_,w,B);return null}return _=bt(_),u&&u[rt]?u.K(v,_,y(w)?!!w.capture:!1,B):ue(u,v,_,!1,w,B)}function ue(u,v,_,w,B,W){if(!v)throw Error("Invalid event type");var he=y(B)?!!B.capture:!!B,Qe=Ce(u);if(Qe||(u[Rn]=Qe=new gn(u)),_=Qe.add(v,_,w,he,W),_.proxy)return _;if(w=Re(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)oe||(B=he),B===void 0&&(B=!1),u.addEventListener(v.toString(),w,B);else if(u.attachEvent)u.attachEvent(Ke(v.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Re(){function u(_){return v.call(u.src,u.listener,_)}const v=Ne;return u}function it(u,v,_,w,B){if(Array.isArray(v))for(var W=0;W<v.length;W++)it(u,v[W],_,w,B);else w=y(w)?!!w.capture:!!w,_=bt(_),u&&u[rt]?(u=u.i,v=String(v).toString(),v in u.g&&(W=u.g[v],_=Zt(W,_,w,B),-1<_&&(bn(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete u.g[v],u.h--)))):u&&(u=Ce(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Zt(v,_,w,B)),(_=-1<u?v[u]:null)&&we(_))}function we(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[rt])kn(v.i,u);else{var _=u.type,w=u.proxy;v.removeEventListener?v.removeEventListener(_,w,u.capture):v.detachEvent?v.detachEvent(Ke(_),w):v.addListener&&v.removeListener&&v.removeListener(w),(_=Ce(v))?(kn(_,u),_.h==0&&(_.src=null,v[Rn]=null)):bn(u)}}}function Ke(u){return u in je?je[u]:je[u]="on"+u}function Ne(u,v){if(u.da)u=!0;else{v=new ge(v,this);var _=u.listener,w=u.ha||u.src;u.fa&&we(u),u=_.call(w,v)}return u}function Ce(u){return u=u[Rn],u instanceof gn?u:null}var Ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(u){return typeof u=="function"?u:(u[Ln]||(u[Ln]=function(v){return u.handleEvent(v)}),u[Ln])}function ze(){ee.call(this),this.i=new gn(this),this.M=this,this.F=null}q(ze,ee),ze.prototype[rt]=!0,ze.prototype.removeEventListener=function(u,v,_,w){it(this,u,v,_,w)};function Ze(u,v){var _,w=u.F;if(w)for(_=[];w;w=w.F)_.push(w);if(u=u.M,w=v.type||v,typeof v=="string")v=new X(v,u);else if(v instanceof X)v.target=v.target||u;else{var B=v;v=new X(w,u),D(v,B)}if(B=!0,_)for(var W=_.length-1;0<=W;W--){var he=v.g=_[W];B=Nn(he,w,!0,v)&&B}if(he=v.g=u,B=Nn(he,w,!0,v)&&B,B=Nn(he,w,!1,v)&&B,_)for(W=0;W<_.length;W++)he=v.g=_[W],B=Nn(he,w,!1,v)&&B}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var _=u.g[v],w=0;w<_.length;w++)bn(_[w]);delete u.g[v],u.h--}}this.F=null},ze.prototype.K=function(u,v,_,w){return this.i.add(String(u),v,!1,_,w)},ze.prototype.L=function(u,v,_,w){return this.i.add(String(u),v,!0,_,w)};function Nn(u,v,_,w){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var B=!0,W=0;W<v.length;++W){var he=v[W];if(he&&!he.da&&he.capture==_){var Qe=he.listener,Ut=he.ha||he.src;he.fa&&kn(u.i,he),B=Qe.call(Ut,w)!==!1&&B}}return B&&!w.defaultPrevented}function cn(u,v,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:g.setTimeout(u,v||0)}function Dc(u){u.g=cn(()=>{u.g=null,u.i&&(u.i=!1,Dc(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class ud extends ee{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Dc(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(u){ee.call(this),this.h=u,this.g={}}q(xs,ee);var bs=[];function Es(u){de(u.g,function(v,_){this.g.hasOwnProperty(_)&&we(v)},u),u.g={}}xs.prototype.N=function(){xs.aa.N.call(this),Es(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=g.JSON.stringify,ma=g.JSON.parse,Ts=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Vo(){}Vo.prototype.h=null;function Po(u){return u.h||(u.h=u.i())}function Lo(){}var Ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Br(){X.call(this,"d")}q(Br,X);function zo(){X.call(this,"c")}q(zo,X);var fr={},Uo=null;function Si(){return Uo=Uo||new ze}fr.La="serverreachability";function ga(u){X.call(this,fr.La,u)}q(ga,X);function Ai(u){const v=Si();Ze(v,new ga(v))}fr.STAT_EVENT="statevent";function jc(u,v){X.call(this,fr.STAT_EVENT,u),this.stat=v}q(jc,X);function vt(u){const v=Si();Ze(v,new jc(v,u))}fr.Ma="timingevent";function zt(u,v){X.call(this,fr.Ma,u),this.size=v}q(zt,X);function It(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},v)}function zn(){this.g=!0}zn.prototype.xa=function(){this.g=!1};function Bo(u,v,_,w,B,W){u.info(function(){if(u.g)if(W)for(var he="",Qe=W.split("&"),Ut=0;Ut<Qe.length;Ut++){var Ye=Qe[Ut].split("=");if(1<Ye.length){var $t=Ye[0];Ye=Ye[1];var Bt=$t.split("_");he=2<=Bt.length&&Bt[1]=="type"?he+($t+"="+Ye+"&"):he+($t+"=redacted&")}}else he=null;else he=W;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+v+`
`+_+`
`+he})}function hd(u,v,_,w,B,W,he){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+v+`
`+_+`
`+W+" "+he})}function ki(u,v,_,w){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+ws(u,_)+(w?" "+w:"")})}function Oc(u,v){u.info(function(){return"TIMEOUT: "+v})}zn.prototype.info=function(){};function ws(u,v){if(!u.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var w=_[u];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var W=B[0];if(W!="noop"&&W!="stop"&&W!="close")for(var he=1;he<B.length;he++)B[he]=""}}}}return er(_)}catch{return v}}var Ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mr;function gr(){}q(gr,Vo),gr.prototype.g=function(){return new XMLHttpRequest},gr.prototype.i=function(){return{}},mr=new gr;function pn(u,v,_,w){this.j=u,this.i=v,this.l=_,this.R=w||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var qo={},pa={};function tr(u,v,_){u.L=1,u.v=Ns(In(v)),u.m=_,u.P=!0,Hr(u,null)}function Hr(u,v){u.F=Date.now(),Ss(u),u.A=In(u.v);var _=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Qo(_.i,"t",w),u.C=0,_=u.j.J,u.h=new At,u.g=Xc(u.j,_?v:null,!u.m),0<u.O&&(u.M=new ud(S(u.Y,u,u.g),u.O)),v=u.U,_=u.g,w=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(bs[0]=B.toString()),B=bs);for(var W=0;W<B.length;W++){var he=se(_,B[W],w||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=u.H?k(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),Ai(),Bo(u.i,u.u,u.A,u.l,u.R,u.m)}pn.prototype.ca=function(u){u=u.target;const v=this.M;v&&Hn(u)==3?v.j():this.Y(u)},pn.prototype.Y=function(u){try{if(u==this.g)e:{const Bt=Hn(this.g);var v=this.g.Ba();const Wr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||qc(this.g)))){this.J||Bt!=4||v==7||(v==8||0>=Wr?Ai(3):Ai(2)),Ni(this);var _=this.g.Z();this.X=_;t:if(Mc(this)){var w=qc(this.g);u="";var B=w.length,W=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),pr(this);var he="";break t}this.h.i=new g.TextDecoder}for(v=0;v<B;v++)this.h.h=!0,u+=this.h.i.decode(w[v],{stream:!(W&&v==B-1)});w.length=0,this.h.g+=u,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,hd(this.i,this.u,this.A,this.l,this.R,Bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Ut=this.g;if((Qe=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Qe)){var Ye=Qe;break t}}Ye=null}if(_=Ye)ki(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,As(this,_);else{this.o=!1,this.s=3,vt(12),Jt(this),pr(this);break e}}if(this.P){_=!0;let en;for(;!this.J&&this.C<he.length;)if(en=Vc(this,he),en==pa){Bt==4&&(this.s=4,vt(14),_=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(en==qo){this.s=4,vt(15),ki(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else ki(this.i,this.l,en,null),As(this,en);if(Mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||he.length!=0||this.h.h||(this.s=1,vt(16),_=!1),this.o=this.o&&_,!_)ki(this.i,this.l,he,"[Invalid Chunked Response]"),Jt(this),pr(this);else if(0<he.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Ps($t),$t.M=!0,vt(11))}}else ki(this.i,this.l,he,null),As(this,he);Bt==4&&Jt(this),this.o&&!this.J&&(Bt==4?Kc(this.j,this):(this.o=!1,Ss(this)))}else pd(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Jt(this),pr(this)}}}catch{}finally{}};function Mc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Vc(u,v){var _=u.C,w=v.indexOf(`
`,_);return w==-1?pa:(_=Number(v.substring(_,w)),isNaN(_)?qo:(w+=1,w+_>v.length?pa:(v=v.slice(w,w+_),u.C=w+_,v)))}pn.prototype.cancel=function(){this.J=!0,Jt(this)};function Ss(u){u.S=Date.now()+u.I,Pc(u,u.I)}function Pc(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=It(S(u.ba,u),v)}function Ni(u){u.B&&(g.clearTimeout(u.B),u.B=null)}pn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Oc(this.i,this.A),this.L!=2&&(Ai(),vt(17)),Jt(this),this.s=2,pr(this)):Pc(this,this.S-u)};function pr(u){u.j.G==0||u.J||Kc(u.j,u)}function Jt(u){Ni(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,Es(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function As(u,v){try{var _=u.j;if(_.G!=0&&(_.g==u||Ho(_.h,u))){if(!u.K&&Ho(_.h,u)&&_.G==3){try{var w=_.Da.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ra(_),Aa(_);else break e;Jo(_),vt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=It(S(_.Za,_),6e3));if(1>=va(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Xr(_,11)}else if((u.K||_.g==u)&&Ra(_),!$(v))for(B=_.Da.g.parse(v),v=0;v<B.length;v++){let Ye=B[v];if(_.T=Ye[0],Ye=Ye[1],_.G==2)if(Ye[0]=="c"){_.K=Ye[1],_.ia=Ye[2];const $t=Ye[3];$t!=null&&(_.la=$t,_.j.info("VER="+_.la));const Bt=Ye[4];Bt!=null&&(_.Aa=Bt,_.j.info("SVER="+_.Aa));const Wr=Ye[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(w=1.5*Wr,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const en=u.g;if(en){const Tr=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var W=w.h;W.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(_a(W,W.h),W.h=null))}if(w.D){const tl=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(w.ya=tl,ut(w.I,w.D,tl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var he=u;if(w.qa=Yc(w,w.J?w.ia:null,w.W),he.K){yn(w.h,he);var Qe=he,Ut=w.L;Ut&&(Qe.I=Ut),Qe.B&&(Ni(Qe),Ss(Qe)),w.g=he}else Fc(w);0<_.i.length&&ka(_)}else Ye[0]!="stop"&&Ye[0]!="close"||Xr(_,7);else _.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Xr(_,7):Wo(_):Ye[0]!="noop"&&_.l&&_.l.ta(Ye),_.v=0)}}Ai(4)}catch{}}var Lc=class{constructor(u,v){this.g=u,this.map=v}};function Gr(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function va(u){return u.h?1:u.g?u.g.size:0}function Ho(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function _a(u,v){u.g?u.g.add(v):u.h=v}function yn(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Gr.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Go(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const _ of u.g.values())v=v.concat(_.D);return v}return z(u.i)}function dd(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var v=[],_=u.length,w=0;w<_;w++)v.push(u[w]);return v}v=[],_=0;for(w in u)v[_++]=u[w];return v}function xa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var v=[];u=u.length;for(var _=0;_<u;_++)v.push(_);return v}v=[],_=0;for(const w in u)v[_++]=w;return v}}}function Fo(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var _=xa(u),w=dd(u),B=w.length,W=0;W<B;W++)v.call(void 0,w[W],_&&_[W],u)}var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fd(u,v){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var w=u[_].indexOf("="),B=null;if(0<=w){var W=u[_].substring(0,w);B=u[_].substring(w+1)}else W=u[_];v(W,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ct(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ct){this.h=u.h,Rs(this,u.j),this.o=u.o,this.g=u.g,Ii(this,u.s),this.l=u.l;var v=u.i,_=new $r;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Fr(this,_),this.m=u.m}else u&&(v=String(u).match(ks))?(this.h=!1,Rs(this,v[1]||"",!0),this.o=Un(v[2]||""),this.g=Un(v[3]||"",!0),Ii(this,v[4]),this.l=Un(v[5]||"",!0),Fr(this,v[6]||"",!0),this.m=Un(v[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}Ct.prototype.toString=function(){var u=[],v=this.j;v&&u.push(Is(v,$o,!0),":");var _=this.g;return(_||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Is(v,$o,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Is(_,_.charAt(0)=="/"?md:Ko,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Is(_,ba)),u.join("")};function In(u){return new Ct(u)}function Rs(u,v,_){u.j=_?Un(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Ii(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function Fr(u,v,_){v instanceof $r?(u.i=v,Uc(u.i,u.h)):(_||(v=Is(v,gd)),u.i=new $r(v,u.h))}function ut(u,v,_){u.i.set(v,_)}function Ns(u){return ut(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Un(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Is(u,v,_){return typeof u=="string"?(u=encodeURI(u).replace(v,zc),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $o=/[#\/\?@]/g,Ko=/[#\?:]/g,md=/[#\?]/g,gd=/[#\?@]/g,ba=/#/g;function $r(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Bn(u){u.g||(u.g=new Map,u.h=0,u.i&&fd(u.i,function(v,_){u.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}i=$r.prototype,i.add=function(u,v){Bn(this),this.i=null,u=yr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(v),this.h+=1,this};function Kr(u,v){Bn(u),v=yr(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Qr(u,v){return Bn(u),v=yr(u,v),u.g.has(v)}i.forEach=function(u,v){Bn(this),this.g.forEach(function(_,w){_.forEach(function(B){u.call(v,B,w,this)},this)},this)},i.na=function(){Bn(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let w=0;w<v.length;w++){const B=u[w];for(let W=0;W<B.length;W++)_.push(v[w])}return _},i.V=function(u){Bn(this);let v=[];if(typeof u=="string")Qr(this,u)&&(v=v.concat(this.g.get(yr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)v=v.concat(u[_])}return v},i.set=function(u,v){return Bn(this),this.i=null,u=yr(this,u),Qr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},i.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function Qo(u,v,_){Kr(u,v),0<_.length&&(u.i=null,u.g.set(yr(u,v),z(_)),u.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var w=v[_];const W=encodeURIComponent(String(w)),he=this.V(w);for(w=0;w<he.length;w++){var B=W;he[w]!==""&&(B+="="+encodeURIComponent(String(he[w]))),u.push(B)}}return this.i=u.join("&")};function yr(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Uc(u,v){v&&!u.j&&(Bn(u),u.i=null,u.g.forEach(function(_,w){var B=w.toLowerCase();w!=B&&(Kr(this,w),Qo(this,B,_))},u)),u.j=v}function Cs(u,v){const _=new zn;if(g.Image){const w=new Image;w.onload=M(qn,_,"TestLoadImage: loaded",!0,v,w),w.onerror=M(qn,_,"TestLoadImage: error",!1,v,w),w.onabort=M(qn,_,"TestLoadImage: abort",!1,v,w),w.ontimeout=M(qn,_,"TestLoadImage: timeout",!1,v,w),g.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else v(!1)}function nr(u,v){const _=new zn,w=new AbortController,B=setTimeout(()=>{w.abort(),qn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:w.signal}).then(W=>{clearTimeout(B),W.ok?qn(_,"TestPingServer: ok",!0,v):qn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),qn(_,"TestPingServer: error",!1,v)})}function qn(u,v,_,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(_)}catch{}}function Ds(){this.g=new Ts}function vr(u,v,_){const w=_||"";try{Fo(u,function(B,W){let he=B;y(B)&&(he=er(B)),v.push(w+W+"="+encodeURIComponent(he))})}catch(B){throw v.push(w+"type="+encodeURIComponent("_badmap")),B}}function Ci(u){this.l=u.Ub||null,this.j=u.eb||!1}q(Ci,Vo),Ci.prototype.g=function(){return new Yr(this.l,this.j)},Ci.prototype.i=(function(u){return function(){return u}})({});function Yr(u,v){ze.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(Yr,ze),i=Yr.prototype,i.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,xr(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||g).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?_r(this):xr(this),this.readyState==3&&Yo(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,_r(this))},i.Qa=function(u){this.g&&(this.response=u,_r(this))},i.ga=function(){this.g&&_r(this)};function _r(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xr(u)}i.setRequestHeader=function(u,v){this.u.append(u,v)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=v.next();return u.join(`\r
`)};function xr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xo(u){let v="";return de(u,function(_,w){v+=w,v+=":",v+=_,v+=`\r
`}),v}function Ft(u,v,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Xo(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):ut(u,v,_))}function at(u){ze.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(at,ze);var Ea=/^https?$/i,js=["POST","PUT"];i=at.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,v,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mr.g(),this.v=this.o?Po(this.o):Po(mr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(W){Bc(this,W);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)_.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())_.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),B=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(js,v,void 0))||w||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,he]of _)this.g.setRequestHeader(W,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Bc(this,W)}};function Bc(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,Ta(u),br(u)}function Ta(u){u.A||(u.A=!0,Ze(u,"complete"),Ze(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ze(this,"complete"),Ze(this,"abort"),br(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),at.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},i.bb=function(){wa(this)};function wa(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Hn(u)!=4||u.Z()!=2)){if(u.u&&Hn(u)==4)cn(u.Ea,0,u);else if(Ze(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const he=u.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var w;if(w=he===0){var B=String(u.D).match(ks)[1]||null;!B&&g.self&&g.self.location&&(B=g.self.location.protocol.slice(0,-1)),w=!Ea.test(B?B.toLowerCase():"")}_=w}if(_)Ze(u,"complete"),Ze(u,"success");else{u.m=6;try{var W=2<Hn(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",Ta(u)}}finally{br(u)}}}}function br(u,v){if(u.g){Os(u);const _=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||Ze(u,"ready");try{_.onreadystatechange=w}catch{}}}function Os(u){u.I&&(g.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),ma(v)}};function qc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function pd(u){const v={};u=(u.g&&2<=Hn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if($(u[w]))continue;var _=O(u[w]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=v[B]||[];v[B]=W,W.push(_)}j(v,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(u,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||v}function Sa(u){this.Aa=0,this.i=[],this.j=new zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,u),this.cb=Ms("retryDelaySeedMs",1e4,u),this.Wa=Ms("forwardChannelMaxRetries",2,u),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gr(u&&u.concurrentRequestLimit),this.Da=new Ds,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Sa.prototype,i.la=8,i.G=1,i.connect=function(u,v,_,w){vt(0),this.W=u,this.H=v||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Yc(this,null,this.W),ka(this)};function Wo(u){if(Hc(u),u.G==3){var v=u.U++,_=In(u.I);if(ut(_,"SID",u.K),ut(_,"RID",v),ut(_,"TYPE","terminate"),Vs(u,_),v=new pn(u,u.j,v),v.L=2,v.v=Ns(In(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=v.v,_=!0),_||(v.g=Xc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ss(v)}Qc(u)}function Aa(u){u.g&&(Ps(u),u.g.cancel(),u.g=null)}function Hc(u){Aa(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ra(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ka(u){if(!ya(u.h)&&!u.s){u.s=!0;var v=u.Ga;ce||A(),le||(ce(),le=!0),ye.add(v,u),u.B=0}}function yd(u,v){return va(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=It(S(u.Ga,u,v),el(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new pn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=k(W),D(W,this.S)):W=this.S),this.m!==null||this.O||(B.H=W,W=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Gc(this,B,v),_=In(this.I),ut(_,"RID",u),ut(_,"CVER",22),this.D&&ut(_,"X-HTTP-Session-Id",this.D),Vs(this,_),W&&(this.O?v="headers="+encodeURIComponent(String(Xo(W)))+"&"+v:this.m&&Ft(_,this.m,W)),_a(this.h,B),this.Ua&&ut(_,"TYPE","init"),this.P?(ut(_,"$req",v),ut(_,"SID","null"),B.T=!0,tr(B,_,null)):tr(B,_,v),this.G=2}}else this.G==3&&(u?Zo(this,u):this.i.length==0||ya(this.h)||Zo(this))};function Zo(u,v){var _;v?_=v.l:_=u.U++;const w=In(u.I);ut(w,"SID",u.K),ut(w,"RID",_),ut(w,"AID",u.T),Vs(u,w),u.m&&u.o&&Ft(w,u.m,u.o),_=new pn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),v&&(u.i=v.D.concat(u.i)),v=Gc(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_a(u.h,_),tr(_,w,v)}function Vs(u,v){u.H&&de(u.H,function(_,w){ut(v,w,_)}),u.l&&Fo({},function(_,w){ut(v,w,_)})}function Gc(u,v,_){_=Math.min(u.i.length,_);var w=u.l?S(u.l.Na,u.l,u):null;e:{var B=u.i;let W=-1;for(;;){const he=["count="+_];W==-1?0<_?(W=B[0].g,he.push("ofs="+W)):W=0:he.push("ofs="+W);let Qe=!0;for(let Ut=0;Ut<_;Ut++){let Ye=B[Ut].g;const $t=B[Ut].map;if(Ye-=W,0>Ye)W=Math.max(0,B[Ut].g-100),Qe=!1;else try{vr($t,he,"req"+Ye+"_")}catch{w&&w($t)}}if(Qe){w=he.join("&");break e}}}return u=u.i.splice(0,_),v.D=u,w}function Fc(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;ce||A(),le||(ce(),le=!0),ye.add(v,u),u.v=0}}function Jo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=It(S(u.Fa,u),el(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,$c(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=It(S(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Aa(this),$c(this))};function Ps(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function $c(u){u.g=new pn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=In(u.qa);ut(v,"RID","rpc"),ut(v,"SID",u.K),ut(v,"AID",u.T),ut(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&ut(v,"TO",u.ja),ut(v,"TYPE","xmlhttp"),Vs(u,v),u.m&&u.o&&Ft(v,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Ns(In(v)),_.m=null,_.P=!0,Hr(_,u)}i.Za=function(){this.C!=null&&(this.C=null,Aa(this),Jo(this),vt(19))};function Ra(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Kc(u,v){var _=null;if(u.g==v){Ra(u),Ps(u),u.g=null;var w=2}else if(Ho(u.h,v))_=v.D,yn(u.h,v),w=1;else return;if(u.G!=0){if(v.o)if(w==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var B=u.B;w=Si(),Ze(w,new zt(w,_)),ka(u)}else Fc(u);else if(B=v.s,B==3||B==0&&0<v.X||!(w==1&&yd(u,v)||w==2&&Jo(u)))switch(_&&0<_.length&&(v=u.h,v.i=v.i.concat(_)),B){case 1:Xr(u,5);break;case 4:Xr(u,10);break;case 3:Xr(u,6);break;default:Xr(u,2)}}}function el(u,v){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*v}function Xr(u,v){if(u.j.info("Error code "+v),v==2){var _=S(u.fb,u),w=u.Xa;const B=!w;w=new Ct(w||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Rs(w,"https"),Ns(w),B?Cs(w.toString(),_):nr(w.toString(),_)}else vt(2);u.G=0,u.l&&u.l.sa(v),Qc(u),Hc(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Qc(u){if(u.G=0,u.ka=[],u.l){const v=Go(u.h);(v.length!=0||u.i.length!=0)&&(L(u.ka,v),L(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function Yc(u,v,_){var w=_ instanceof Ct?In(_):new Ct(_);if(w.g!="")v&&(w.g=v+"."+w.g),Ii(w,w.s);else{var B=g.location;w=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;var W=new Ct(null);w&&Rs(W,w),v&&(W.g=v),B&&Ii(W,B),_&&(W.l=_),w=W}return _=u.D,v=u.ya,_&&v&&ut(w,_,v),ut(w,"VER",u.la),Vs(u,w),w}function Xc(u,v,_){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new at(new Ci({eb:_})):new at(u.pa),v.Ha(u.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wc(){}i=Wc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Na(){}Na.prototype.g=function(u,v){return new vn(u,v)};function vn(u,v){ze.call(this),this.g=new Sa(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!$(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!$(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Er(this)}q(vn,ze),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Wo(this.g)},vn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=er(u),u=_);v.i.push(new Lc(v.Ya++,u)),v.G==3&&ka(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,vn.aa.N.call(this)};function Zc(u){Br.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const _ in v){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}q(Zc,Br);function Jc(){zo.call(this),this.status=1}q(Jc,zo);function Er(u){this.g=u}q(Er,Wc),Er.prototype.ua=function(){Ze(this.g,"a")},Er.prototype.ta=function(u){Ze(this.g,new Zc(u))},Er.prototype.sa=function(u){Ze(this.g,new Jc)},Er.prototype.ra=function(){Ze(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,j1=function(){return new Na},D1=function(){return Si()},C1=fr,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,mh=Ri,qr.COMPLETE="complete",I1=qr,Lo.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",ze.prototype.listen=ze.prototype.K,$l=Lo,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,N1=at}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const m_="@firebase/firestore",g_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new fg("@firebase/firestore");function so(){return aa.logLevel}function pe(i,...e){if(aa.logLevel<=He.DEBUG){const n=e.map(wg);aa.debug(`Firestore (${Io}): ${i}`,...n)}}function bi(i,...e){if(aa.logLevel<=He.ERROR){const n=e.map(wg);aa.error(`Firestore (${Io}): ${i}`,...n)}}function lc(i,...e){if(aa.logLevel<=He.WARN){const n=e.map(wg);aa.warn(`Firestore (${Io}): ${i}`,...n)}}function wg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,O1(i,s,n)}function O1(i,e,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw bi(s),new Error(s)}function ot(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||O1(e,o,s)}function Oe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Sn.UNAUTHENTICATED)))}shutdown(){}}class RR{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ot(typeof s.accessToken=="string",31837,{l:s}),new AR(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class NR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new NR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class p_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const s=c=>{c.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new p_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new p_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Ge(i,e){return i<e?-1:i>e?1:0}function qm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return wm(o)===wm(c)?Ge(o,c):wm(o)?1:-1}return Ge(i.length,e.length)}const jR=55296,OR=57343;function wm(i){const e=i.charCodeAt(0);return e>=jR&&e<=OR}function yo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__name__";class Nr{constructor(e,n,s){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ke(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Nr.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ge(e.length,n.length)}static compareSegments(e,n){const s=Nr.isNumericId(e),o=Nr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Nr.extractNumericId(e).compare(Nr.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class pt extends Nr{construct(e,n,s){return new pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const MR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Nr{construct(e,n,s){return new an(e,n,s)}static isValidIdentifier(e){return MR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new an([y_])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(h=!h,o++):g!=="."||h?(s+=g,o++):(c(),o++)}if(c(),h)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(pt.fromString(e))}static fromName(e){return new Ee(pt.fromString(e).popFirst(5))}static empty(){return new Ee(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(i,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function VR(i,e,n,s){if(e===!0&&s===!0)throw new fe(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function v_(i){if(!Ee.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function __(i){if(Ee.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function V1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Fh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ke(12329,{type:typeof i})}function vo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(i);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Sc(i,e){if(!V1(i))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=-62135596800,b_=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*b_);return new yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<x_)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Pt("string",yt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new yt(0,0))}static max(){return new De(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=-1;function PR(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=De.fromTimestamp(s===1e9?new yt(n+1,0):new yt(n,s));return new us(o,Ee.empty(),e)}function LR(i){return new us(i.readTime,i.key,cc)}class us{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new us(De.min(),Ee.empty(),cc)}static max(){return new us(De.max(),Ee.empty(),cc)}}function zR(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(i.documentKey,e.documentKey),n!==0?n:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==UR)throw i;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,c=0,h=!1;e.forEach((g=>{++o,g.next((()=>{++c,h&&c===o&&n()}),(p=>s(p)))})),h=!0,c===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const c=e.length,h=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next((x=>{h[y]=x,++g,g===c&&s(h)}),(x=>o(x)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function qR(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$h.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=-1;function Kh(i){return i==null}function kh(i){return i===0&&1/i==-1/0}function HR(i){return typeof i=="number"&&Number.isInteger(i)&&!kh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="";function GR(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=E_(e)),e=FR(i.get(n),e);return E_(e)}function FR(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case P1:n+="";break;default:n+=c}}return n}function E_(i){return i+P1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ca(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function L1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??sn.RED,this.left=o??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new sn(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(e){return new w_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class w_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new or([])}unionWith(e){let n=new Gt(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new z1("Invalid base64 string: "+c):c}})(e);return new on(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const $R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(i){if(ot(!!i,39018),typeof i=="string"){let e=0;const n=$R.exec(i);if(ot(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(i.seconds),nanos:Nt(i.nanos)}}function Nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ds(i){return typeof i=="string"?on.fromBase64String(i):on.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="server_timestamp",B1="__type__",q1="__previous_value__",H1="__local_write_time__";function kg(i){return(i?.mapValue?.fields||{})[B1]?.stringValue===U1}function Qh(i){const e=i.mapValue.fields[q1];return kg(e)?Qh(e):e}function uc(i){const e=hs(i.mapValue.fields[H1].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,s,o,c,h,g,p,y,x){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=x}}const Rh="(default)";class hc{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new hc("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="__type__",QR="__max__",ih={mapValue:{}},F1="__vector__",Nh="value";function fs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?kg(i)?4:XR(i)?9007199254740991:YR(i)?10:11:ke(28295,{value:i})}function Pr(i,e){if(i===e)return!0;const n=fs(i);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return uc(i).isEqual(uc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=hs(o.timestampValue),g=hs(c.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return ds(o.bytesValue).isEqual(ds(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Nt(o.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Nt(o.integerValue)===Nt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Nt(o.doubleValue),g=Nt(c.doubleValue);return h===g?kh(h)===kh(g):isNaN(h)&&isNaN(g)}return!1})(i,e);case 9:return yo(i.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},g=c.mapValue.fields||{};if(T_(h)!==T_(g))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(g[p]===void 0||!Pr(h[p],g[p])))return!1;return!0})(i,e);default:return ke(52216,{left:i})}}function dc(i,e){return(i.values||[]).find((n=>Pr(n,e)))!==void 0}function _o(i,e){if(i===e)return 0;const n=fs(i),s=fs(e);if(n!==s)return Ge(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const g=Nt(c.integerValue||c.doubleValue),p=Nt(h.integerValue||h.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(i,e);case 3:return S_(i.timestampValue,e.timestampValue);case 4:return S_(uc(i),uc(e));case 5:return qm(i.stringValue,e.stringValue);case 6:return(function(c,h){const g=ds(c),p=ds(h);return g.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const g=c.split("/"),p=h.split("/");for(let y=0;y<g.length&&y<p.length;y++){const x=Ge(g[y],p[y]);if(x!==0)return x}return Ge(g.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const g=Ge(Nt(c.latitude),Nt(h.latitude));return g!==0?g:Ge(Nt(c.longitude),Nt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return A_(i.arrayValue,e.arrayValue);case 10:return(function(c,h){const g=c.fields||{},p=h.fields||{},y=g[Nh]?.arrayValue,x=p[Nh]?.arrayValue,E=Ge(y?.values?.length||0,x?.values?.length||0);return E!==0?E:A_(y,x)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===ih.mapValue&&h===ih.mapValue)return 0;if(c===ih.mapValue)return 1;if(h===ih.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=h.fields||{},x=Object.keys(y);p.sort(),x.sort();for(let E=0;E<p.length&&E<x.length;++E){const S=qm(p[E],x[E]);if(S!==0)return S;const M=_o(g[p[E]],y[x[E]]);if(M!==0)return M}return Ge(p.length,x.length)})(i.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function S_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const n=hs(i),s=hs(e),o=Ge(n.seconds,s.seconds);return o!==0?o:Ge(n.nanos,s.nanos)}function A_(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=_o(n[o],s[o]);if(c)return c}return Ge(n.length,s.length)}function xo(i){return Hm(i)}function Hm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ds(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ee.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Hm(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${Hm(n.fields[h])}`;return o+"}"})(i.mapValue):ke(61005,{value:i})}function gh(i){switch(fs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(i);return e?16+gh(e):16;case 5:return 2*i.stringValue.length;case 6:return ds(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+gh(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ca(s.fields,((c,h)=>{o+=c.length+gh(h)})),o})(i.mapValue);default:throw ke(13486,{value:i})}}function k_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Gm(i){return!!i&&"integerValue"in i}function Rg(i){return!!i&&"arrayValue"in i}function R_(i){return!!i&&"nullValue"in i}function N_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ph(i){return!!i&&"mapValue"in i}function YR(i){return(i?.mapValue?.fields||{})[G1]?.stringValue===F1}function Zl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ca(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Zl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(i.arrayValue.values[n]);return e}return{...i}}function XR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===QR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=an.emptyPath(),s={},o=[];e.forEach(((h,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=g.popLast()}h?s[g.lastSegment()]=Zl(h):o.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ca(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new Zn(Zl(this.value))}}function $1(i){const e=[];return ca(i.fields,((n,s)=>{const o=new an([n]);if(ph(s)){const c=$1(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,s,o,c,h,g){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=g}static newInvalidDocument(e){return new fn(e,0,De.min(),De.min(),De.min(),Zn.empty(),0)}static newFoundDocument(e,n,s,o){return new fn(e,1,n,De.min(),s,o,0)}static newNoDocument(e,n){return new fn(e,2,n,De.min(),De.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,De.min(),De.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function I_(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],h=i.position[o];if(c.field.isKeyField()?s=Ee.comparator(Ee.fromName(h.referenceValue),n.key):s=_o(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function C_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Pr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function WR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{}class Mt extends K1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new JR(e,n,s):n==="array-contains"?new nN(e,s):n==="in"?new rN(e,s):n==="not-in"?new iN(e,s):n==="array-contains-any"?new sN(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new eN(e,s):new tN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_o(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends K1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hr(e,n)}matches(e){return Q1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Q1(i){return i.op==="and"}function Y1(i){return ZR(i)&&Q1(i)}function ZR(i){for(const e of i.filters)if(e instanceof hr)return!1;return!0}function Fm(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+xo(i.value);if(Y1(i))return i.filters.map((e=>Fm(e))).join(",");{const e=i.filters.map((n=>Fm(n))).join(",");return`${i.op}(${e})`}}function X1(i,e){return i instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&Pr(s.value,o.value)})(i,e):i instanceof hr?(function(s,o){return o instanceof hr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,g)=>c&&X1(h,o.filters[g])),!0):!1})(i,e):void ke(19439)}function W1(i){return i instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`})(i):i instanceof hr?(function(n){return n.op.toString()+" {"+n.getFilters().map(W1).join(" ,")+"}"})(i):"Filter"}class JR extends Mt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class eN extends Mt{constructor(e,n){super(e,"in",n),this.keys=Z1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class tN extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=Z1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Z1(i,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class nN extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rg(n)&&dc(n.arrayValue,this.value)}}class rN extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class iN extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class sN extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>dc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n=null,s=[],o=[],c=null,h=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=g,this.Te=null}}function D_(i,e=null,n=[],s=[],o=null,c=null,h=null){return new aN(i,e,n,s,o,c,h)}function Ng(i){const e=Oe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Fm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>xo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>xo(s))).join(",")),e.Te=n}return e.Te}function Ig(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!WR(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!X1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!C_(i.startAt,e.startAt)&&C_(i.endAt,e.endAt)}function $m(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n=null,s=[],o=[],c=null,h="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oN(i,e,n,s,o,c,h,g){return new jo(i,e,n,s,o,c,h,g)}function Cg(i){return new jo(i)}function j_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function J1(i){return i.collectionGroup!==null}function Jl(i){const e=Oe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new Gt(an.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new fc(c,s))})),n.has(an.keyField().canonicalString())||e.Ie.push(new fc(an.keyField(),s))}return e.Ie}function Dr(i){const e=Oe(i);return e.Ee||(e.Ee=lN(e,Jl(i))),e.Ee}function lN(i,e){if(i.limitType==="F")return D_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new fc(o.field,c)}));const n=i.endAt?new Ih(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ih(i.startAt.position,i.startAt.inclusive):null;return D_(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Km(i,e){const n=i.filters.concat([e]);return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Qm(i,e,n){return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Yh(i,e){return Ig(Dr(i),Dr(e))&&i.limitType===e.limitType}function eb(i){return`${Ng(Dr(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>W1(o))).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>xo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>xo(o))).join(",")),`Target(${s})`})(Dr(i))}; limitType=${i.limitType})`}function Xh(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ee.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of Jl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,g,p){const y=I_(h,g,p);return h.inclusive?y<=0:y<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(h,g,p){const y=I_(h,g,p);return h.inclusive?y>=0:y>0})(s.endAt,Jl(s),o))})(i,e)}function cN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function tb(i){return(e,n)=>{let s=!1;for(const o of Jl(i)){const c=uN(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function uN(i,e,n){const s=i.field.isKeyField()?Ee.comparator(e.key,n.key):(function(c,h,g){const p=h.data.field(c),y=g.data.field(c);return p!==null&&y!==null?_o(p,y):ke(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ke(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return L1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new Tt(Ee.comparator);function Ei(){return hN}const nb=new Tt(Ee.comparator);function Kl(...i){let e=nb;for(const n of i)e=e.insert(n.key,n);return e}function rb(i){let e=nb;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ea(){return ec()}function ib(){return ec()}function ec(){return new ua((i=>i.toString()),((i,e)=>i.isEqual(e)))}const dN=new Tt(Ee.comparator),fN=new Gt(Ee.comparator);function Fe(...i){let e=fN;for(const n of i)e=e.add(n);return e}const mN=new Gt(Ge);function gN(){return mN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function sb(i){return{integerValue:""+i}}function pN(i,e){return HR(e)?sb(e):Dg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function yN(i,e,n){return i instanceof mc?(function(o,c){const h={fields:{[B1]:{stringValue:U1},[H1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&kg(c)&&(c=Qh(c)),c&&(h.fields[q1]=c),{mapValue:h}})(n,e):i instanceof gc?ob(i,e):i instanceof pc?lb(i,e):(function(o,c){const h=ab(o,c),g=O_(h)+O_(o.Ae);return Gm(h)&&Gm(o.Ae)?sb(g):Dg(o.serializer,g)})(i,e)}function vN(i,e,n){return i instanceof gc?ob(i,e):i instanceof pc?lb(i,e):n}function ab(i,e){return i instanceof Ch?(function(s){return Gm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class mc extends Wh{}class gc extends Wh{constructor(e){super(),this.elements=e}}function ob(i,e){const n=cb(e);for(const s of i.elements)n.some((o=>Pr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class pc extends Wh{constructor(e){super(),this.elements=e}}function lb(i,e){let n=cb(e);for(const s of i.elements)n=n.filter((o=>!Pr(o,s)));return{arrayValue:{values:n}}}class Ch extends Wh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function O_(i){return Nt(i.integerValue||i.doubleValue)}function cb(i){return Rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n){this.field=e,this.transform=n}}function xN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof gc&&o instanceof gc||s instanceof pc&&o instanceof pc?yo(s.elements,o.elements,Pr):s instanceof Ch&&o instanceof Ch?Pr(s.Ae,o.Ae):s instanceof mc&&o instanceof mc})(i.transform,e.transform)}class bN{constructor(e,n){this.version=e,this.transformResults=n}}class pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Zh{}function ub(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new db(i.key,pi.none()):new Ac(i.key,i.data,pi.none());{const n=i.data,s=Zn.empty();let o=new Gt(an.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new ha(i.key,s,new or(o.toArray()),pi.none())}}function EN(i,e,n){i instanceof Ac?(function(o,c,h){const g=o.value.clone(),p=V_(o.fieldTransforms,c,h.transformResults);g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):i instanceof ha?(function(o,c,h){if(!yh(o.precondition,c))return void c.convertToUnknownDocument(h.version);const g=V_(o.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(hb(o)),p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function tc(i,e,n,s){return i instanceof Ac?(function(c,h,g,p){if(!yh(c.precondition,h))return g;const y=c.value.clone(),x=P_(c.fieldTransforms,p,h);return y.setAll(x),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof ha?(function(c,h,g,p){if(!yh(c.precondition,h))return g;const y=P_(c.fieldTransforms,p,h),x=h.data;return x.setAll(hb(c)),x.setAll(y),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(i,e,n,s):(function(c,h,g){return yh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g})(i,e,n)}function TN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=ab(s.transform,o||null);c!=null&&(n===null&&(n=Zn.empty()),n.set(s.field,c))}return n||null}function M_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,((c,h)=>xN(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ac extends Zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ha extends Zh{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function V_(i,e,n){const s=new Map;ot(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],h=c.transform,g=e.data.field(c.field);s.set(c.field,vN(h,g,n[o]))}return s}function P_(i,e,n){const s=new Map;for(const o of i){const c=o.transform,h=n.data.field(o.field);s.set(o.field,yN(c,h,e))}return s}class db extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wN extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&EN(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=tc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=tc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ib();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let g=this.applyToLocalView(h,c.mutatedFields);g=n.has(o.key)?null:g;const p=ub(h,g);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(De.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((n,s)=>M_(n,s)))&&yo(this.baseMutations,e.baseMutations,((n,s)=>M_(n,s)))}}class jg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ot(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return dN})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new jg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,We;function RN(i){switch(i){case te.OK:return ke(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ke(15467,{code:i})}}function fb(i){if(i===void 0)return bi("GRPC error has no .code"),te.UNKNOWN;switch(i){case Ot.OK:return te.OK;case Ot.CANCELLED:return te.CANCELLED;case Ot.UNKNOWN:return te.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return te.INTERNAL;case Ot.UNAVAILABLE:return te.UNAVAILABLE;case Ot.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ot.NOT_FOUND:return te.NOT_FOUND;case Ot.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ot.ABORTED:return te.ABORTED;case Ot.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ot.DATA_LOSS:return te.DATA_LOSS;default:return ke(39323,{code:i})}}(We=Ot||(Ot={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new ls([4294967295,4294967295],0);function L_(i){const e=NN().encode(i),n=new R1;return n.update(e),new Uint8Array(n.digest())}function z_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ls([n,s],0),new ls([o,c],0)]}class Og{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ls.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ls.fromNumber(s)));return o.compare(IN)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=L_(e),[s,o]=z_(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Og(c,o,n);return s.forEach((g=>h.insert(g))),h}insert(e){if(this.ge===0)return;const n=L_(e),[s,o]=z_(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,kc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(De.min(),o,new Tt(Ge),Ei(),Fe())}}class kc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new kc(s,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class mb{constructor(e,n){this.targetId=e,this.Ce=n}}class gb{constructor(e,n,s=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class U_{constructor(){this.ve=0,this.Fe=B_(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),s=Fe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ke(38017,{changeType:c})}})),new kc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=B_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ei(),this.Je=sh(),this.He=sh(),this.Ye=new Tt(Ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if($m(c))if(s===0){const h=new Ee(c.path);this.et(n,h,fn.newNoDocument(h,De.min()))}else ot(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const g=this.ut(e),p=g?this.ct(g,e,h):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let h,g;try{h=ds(s).toUint8Array()}catch(p){if(p instanceof z1)return lc("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Og(h,o,c)}catch(p){return lc(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),g=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const g=this.ot(h);if(g){if(c.current&&$m(g.target)){const p=new Ee(g.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,fn.newNoDocument(p,e))}c.Be&&(n.set(h,c.ke()),c.qe())}}));let s=Fe();this.He.forEach(((c,h)=>{let g=!0;h.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new Jh(e,n,this.Ye,this.je,s);return this.je=Ei(),this.Je=sh(),this.He=sh(),this.Ye=new Tt(Ge),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new U_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gt(Ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gt(Ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new Tt(Ee.comparator)}function B_(){return new Tt(Ee.comparator)}const DN={asc:"ASCENDING",desc:"DESCENDING"},jN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ON={and:"AND",or:"OR"};class MN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ym(i,e){return i.useProto3Json||Kh(e)?e:{value:e}}function Dh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function VN(i,e){return Dh(i,e.toTimestamp())}function jr(i){return ot(!!i,49232),De.fromTimestamp((function(n){const s=hs(n);return new yt(s.seconds,s.nanos)})(i))}function Mg(i,e){return Xm(i,e).canonicalString()}function Xm(i,e){const n=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function yb(i){const e=pt.fromString(i);return ot(Eb(e),10190,{key:e.toString()}),e}function Wm(i,e){return Mg(i.databaseId,e.path)}function Sm(i,e){const n=yb(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ee(_b(n))}function vb(i,e){return Mg(i.databaseId,e)}function PN(i){const e=yb(i);return e.length===4?pt.emptyPath():_b(e)}function Zm(i){return new pt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _b(i){return ot(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function q_(i,e,n){return{name:Wm(i,e),fields:n.value.mapValue.fields}}function LN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ke(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(ot(x===void 0||typeof x=="string",58123),on.fromBase64String(x||"")):(ot(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),on.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&(function(y){const x=y.code===void 0?te.UNKNOWN:fb(y.code);return new fe(x,y.message||"")})(h);n=new gb(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(i,s.document.name),c=jr(s.document.updateTime),h=s.document.createTime?jr(s.document.createTime):De.min(),g=new Zn({mapValue:{fields:s.document.fields}}),p=fn.newFoundDocument(o,c,h,g),y=s.targetIds||[],x=s.removedTargetIds||[];n=new vh(y,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sm(i,s.document),c=s.readTime?jr(s.readTime):De.min(),h=fn.newNoDocument(o,c),g=s.removedTargetIds||[];n=new vh([],g,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sm(i,s.document),c=s.removedTargetIds||[];n=new vh([],c,o,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new kN(o,c),g=s.targetId;n=new mb(g,h)}}return n}function zN(i,e){let n;if(e instanceof Ac)n={update:q_(i,e.key,e.value)};else if(e instanceof db)n={delete:Wm(i,e.key)};else if(e instanceof ha)n={update:q_(i,e.key,e.data),updateMask:QN(e.fieldMask)};else{if(!(e instanceof wN))return ke(16599,{Vt:e.type});n={verify:Wm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const g=h.transform;if(g instanceof mc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof gc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof pc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ch)return{fieldPath:h.field.canonicalString(),increment:g.Ae};throw ke(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:VN(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ke(27497)})(i,e.precondition)),n}function UN(i,e){return i&&i.length>0?(ot(e!==void 0,14353),i.map((n=>(function(o,c){let h=o.updateTime?jr(o.updateTime):jr(c);return h.isEqual(De.min())&&(h=jr(c)),new bN(h,o.transformResults||[])})(n,e)))):[]}function BN(i,e){return{documents:[vb(i,e.path)]}}function qN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vb(i,o);const c=(function(y){if(y.length!==0)return bb(hr.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((x=>(function(S){return{field:oo(S.field),direction:FN(S.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const g=Ym(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function HN(i){let e=PN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ot(s===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const S=xb(E);return S instanceof hr&&Y1(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((S=>(function(q){return new fc(lo(q.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(S)))})(n.orderBy));let g=null;n.limit&&(g=(function(E){let S;return S=typeof E=="object"?E.value:E,Kh(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(E){const S=!!E.before,M=E.values||[];return new Ih(M,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const S=!E.before,M=E.values||[];return new Ih(M,S)})(n.endAt)),oN(e,o,h,c,g,"F",p,y)}function GN(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=lo(n.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=lo(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Mt.create(lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return hr.create(n.compositeFilter.filters.map((s=>xb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(i):ke(30097,{filter:i})}function FN(i){return DN[i]}function $N(i){return jN[i]}function KN(i){return ON[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return an.fromServerFormat(i.fieldPath)}function bb(i){return i instanceof Mt?(function(n){if(n.op==="=="){if(N_(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(R_(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N_(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(R_(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:$N(n.op),value:n.value}}})(i):i instanceof hr?(function(n){const s=n.getFilters().map((o=>bb(o)));return s.length===1?s[0]:{compositeFilter:{op:KN(n.op),filters:s}}})(i):ke(54877,{filter:i})}function QN(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Eb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,s,o,c=De.min(),h=De.min(),g=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.yt=e}}function XN(i){const e=HN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.Cn=new ZN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(us.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class ZN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Gt(pt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Gt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tb=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(Tb,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="LruGarbageCollector",wb=1048576;function F_([i,e],[n,s]){const o=Ge(i,n);return o===0?Ge(e,s):o}class JN{constructor(e){this.Ir=e,this.buffer=new Gt(F_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();F_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(G_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?pe(G_,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class tI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve($h.ce);const s=new JN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(H_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,h,g,p,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,g=Date.now(),this.removeTargets(e,s,n)))).next((E=>(c=E,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),so()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(g-h)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-x}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function nI(i,e){return new tI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&tc(s.mutation,o,or.empty(),yt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Fe()){const o=ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let h=Kl();return c.forEach(((g,p)=>{h=h.insert(g,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ea();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Fe())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,g)=>{n.set(h,g)}))}))}computeViews(e,n,s,o){let c=Ei();const h=ec(),g=(function(){return ec()})();return n.forEach(((p,y)=>{const x=s.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof ha)?c=c.insert(y.key,y):x!==void 0?(h.set(y.key,x.mutation.getFieldMask()),tc(x.mutation,y,x.mutation.getFieldMask(),yt.now())):h.set(y.key,or.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,x)=>h.set(y,x))),n.forEach(((y,x)=>g.set(y,new iI(x,h.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=ec();let o=new Tt(((h,g)=>h-g)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const g of h)g.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let x=s.get(p)||or.empty();x=g.applyToLocalView(y,x),s.set(p,x);const E=(o.get(g.batchId)||Fe()).add(p);o=o.insert(g.batchId,E)}))})).next((()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,x=p.value,E=ib();x.forEach((S=>{if(!c.has(S)){const M=ub(n.get(S),s.get(S));M!==null&&E.set(S,M),c=c.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return Ee.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):J1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ie.resolve(ea());let g=cc,p=c;return h.next((y=>ie.forEach(y,((x,E)=>(g<E.largestBatchId&&(g=E.largestBatchId),c.get(x)?ie.resolve():this.remoteDocumentCache.getEntry(e,x).next((S=>{p=p.insert(x,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,Fe()))).next((x=>({batchId:g,changes:rb(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let h=Kl();return this.indexManager.getCollectionParents(e,c).next((g=>ie.forEach(g,(p=>{const y=(function(E,S){return new jo(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((x=>{x.forEach(((E,S)=>{h=h.insert(E,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((h=>{c.forEach(((p,y)=>{const x=y.getKey();h.get(x)===null&&(h=h.insert(x,fn.newInvalidDocument(x)))}));let g=Kl();return h.forEach(((p,y)=>{const x=c.get(p);x!==void 0&&tc(x.mutation,y,or.empty(),yt.now()),Xh(n,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:jr(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:XN(o.bundledQuery),readTime:jr(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.overlays=new Tt(Ee.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ea();return ie.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=ea(),c=n.length+1,h=new Ee(n.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new Tt(((y,x)=>y-x));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let x=c.get(y.largestBatchId);x===null&&(x=ea(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const g=ea(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,x)=>g.set(y,x))),!(g.size()>=o)););return ie.resolve(g)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new AN(n,s));let c=this.qr.get(n);c===void 0&&(c=Fe(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this.Qr=new Gt(Xt.$r),this.Ur=new Gt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Xt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ee(new pt([])),s=new Xt(n,e),o=new Xt(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new pt([])),s=new Xt(n,e),o=new Xt(n,e+1);let c=Fe();return this.Ur.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Xt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||Ge(e.Yr,n.Yr)}static Kr(e,n){return Ge(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Xt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new SN(c,n,s,o);this.mutationQueue.push(h);for(const g of o)this.Zr=this.Zr.add(new Xt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Ag:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(h=>{const g=this.Xr(h.Yr);c.push(g)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gt(Ge);return n.forEach((o=>{const c=new Xt(o,0),h=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(g=>{s=s.add(g.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;Ee.isDocumentKey(c)||(c=c.child(""));const h=new Xt(new Ee(c),0);let g=new Gt(Ge);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)}),h),ie.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ot(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const c=new Xt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Xt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.ri=e,this.docs=(function(){return new Tt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let s=Ei();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():fn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Ei();const h=n.path,g=new Ee(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:x}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||zR(LR(x),s)<=0||(o.has(x.key)||Xh(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,s,o){ke(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new hI(this)}getSize(e){return ie.resolve(this.size)}}class hI extends rI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.persistence=e,this.si=new ua((n=>Ng(n)),Ig),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new Vg,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((h,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n){this.ui={},this.overlays={},this.ci=new $h(0),this.li=!1,this.li=!0,this.hi=new lI,this.referenceDelegate=e(this),this.Pi=new dI(this),this.indexManager=new WN,this.remoteDocumentCache=(function(o){return new uI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new YN(n),this.Ii=new aI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new cI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const o=new fI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class fI extends BR{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Ri=new Vg,this.Vi=null}static mi(e){return new Pg(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=Ee.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.pi=new ua((s=>GR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=nI(this,n)}static mi(e,n){return new jh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((g=>{g||(s++,c.removeEntry(h,De.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Fe(),o=Fe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Lg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GS()?8:qR(mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new mI;return this.Ss(e,n,h).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,h,g.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(so()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(so()<=He.DEBUG&&pe("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(so()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):ie.resolve())}ys(e,n){if(j_(n))return ie.resolve(null);let s=Dr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),s=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=Fe(...c);return this.ps.getDocuments(e,h).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,g);return this.Cs(n,y,h,p.readTime)?this.ys(e,Qm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return j_(n)||o.isEqual(De.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((c=>{const h=this.Ds(n,c);return this.Cs(n,h,s,o)?ie.resolve(null):(so()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.vs(e,h,n,PR(o,cc)).next((g=>g)))}))}Ds(e,n){let s=new Gt(tb(e));return n.forEach(((o,c)=>{Xh(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return so()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ps.getDocumentsMatchingQuery(e,n,us.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="LocalStore",pI=3e8;class yI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Tt(Ge),this.xs=new ua((c=>Ng(c)),Ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function vI(i,e,n,s){return new yI(i,e,n,s)}async function Ab(i,e){const n=Oe(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],g=[];let p=Fe();for(const y of o){h.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}for(const y of c){g.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:g})))}))}))}function _I(i,e){const n=Oe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,x){const E=y.batch,S=E.keys();let M=ie.resolve();return S.forEach((q=>{M=M.next((()=>x.getEntry(p,q))).next((z=>{const L=y.docVersions.get(q);ot(L!==null,48541),z.version.compareTo(L)<0&&(E.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),x.addEntry(z)))}))})),M.next((()=>g.mutationQueue.removeMutationBatch(p,E)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Fe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function kb(i){const e=Oe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xI(i,e){const n=Oe(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];e.targetChanges.forEach(((x,E)=>{const S=o.get(E);if(!S)return;g.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,E))));let M=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?M=M.withResumeToken(on.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):x.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(x.resumeToken,s)),o=o.insert(E,M),(function(z,L,F){return z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=pI?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(S,M,x)&&g.push(n.Pi.updateTargetData(c,M))}));let p=Ei(),y=Fe();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),g.push(bI(c,h,e.documentUpdates).next((x=>{p=x.ks,y=x.qs}))),!s.isEqual(De.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(x)}return ie.waitFor(g).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(n.Ms=o,c)))}function bI(i,e,n){let s=Fe(),o=Fe();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let h=Ei();return n.forEach(((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(g,p.readTime),h=h.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(g,p)):pe(zg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function EI(i,e){const n=Oe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ag),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function TI(i,e){const n=Oe(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,ie.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new is(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Jm(i,e,n){const s=Oe(i),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Do(h))throw h;pe(zg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function $_(i,e,n){const s=Oe(i);let o=De.min(),c=Fe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,x){const E=Oe(p),S=E.xs.get(x);return S!==void 0?ie.resolve(E.Ms.get(S)):E.Pi.getTargetData(y,x)})(s,h,Dr(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,g.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:De.min(),n?c:Fe()))).next((g=>(wI(s,cN(e),g),{documents:g,Qs:c})))))}function wI(i,e,n){let s=i.Os.get(e)||De.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class K_{constructor(){this.activeTargetIds=gN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SI{constructor(){this.Mo=new K_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new K_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="ConnectivityMonitor";class Y_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(Q_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(Q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function eg(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",kI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const h=eg(),g=this.zo(e,n.toUriEncodedString());pe(Am,`Sending RPC '${e}' ${h}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:y}=new URL(g),x=ko(y);return this.Jo(e,g,p,s,x).then((E=>(pe(Am,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw lc(Am,`RPC '${e}' ${h} failed with error: `,E,"url: ",g,"request:",s),E}))}Ho(e,n,s,o,c,h){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=kI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class II extends RI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const h=eg();return new Promise(((g,p)=>{const y=new N1;y.setWithCredentials(!0),y.listenOnce(I1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case mh.NO_ERROR:const E=y.getResponseJson();pe(dn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),g(E);break;case mh.TIMEOUT:pe(dn,`RPC '${e}' ${h} timed out`),p(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const S=y.getStatus();if(pe(dn,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const q=M?.error;if(q&&q.status&&q.message){const z=(function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf($)>=0?$:te.UNKNOWN})(q.status);p(new fe(z,q.message))}else p(new fe(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new fe(te.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{pe(dn,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);pe(dn,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",x,s,15)}))}T_(e,n,s){const o=eg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=j1(),g=D1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const x=c.join("");pe(dn,`Creating RPC '${e}' stream ${o}: ${x}`,p);const E=h.createWebChannel(x,p);this.I_(E);let S=!1,M=!1;const q=new NI({Yo:L=>{M?pe(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(pe(dn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),pe(dn,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Zo:()=>E.close()}),z=(L,F,$)=>{L.listen(F,(ae=>{try{$(ae)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return z(E,$l.EventType.OPEN,(()=>{M||(pe(dn,`RPC '${e}' stream ${o} transport opened.`),q.o_())})),z(E,$l.EventType.CLOSE,(()=>{M||(M=!0,pe(dn,`RPC '${e}' stream ${o} transport closed`),q.a_(),this.E_(E))})),z(E,$l.EventType.ERROR,(L=>{M||(M=!0,lc(dn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),q.a_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),z(E,$l.EventType.MESSAGE,(L=>{if(!M){const F=L.data[0];ot(!!F,16349);const $=F,ae=$?.error||$[0]?.error;if(ae){pe(dn,`RPC '${e}' stream ${o} received error:`,ae);const ve=ae.status;let me=(function(k){const N=Ot[k];if(N!==void 0)return fb(N)})(ve),de=ae.message;me===void 0&&(me=te.INTERNAL,de="Unknown error status: "+ve+" with message "+ae.message),M=!0,q.a_(new fe(me,de)),E.close()}else pe(dn,`RPC '${e}' stream ${o} received:`,F),q.u_(F)}})),z(g,C1.STAT_EVENT,(L=>{L.stat===Bm.PROXY?pe(dn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Bm.NOPROXY&&pe(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(i){return new MN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="PersistentStream";class Nb{constructor(e,n,s,o,c,h,g,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(X_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(X_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CI extends Nb{constructor(e,n,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LN(this.serializer,e),s=(function(c){if(!("targetChange"in c))return De.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?De.min():h.readTime?jr(h.readTime):De.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Zm(this.serializer),n.addTarget=(function(c,h){let g;const p=h.target;if(g=$m(p)?{documents:BN(c,p)}:{query:qN(c,p).ft},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=pb(c,h.resumeToken);const y=Ym(c,h.expectedCount);y!==null&&(g.expectedCount=y)}else if(h.snapshotVersion.compareTo(De.min())>0){g.readTime=Dh(c,h.snapshotVersion.toTimestamp());const y=Ym(c,h.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=GN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.q_(n)}}class DI extends Nb{constructor(e,n,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=UN(e.writeResults,e.commitTime),s=jr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Zm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>zN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{}class OI extends jI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,Xm(n,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(te.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,g])=>this.connection.Ho(e,Xm(n,s),o,h,g,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(te.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bi(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class VI{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{da(this)&&(pe(oa,"Restarting streams for network reachability change."),await(async function(p){const y=Oe(p);y.Ea.add(4),await Rc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await td(y)})(this))}))})),this.Ra=new MI(s,o)}}async function td(i){if(da(i))for(const e of i.da)await e(!0)}async function Rc(i){for(const e of i.da)await e(!1)}function Ib(i,e){const n=Oe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hg(n)?qg(n):Oo(n).O_()&&Bg(n,e))}function Ug(i,e){const n=Oe(i),s=Oo(n);n.Ia.delete(e),s.O_()&&Cb(n,e),n.Ia.size===0&&(s.O_()?s.L_():da(n)&&n.Ra.set("Unknown"))}function Bg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(i).Y_(e)}function Cb(i,e){i.Va.Ue(e),Oo(i).Z_(e)}function qg(i){i.Va=new CN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Oo(i).start(),i.Ra.ua()}function Hg(i){return da(i)&&!Oo(i).x_()&&i.Ia.size>0}function da(i){return Oe(i).Ea.size===0}function Db(i){i.Va=void 0}async function PI(i){i.Ra.set("Online")}async function LI(i){i.Ia.forEach(((e,n)=>{Bg(i,e)}))}async function zI(i,e){Db(i),Hg(i)?(i.Ra.ha(e),qg(i)):i.Ra.set("Unknown")}async function UI(i,e,n){if(i.Ra.set("Online"),e instanceof gb&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,h),o.Ia.delete(g),o.Va.removeTarget(g))})(i,e)}catch(s){pe(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oh(i,s)}else if(e instanceof vh?i.Va.Ze(e):e instanceof mb?i.Va.st(e):i.Va.tt(e),!n.isEqual(De.min()))try{const s=await kb(i.localStore);n.compareTo(s)>=0&&await(function(c,h){const g=c.Va.Tt(h);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(p.resumeToken,h))}})),g.targetMismatches.forEach(((p,y)=>{const x=c.Ia.get(p);if(!x)return;c.Ia.set(p,x.withResumeToken(on.EMPTY_BYTE_STRING,x.snapshotVersion)),Cb(c,p);const E=new is(x.target,p,y,x.sequenceNumber);Bg(c,E)})),c.remoteSyncer.applyRemoteEvent(g)})(i,n)}catch(s){pe(oa,"Failed to raise snapshot:",s),await Oh(i,s)}}async function Oh(i,e,n){if(!Do(e))throw e;i.Ea.add(1),await Rc(i),i.Ra.set("Offline"),n||(n=()=>kb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{pe(oa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await td(i)}))}function jb(i,e){return e().catch((n=>Oh(i,n,e)))}async function nd(i){const e=Oe(i),n=ms(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ag;for(;BI(e);)try{const o=await EI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,qI(e,o)}catch(o){await Oh(e,o)}Ob(e)&&Mb(e)}function BI(i){return da(i)&&i.Ta.length<10}function qI(i,e){i.Ta.push(e);const n=ms(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Ob(i){return da(i)&&!ms(i).x_()&&i.Ta.length>0}function Mb(i){ms(i).start()}async function HI(i){ms(i).ra()}async function GI(i){const e=ms(i);for(const n of i.Ta)e.ea(n.mutations)}async function FI(i,e,n){const s=i.Ta.shift(),o=jg.from(s,e,n);await jb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await nd(i)}async function $I(i,e){e&&ms(i).X_&&await(async function(s,o){if((function(h){return RN(h)&&h!==te.ABORTED})(o.code)){const c=s.Ta.shift();ms(s).B_(),await jb(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await nd(s)}})(i,e),Ob(i)&&Mb(i)}async function W_(i,e){const n=Oe(i);n.asyncQueue.verifyOperationInProgress(),pe(oa,"RemoteStore received new credentials");const s=da(n);n.Ea.add(3),await Rc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await td(n)}async function KI(i,e){const n=Oe(i);e?(n.Ea.delete(2),await td(n)):e||(n.Ea.add(2),await Rc(n),n.Ra.set("Unknown"))}function Oo(i){return i.ma||(i.ma=(function(n,s,o){const c=Oe(n);return c.sa(),new CI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:PI.bind(null,i),t_:LI.bind(null,i),r_:zI.bind(null,i),H_:UI.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Hg(i)?qg(i):i.Ra.set("Unknown")):(await i.ma.stop(),Db(i))}))),i.ma}function ms(i){return i.fa||(i.fa=(function(n,s,o){const c=Oe(n);return c.sa(),new DI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:HI.bind(null,i),r_:$I.bind(null,i),ta:GI.bind(null,i),na:FI.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await nd(i)):(await i.fa.stop(),i.Ta.length>0&&(pe(oa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const h=Date.now()+s,g=new Gg(e,n,h,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(i,e){if(bi("AsyncQueue",`${e}: ${i}`),Do(i))return new fe(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.ga=new Tt(Ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Eo{constructor(e,n,s,o,c,h,g,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const h=[];return n.forEach((g=>{h.push({type:0,doc:g})})),new Eo(e,n,mo.emptySet(n),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class YI{constructor(){this.queries=J_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Oe(n),c=o.queries;o.queries=J_(),c.forEach(((h,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function J_(){return new ua((i=>eb(i)),Yh)}async function Vb(i,e){const n=Oe(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new QI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const g=Fg(h,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&$g(n)}async function Pb(i,e){const n=Oe(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XI(i,e){const n=Oe(i);let s=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const g of h.Sa)g.Fa(o)&&(s=!0);h.wa=o}}s&&$g(n)}function WI(i,e,n){const s=Oe(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function $g(i){i.Ca.forEach((e=>{e.next()}))}var tg,ex;(ex=tg||(tg={})).Ma="default",ex.Cache="cache";class Lb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.key=e}}class Ub{constructor(e){this.key=e}}class ZI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=tb(e),this.tu=new mo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Z_,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const S=o.get(x),M=Xh(this.query,E)?E:null,q=!!S&&this.mutatedKeys.has(S.key),z=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let L=!1;S&&M?S.data.isEqual(M.data)?q!==z&&(s.track({type:3,doc:M}),L=!0):this.su(S,M)||(s.track({type:2,doc:M}),L=!0,(p&&this.eu(M,p)>0||y&&this.eu(M,y)<0)&&(g=!0)):!S&&M?(s.track({type:0,doc:M}),L=!0):S&&!M&&(s.track({type:1,doc:S}),L=!0,(p||y)&&(g=!0)),L&&(M?(h=h.add(M),c=z?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:h,iu:s,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,E)=>(function(M,q){const z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:L})}};return z(M)-z(q)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,h.length!==0||y?{snapshot:new Eo(this.query,e.tu,c,h,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Ub(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new zb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kg="SyncEngine";class JI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class eC{constructor(e){this.key=e,this.hu=!1}}class tC{constructor(e,n,s,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ua((g=>eb(g)),Yh),this.Iu=new Map,this.Eu=new Set,this.du=new Tt(Ee.comparator),this.Au=new Map,this.Ru=new Vg,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nC(i,e,n=!0){const s=$b(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Bb(s,e,n,!0),o}async function rC(i,e){const n=$b(i);await Bb(n,e,!0,!1)}async function Bb(i,e,n,s){const o=await TI(i.localStore,Dr(e)),c=o.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await iC(i,e,c,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&Ib(i.remoteStore,o),g}async function iC(i,e,n,s,o){i.pu=(E,S,M)=>(async function(z,L,F,$){let ae=L.view.ru(F);ae.Cs&&(ae=await $_(z.localStore,L.query,!1).then((({documents:j})=>L.view.ru(j,ae))));const ve=$&&$.targetChanges.get(L.targetId),me=$&&$.targetMismatches.get(L.targetId)!=null,de=L.view.applyChanges(ae,z.isPrimaryClient,ve,me);return nx(z,L.targetId,de.au),de.snapshot})(i,E,S,M);const c=await $_(i.localStore,e,!0),h=new ZI(e,c.Qs),g=h.ru(c.documents),p=kc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=h.applyChanges(g,i.isPrimaryClient,p);nx(i,n,y.au);const x=new JI(e,n,h);return i.Tu.set(e,x),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function sC(i,e,n){const s=Oe(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!Yh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ug(s.remoteStore,o.targetId),ng(s,o.targetId)})).catch(Co)):(ng(s,o.targetId),await Jm(s.localStore,o.targetId,!0))}async function aC(i,e){const n=Oe(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ug(n.remoteStore,s.targetId))}async function oC(i,e,n){const s=mC(i);try{const o=await(function(h,g){const p=Oe(h),y=yt.now(),x=g.reduce(((M,q)=>M.add(q.key)),Fe());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let q=Ei(),z=Fe();return p.Ns.getEntries(M,x).next((L=>{q=L,q.forEach(((F,$)=>{$.isValidDocument()||(z=z.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,q))).next((L=>{E=L;const F=[];for(const $ of g){const ae=TN($,E.get($.key).overlayedDocument);ae!=null&&F.push(new ha($.key,ae,$1(ae.value.mapValue),pi.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,F,g)})).next((L=>{S=L;const F=L.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(M,L.batchId,F)}))})).then((()=>({batchId:S.batchId,changes:rb(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,g,p){let y=h.Vu[h.currentUser.toKey()];y||(y=new Tt(Ge)),y=y.insert(g,p),h.Vu[h.currentUser.toKey()]=y})(s,o.batchId,n),await Nc(s,o.changes),await nd(s.remoteStore)}catch(o){const c=Fg(o,"Failed to persist write");n.reject(c)}}async function qb(i,e){const n=Oe(i);try{const s=await xI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?ot(h.hu,14607):o.removedDocuments.size>0&&(ot(h.hu,42227),h.hu=!1))})),await Nc(n,s,e)}catch(s){await Co(s)}}function tx(i,e,n){const s=Oe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,h)=>{const g=h.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(h,g){const p=Oe(h);p.onlineState=g;let y=!1;p.queries.forEach(((x,E)=>{for(const S of E.Sa)S.va(g)&&(y=!0)})),y&&$g(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lC(i,e,n){const s=Oe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new Tt(Ee.comparator);h=h.insert(c,fn.newNoDocument(c,De.min()));const g=Fe().add(c),p=new Jh(De.min(),new Map,new Tt(Ge),h,g);await qb(s,p),s.du=s.du.remove(c),s.Au.delete(e),Qg(s)}else await Jm(s.localStore,e,!1).then((()=>ng(s,e,n))).catch(Co)}async function cC(i,e){const n=Oe(i),s=e.batch.batchId;try{const o=await _I(n.localStore,e);Gb(n,s,null),Hb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nc(n,o)}catch(o){await Co(o)}}async function uC(i,e,n){const s=Oe(i);try{const o=await(function(h,g){const p=Oe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return p.mutationQueue.lookupMutationBatch(y,g).next((E=>(ot(E!==null,37113),x=E.keys(),p.mutationQueue.removeMutationBatch(y,E)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,x,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>p.localDocuments.getDocuments(y,x)))}))})(s.localStore,e);Gb(s,e,n),Hb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nc(s,o)}catch(o){await Co(o)}}function Hb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Gb(i,e,n){const s=Oe(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ng(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Fb(i,s)}))}function Fb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Ug(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Qg(i))}function nx(i,e,n){for(const s of n)s instanceof zb?(i.Ru.addReference(s.key,e),hC(i,s)):s instanceof Ub?(pe(Kg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Fb(i,s.key)):ke(19791,{wu:s})}function hC(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(pe(Kg,"New document in limbo: "+n),i.Eu.add(s),Qg(i))}function Qg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ee(pt.fromString(e)),s=i.fu.next();i.Au.set(s,new eC(n)),i.du=i.du.insert(n,s),Ib(i.remoteStore,new is(Dr(Cg(n.path)),s,"TargetPurposeLimboResolution",$h.ce))}}async function Nc(i,e,n){const s=Oe(i),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{h.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(y){o.push(y);const x=Lg.As(p.targetId,y);c.push(x)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,y){const x=Oe(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ie.forEach(y,(S=>ie.forEach(S.Es,(M=>x.persistence.referenceDelegate.addReference(E,S.targetId,M))).next((()=>ie.forEach(S.ds,(M=>x.persistence.referenceDelegate.removeReference(E,S.targetId,M)))))))))}catch(E){if(!Do(E))throw E;pe(zg,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const M=x.Ms.get(S),q=M.snapshotVersion,z=M.withLastLimboFreeSnapshotVersion(q);x.Ms=x.Ms.insert(S,z)}}})(s.localStore,c))}async function dC(i,e){const n=Oe(i);if(!n.currentUser.isEqual(e)){pe(Kg,"User change. New user:",e.toKey());const s=await Ab(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new fe(te.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nc(n,s.Ls)}}function fC(i,e){const n=Oe(i),s=n.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let o=Fe();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const g=n.Tu.get(h);o=o.unionWith(g.view.nu)}return o}}function $b(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lC.bind(null,e),e.Pu.H_=XI.bind(null,e.eventManager),e.Pu.yu=WI.bind(null,e.eventManager),e}function mC(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uC.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vI(this.persistence,new gI,e.initialUser,this.serializer)}Cu(e){return new Sb(Pg.mi,this.serializer)}Du(e){return new SI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class gC extends Mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ot(this.persistence.referenceDelegate instanceof jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new eI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new Sb((s=>jh.mi(s,n)),this.serializer)}}class rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tx(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dC.bind(null,this.syncEngine),await KI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YI})()}createDatastore(e){const n=ed(e.databaseInfo.databaseId),s=(function(c){return new II(c)})(e.databaseInfo);return(function(c,h,g,p){return new OI(c,h,g,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,h,g){return new VI(s,o,c,h,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>tx(this.syncEngine,n,0)),(function(){return Y_.v()?new Y_:new AI})())}createSyncEngine(e,n){return(function(o,c,h,g,p,y,x){const E=new tC(o,c,h,g,p,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Oe(n);pe(oa,"RemoteStore shutting down."),s.Ea.add(5),await Rc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rg.provider={build:()=>new rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class pC{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=Sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{pe(gs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(pe(gs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Rm(i,e){i.asyncQueue.verifyOperationInProgress(),pe(gs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Ab(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function rx(i,e){i.asyncQueue.verifyOperationInProgress();const n=await yC(i);pe(gs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>W_(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>W_(e.remoteStore,o))),i._onlineComponents=e}async function yC(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pe(gs,"Using user provided OfflineComponentProvider");try{await Rm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;lc("Error using user provided cache. Falling back to memory cache: "+n),await Rm(i,new Mh)}}else pe(gs,"Using default OfflineComponentProvider"),await Rm(i,new gC(void 0));return i._offlineComponents}async function Qb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pe(gs,"Using user provided OnlineComponentProvider"),await rx(i,i._uninitializedComponentsProvider._online)):(pe(gs,"Using default OnlineComponentProvider"),await rx(i,new rg))),i._onlineComponents}function vC(i){return Qb(i).then((e=>e.syncEngine))}async function Yb(i){const e=await Qb(i),n=e.eventManager;return n.onListen=nC.bind(null,e.syncEngine),n.onUnlisten=sC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aC.bind(null,e.syncEngine),n}function _C(i,e,n={}){const s=new gi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,g,p,y){const x=new Kb({next:S=>{x.Nu(),h.enqueueAndForget((()=>Pb(c,E)));const M=S.docs.has(g);!M&&S.fromCache?y.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&p&&p.source==="server"?y.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new Lb(Cg(g.path),x,{includeMetadataChanges:!0,qa:!0});return Vb(c,E)})(await Yb(i),i.asyncQueue,e,n,s))),s.promise}function xC(i,e,n={}){const s=new gi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,g,p,y){const x=new Kb({next:S=>{x.Nu(),h.enqueueAndForget((()=>Pb(c,E))),S.fromCache&&p.source==="server"?y.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new Lb(g,x,{includeMetadataChanges:!0,qa:!0});return Vb(c,E)})(await Yb(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="firestore.googleapis.com",sx=!0;class ax{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bC,this.ssl=sx}else this.host=e.host,this.ssl=e.ssl??sx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Tb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wb)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ax({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ax(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new kR;switch(s.type){case"firstParty":return new IR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ix.get(n);s&&(pe("ComponentProvider","Removing Datastore"),ix.delete(n),s.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class Lt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Sc(n,Lt._jsonSchema))return new Lt(e,s||null,new Ee(pt.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Pt("string",Lt._jsonSchemaVersion),referencePath:Pt("string")};class cs extends fa{constructor(e,n,s){super(e,n,Cg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Ee(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Xg(i,e,...n){if(i=xn(i),M1("collection","path",e),i instanceof Yg){const s=pt.fromString(e,...n);return __(s),new cs(i,null,s)}{if(!(i instanceof Lt||i instanceof cs))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(pt.fromString(e,...n));return __(s),new cs(i.firestore,null,s)}}function Wb(i,e,...n){if(i=xn(i),arguments.length===1&&(e=Sg.newId()),M1("doc","path",e),i instanceof Yg){const s=pt.fromString(e,...n);return v_(s),new Lt(i,null,new Ee(s))}{if(!(i instanceof Lt||i instanceof cs))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(pt.fromString(e,...n));return v_(s),new Lt(i.firestore,i instanceof cs?i.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="AsyncQueue";class lx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rb(this,"async_queue_retry"),this._c=()=>{const s=km();s&&pe(ox,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Do(e))throw e;pe(ox,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,bi("INTERNAL UNHANDLED ERROR: ",cx(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Gg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ke(47125,{Pc:cx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cx(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class rd extends Yg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new lx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lx(e),this._firestoreClient=void 0,await e}}}function EC(i,e,n){n||(n=Rh);const s=gg(i,"firestore");if(s.isInitialized(n)){const o=s.getImmediate({identifier:n}),c=s.getOptions(n);if(na(c,e))return o;throw new fe(te.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new fe(te.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wb)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&ko(e.host)&&Bx(e.host),s.initialize({options:e,instanceIdentifier:n})}function Wg(i){if(i._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||TC(i),i._firestoreClient}function TC(i){const e=i._freezeSettings(),n=(function(o,c,h,g){return new KR(o,c,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Xb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new pC(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(on.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sc(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Pt("string",Jn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(Sc(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:Pt("string",Or._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sc(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mr(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:Pt("string",Mr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^__.*__$/;class SC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}function Zb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:i})}}class ep{constructor(e,n,s,o,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ep({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Zb(this.Ac)&&wC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ed(e)}Cc(e,n,s,o=!1){return new ep({Ac:e,methodName:n,Dc:s,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jb(i){const e=i._freezeSettings(),n=ed(i._databaseId);return new AC(i._databaseId,!!e.ignoreUndefinedProperties,n)}function kC(i,e,n,s,o,c={}){const h=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);nE("Data must be an object, but it was:",h,s);const g=eE(s,h);let p,y;if(c.merge)p=new or(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const S=NC(e,E,n);if(!h.contains(S))throw new fe(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);CC(x,S)||x.push(S)}p=new or(x),y=h.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,y=h.fieldTransforms;return new SC(new Zn(g),p,y)}class tp extends Jg{_toFieldTransform(e){return new _N(e.path,new mc)}isEqual(e){return e instanceof tp}}function RC(i,e,n,s=!1){return np(n,i.Cc(s?4:3,e))}function np(i,e){if(tE(i=xn(i)))return nE("Unsupported field value:",e,i),eE(i,e);if(i instanceof Jg)return(function(s,o){if(!Zb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const g of s){let p=np(g,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=xn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=yt.fromDate(s);return{timestampValue:Dh(o.serializer,c)}}if(s instanceof yt){const c=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,c)}}if(s instanceof Or)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:pb(o.serializer,s._byteString)};if(s instanceof Lt){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mr)return(function(h,g){return{mapValue:{fields:{[G1]:{stringValue:F1},[Nh]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Dg(g.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Fh(s)}`)})(i,e)}function eE(i,e){const n={};return L1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(i,((s,o)=>{const c=np(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function tE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof yt||i instanceof Or||i instanceof Jn||i instanceof Lt||i instanceof Jg||i instanceof Mr)}function nE(i,e,n){if(!tE(n)||!V1(n)){const s=Fh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function NC(i,e,n){if((e=xn(e))instanceof Zg)return e._internalPath;if(typeof e=="string")return rE(i,e);throw Vh("Field path arguments must be of type string or ",i,!1,void 0,n)}const IC=new RegExp("[~\\*/\\[\\]]");function rE(i,e,n){if(e.search(IC)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Zg(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Vh(i,e,n,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new fe(te.INVALID_ARGUMENT,g+i+p)}function CC(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(id("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DC extends iE{data(){return super.data()}}function id(i,e){return typeof e=="string"?rE(i,e):e instanceof Zg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rp{}class sE extends rp{}function ip(i,e,...n){let s=[];e instanceof rp&&s.push(e),s=s.concat(n),(function(c){const h=c.filter((p=>p instanceof ap)).length,g=c.filter((p=>p instanceof sd)).length;if(h>1||h>0&&g>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class sd extends sE{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new sd(e,n,s)}_apply(e){const n=this._parse(e);return oE(e._query,n),new fa(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=Jb(e.firestore);return(function(c,h,g,p,y,x,E){let S;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){hx(E,x);const q=[];for(const z of E)q.push(ux(p,c,z));S={arrayValue:{values:q}}}else S=ux(p,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||hx(E,x),S=RC(g,h,E,x==="in"||x==="not-in");return Mt.create(y,x,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sp(i,e,n){const s=e,o=id("where",i);return sd._create(o,s,n)}class ap extends rp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ap(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const g=c.getFlattenedFilters();for(const p of g)oE(h,p),h=Km(h,p)})(e._query,n),new fa(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class op extends sE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new op(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fc(c,h)})(e._query,this._field,this._direction);return new fa(e.firestore,e.converter,(function(o,c){const h=o.explicitOrderBy.concat([c]);return new jo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function aE(i,e="asc"){const n=e,s=id("orderBy",i);return op._create(s,n)}function ux(i,e,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J1(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(pt.fromString(n));if(!Ee.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return k_(i,new Ee(s))}if(n instanceof Lt)return k_(i,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function hx(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oE(i,e){const n=(function(o,c){for(const h of o)for(const g of h.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OC{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ca(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Nh].arrayValue?.values?.map((s=>Nt(s.doubleValue)));return new Mr(n)}convertGeoPoint(e){return new Or(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){const n=hs(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=pt.fromString(e);ot(Eb(s),9688,{name:e});const o=new hc(s.get(1),s.get(3)),c=new Ee(s.popFirst(5));return o.isEqual(n)||bi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends iE{constructor(e,n,s,o,c,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(id("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Pt("string",ta._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class _h extends ta{data(e={}){return super.data(e)}}class go{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new _h(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((g=>{const p=new _h(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new _h(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Yl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return g.type!==0&&(y=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),g.type!==1&&(h=h.add(g.doc),x=h.indexOf(g.doc.key)),{type:VC(g.type),doc:p,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(i){i=vo(i,Lt);const e=vo(i.firestore,rd);return _C(Wg(e),i._key).then((n=>zC(e,i,n)))}go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:Pt("string",go._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class cE extends OC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function lp(i){i=vo(i,fa);const e=vo(i.firestore,rd),n=Wg(e),s=new cE(e);return jC(i._query),xC(n,i._query).then((o=>new go(e,s,i,o)))}function PC(i,e,n){i=vo(i,Lt);const s=vo(i.firestore,rd),o=MC(i.converter,e,n);return LC(s,[kC(Jb(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,pi.none())])}function LC(i,e){return(function(s,o){const c=new gi;return s.asyncQueue.enqueueAndForget((async()=>oC(await vC(s),o,c))),c.promise})(Wg(i),e)}function zC(i,e,n){const s=n.docs.get(e._key),o=new cE(i);return new ta(i,o,e._key,s,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}function UC(){return new tp("serverTimestamp")}(function(e,n=!0){(function(o){Io=o})(Ro),po(new ra("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),g=new rd(new RR(s.getProvider("auth-internal")),new CR(h,s.getProvider("app-check-internal")),(function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(y.options.projectId,x)})(h,o),h);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),os(m_,g_,e),os(m_,g_,"esm2020")})();const BC={apiKey:"AIzaSyBj5D2l-lSzekgRUF6w164G5xawAbqKV58",authDomain:"neurolearn-c8df8.firebaseapp.com",projectId:"neurolearn-c8df8",storageBucket:"neurolearn-c8df8.firebasestorage.app",messagingSenderId:"1060414258301",appId:"1:1060414258301:web:86a11e8b84e7d05de10514",measurementId:"G-ZBX8RCHB1X"},uE=ZA().length?Fx():Gx(BC),oh=ER(uE),qC={experimentalForceLongPolling:!0,experimentalLongPollingOptions:{timeoutSeconds:10}},Ic=globalThis.__FIREBASE_DB__??(globalThis.__FIREBASE_DB__=EC(uE,qC)),HC=async(i,e)=>{if(!i)throw new Error("UID bo geldi");const n=Wb(Ic,"users",i);return await PC(n,{uid:i,...e,createdAt:UC()},{merge:!0}),(await lE(n)).data()},GC=async i=>{const e=Wb(Ic,"users",i),n=await lE(e);return n.exists()?{id:n.id,...n.data(),createdAt:n.data().createdAt.toDate()}:null},FC=async i=>{const e=ip(Xg(Ic,"students"),sp("teacherId","==",i),aE("createdAt","desc"));return(await lp(e)).docs.map(s=>({id:s.id,...s.data(),createdAt:s.data().createdAt.toDate()}))},$C=async i=>{const e=ip(Xg(Ic,"ai_insights"),sp("studentId","==",i),aE("createdAt","desc"));return(await lp(e)).docs.map(s=>({id:s.id,...s.data(),createdAt:s.data().createdAt.toDate()}))},hE=R.createContext(void 0),zr=()=>{const i=R.useContext(hE);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},KC=({children:i})=>{const[e,n]=R.useState(null),[s,o]=R.useState(!0);R.useEffect(()=>uk(oh,async x=>{if(x){const E=await GC(x.uid);n(E||{id:x.uid,name:x.displayName||"",email:x.email||"",role:"teacher",createdAt:new Date})}else n(null);o(!1)}),[]);const p={currentUser:e,loading:s,login:async(y,x)=>{await ok(oh,y,x)},register:async(y,x,E,S="teacher",M,q)=>{const z=await ak(oh,y,x),L=z.user?.uid;if(!L)throw new Error("Kullanc UID alnamad");const F={email:z.user.email??y,name:E,role:S,...M&&{age:M},...q&&{teacherId:q}};await HC(L,F),n({id:L,name:E,email:y,role:S,...M&&{age:M},...q&&{teacherId:q},createdAt:new Date})},logout:async()=>{await hk(oh),n(null)}};return f.jsx(hE.Provider,{value:p,children:i})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),dx=i=>{const e=YC(i);return e.charAt(0).toUpperCase()+e.slice(1)},dE=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),XC=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=R.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:h,...g},p)=>R.createElement("svg",{ref:p,...WC,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:dE("lucide",o),...!c&&!XC(g)&&{"aria-hidden":"true"},...g},[...h.map(([y,x])=>R.createElement(y,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(i,e)=>{const n=R.forwardRef(({className:s,...o},c)=>R.createElement(ZC,{ref:c,iconNode:e,className:dE(`lucide-${QC(dx(i))}`,`lucide-${i}`,s),...o}));return n.displayName=dx(i),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eD=Le("arrow-left",JC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nD=Le("book-open",tD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Wt=Le("brain",rD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sD=Le("calendar",iD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ad=Le("circle-alert",aD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fE=Le("circle-check-big",oD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cD=Le("circle-x",lD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wi=Le("clock",uD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dD=Le("eye",hD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],mE=Le("hash",fD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fx=Le("info",mD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ig=Le("lightbulb",gD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],To=Le("lock",pD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],gE=Le("log-in",yD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pE=Le("log-out",vD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],od=Le("mail",_D);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],bD=Le("mic-off",xD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],TD=Le("mic",ED);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],SD=Le("mouse-pointer",wD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],yE=Le("palette",AD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],cp=Le("play",kD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mx=Le("plus",RD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Mo=Le("rotate-ccw",ND);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],CD=Le("sparkles",ID);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],jD=Le("square-pen",DD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ps=Le("star",OD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Vr=Le("target",MD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PD=Le("trash-2",VD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],zD=Le("trending-up",LD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gx=Le("triangle-alert",UD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Nm=Le("trophy",BD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vE=Le("user-plus",qD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ld=Le("user",HD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_E=Le("users",GD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],$D=Le("volume-2",FD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],QD=Le("wifi-off",KD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],px=Le("wifi",YD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WD=Le("x",XD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cd=Le("zap",ZD),JD=({onToggleMode:i})=>{const[e,n]=R.useState(""),[s,o]=R.useState(""),[c,h]=R.useState(""),[g,p]=R.useState(!1),{login:y}=zr(),x=async E=>{E.preventDefault(),h(""),p(!0);try{await y(e,s)}catch(S){h(S.message||"Giri yaparken bir hata olutu")}p(!1)};return f.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-4",children:f.jsx(gE,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"retmen Girii"}),f.jsx("p",{className:"text-gray-600 mt-2",children:"NeuroLearn AI Platformuna ho geldiniz"})]}),c&&f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center",children:[f.jsx(ad,{className:"h-5 w-5 text-red-500 mr-2"}),f.jsx("span",{className:"text-red-700 text-sm",children:c})]}),f.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta Adresi"}),f.jsxs("div",{className:"relative",children:[f.jsx(od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"email",value:e,onChange:E=>n(E.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"ogretmen@email.com",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ifre"}),f.jsxs("div",{className:"relative",children:[f.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"password",value:s,onChange:E=>o(E.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"",required:!0})]})]}),f.jsx("button",{type:"submit",disabled:g,className:"w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?"Giri yaplyor...":"Giri Yap"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-gray-600",children:["Hesabnz yok mu?"," ",f.jsx("button",{onClick:i,className:"text-primary font-medium hover:text-blue-700",children:"Kayt olun"})]})})]})},e4=({onToggleMode:i})=>{const[e,n]=R.useState(""),[s,o]=R.useState(""),[c,h]=R.useState(""),[g,p]=R.useState(""),[y,x]=R.useState(""),[E,S]=R.useState(!1),{register:M}=zr(),q=async z=>{if(z.preventDefault(),x(""),c!==g){x("ifreler elemiyor");return}if(c.length<6){x("ifre en az 6 karakter olmaldr");return}S(!0);try{await M(s,c,e)}catch(L){x(L.message||"Kayt olurken bir hata olutu")}S(!1)};return f.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-secondary rounded-full flex items-center justify-center mb-4",children:f.jsx(vE,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"retmen Kayd"}),f.jsx("p",{className:"text-gray-600 mt-2",children:"Yeni hesap oluturun"})]}),y&&f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center",children:[f.jsx(ad,{className:"h-5 w-5 text-red-500 mr-2"}),f.jsx("span",{className:"text-red-700 text-sm",children:y})]}),f.jsxs("form",{onSubmit:q,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Soyad"}),f.jsxs("div",{className:"relative",children:[f.jsx(ld,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"text",value:e,onChange:z=>n(z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:border-transparent",placeholder:"Ahmet Ylmaz",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta Adresi"}),f.jsxs("div",{className:"relative",children:[f.jsx(od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"email",value:s,onChange:z=>o(z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:border-transparent",placeholder:"ogretmen@email.com",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ifre"}),f.jsxs("div",{className:"relative",children:[f.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"password",value:c,onChange:z=>h(z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:border-transparent",placeholder:"",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ifre Tekrar"}),f.jsxs("div",{className:"relative",children:[f.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"password",value:g,onChange:z=>p(z.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-secondary focus:border-transparent",placeholder:"",required:!0})]})]}),f.jsx("button",{type:"submit",disabled:E,className:"w-full bg-secondary text-white py-3 rounded-lg font-medium hover:bg-purple-700 focus:ring-2 focus:ring-secondary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:E?"Kayt oluturuluyor...":"Kayt Ol"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-gray-600",children:["Zaten hesabnz var m?"," ",f.jsx("button",{onClick:i,className:"text-secondary font-medium hover:text-purple-700",children:"Giri yapn"})]})})]})},t4=({onToggleMode:i,onToggleRole:e})=>{const[n,s]=R.useState(""),[o,c]=R.useState(""),[h,g]=R.useState(""),[p,y]=R.useState(!1),{login:x}=zr(),E=async S=>{S.preventDefault(),g(""),y(!0);try{await x(n,o)}catch(M){g(M.message||"Giri yaplrken bir hata olutu")}y(!1)};return f.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-4",children:f.jsx(gE,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"renci Girii"}),f.jsx("p",{className:"text-gray-600 mt-2",children:"Hesabnza giri yapn"})]}),h&&f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center",children:[f.jsx(ad,{className:"h-5 w-5 text-red-500 mr-2"}),f.jsx("span",{className:"text-red-700 text-sm",children:h})]}),f.jsxs("form",{onSubmit:E,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta Adresi"}),f.jsxs("div",{className:"relative",children:[f.jsx(od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"email",value:n,onChange:S=>s(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"ogrenci@email.com",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ifre"}),f.jsxs("div",{className:"relative",children:[f.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"password",value:o,onChange:S=>c(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"",required:!0})]})]}),f.jsx("button",{type:"submit",disabled:p,className:"w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:p?"Giri yaplyor...":"Giri Yap"})]}),f.jsxs("div",{className:"mt-6 text-center space-y-2",children:[f.jsxs("p",{className:"text-gray-600",children:["Henz hesabnz yok mu?"," ",f.jsx("button",{onClick:i,className:"text-primary font-medium hover:text-blue-700",children:"Kayt olun"})]}),f.jsxs("p",{className:"text-gray-600",children:["retmen misiniz?"," ",f.jsx("button",{onClick:e,className:"text-secondary font-medium hover:text-purple-700",children:"retmen girii"})]})]})]})},n4=({onToggleMode:i,onToggleRole:e})=>{const[n,s]=R.useState(""),[o,c]=R.useState(""),[h,g]=R.useState(""),[p,y]=R.useState(""),[x,E]=R.useState(""),[S,M]=R.useState(""),[q,z]=R.useState([]),[L,F]=R.useState(""),[$,ae]=R.useState(!1),{register:ve}=zr();R.useEffect(()=>{(async()=>{try{const j=ip(Xg(Ic,"users"),sp("role","==","teacher")),k=await lp(j),N=[];k.forEach(D=>{const O=D.data();N.push({id:D.id,name:O.name,email:O.email})}),z(N)}catch(j){console.error("retmenler yklenirken hata:",j)}})()},[]);const me=async de=>{if(de.preventDefault(),F(""),h!==p){F("ifreler elemiyor");return}if(h.length<6){F("ifre en az 6 karakter olmaldr");return}if(!S){F("Ltfen bir retmen sein");return}const j=parseInt(x);if(isNaN(j)||j<3||j>18){F("Ya 3-18 arasnda olmaldr");return}ae(!0);try{await ve(o,h,n,"student",j,S)}catch(k){F(k.message||"Kayt olurken bir hata olutu")}ae(!1)};return f.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"mx-auto w-16 h-16 bg-primary rounded-full flex items-center justify-center mb-4",children:f.jsx(vE,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"renci Kayd"}),f.jsx("p",{className:"text-gray-600 mt-2",children:"Yeni renci hesab oluturun"})]}),L&&f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center",children:[f.jsx(ad,{className:"h-5 w-5 text-red-500 mr-2"}),f.jsx("span",{className:"text-red-700 text-sm",children:L})]}),f.jsxs("form",{onSubmit:me,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Soyad"}),f.jsxs("div",{className:"relative",children:[f.jsx(ld,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"text",value:n,onChange:de=>s(de.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"renci Ad",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ya"}),f.jsxs("div",{className:"relative",children:[f.jsx(sD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"number",min:"3",max:"18",value:x,onChange:de=>E(de.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Ya",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"retmen Sein"}),f.jsxs("div",{className:"relative",children:[f.jsx(_E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsxs("select",{value:S,onChange:de=>M(de.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent appearance-none bg-white",required:!0,children:[f.jsx("option",{value:"",children:"retmen sein..."}),q.map(de=>f.jsxs("option",{value:de.id,children:[de.name," (",de.email,")"]},de.id))]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta Adresi"}),f.jsxs("div",{className:"relative",children:[f.jsx(od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"email",value:o,onChange:de=>c(de.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"ogrenci@email.com",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ifre"}),f.jsxs("div",{className:"relative",children:[f.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"password",value:h,onChange:de=>g(de.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ifre Tekrar"}),f.jsxs("div",{className:"relative",children:[f.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"password",value:p,onChange:de=>y(de.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"",required:!0})]})]}),f.jsx("button",{type:"submit",disabled:$,className:"w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:$?"Kayt oluturuluyor...":"renci Kayd Olutur"})]}),f.jsxs("div",{className:"mt-6 text-center space-y-2",children:[f.jsxs("p",{className:"text-gray-600",children:["Zaten hesabnz var m?"," ",f.jsx("button",{onClick:i,className:"text-primary font-medium hover:text-blue-700",children:"Giri yapn"})]}),f.jsxs("p",{className:"text-gray-600",children:["retmen misiniz?"," ",f.jsx("button",{onClick:e,className:"text-secondary font-medium hover:text-purple-700",children:"retmen kayd"})]})]})]})},r4=()=>{const[i,e]=R.useState(!0),[n,s]=R.useState("teacher");return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-6xl mx-auto flex items-center justify-center gap-12",children:[f.jsxs("div",{className:"hidden lg:block flex-1 max-w-lg",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-primary to-secondary rounded-full mb-6",children:f.jsx(Wt,{className:"h-12 w-12 text-white"})}),f.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"NeuroLearn AI"}),f.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Otizmli renciler iin yapay zeka destekli eitim platformu"})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[f.jsxs("div",{className:"flex items-center mb-3",children:[f.jsx(CD,{className:"h-6 w-6 text-primary mr-3"}),f.jsx("h3",{className:"font-semibold text-gray-800",children:"AI Destekli erik"})]}),f.jsx("p",{className:"text-gray-600",children:"Yapay zeka ile renciye zel sorular ve aktiviteler retilir"})]}),f.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[f.jsxs("div",{className:"flex items-center mb-3",children:[f.jsx("div",{className:"w-6 h-6 bg-success rounded-full mr-3"}),f.jsx("h3",{className:"font-semibold text-gray-800",children:"Duygu Analizi"})]}),f.jsx("p",{className:"text-gray-600",children:"Gerek zamanl duygu tanma ile rencinin durumu takip edilir"})]}),f.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[f.jsxs("div",{className:"flex items-center mb-3",children:[f.jsx("div",{className:"w-6 h-6 bg-warning rounded-full mr-3"}),f.jsx("h3",{className:"font-semibold text-gray-800",children:"Akll Raporlama"})]}),f.jsx("p",{className:"text-gray-600",children:"Detayl analitik ve renci geliim raporlar"})]})]})]}),f.jsxs("div",{className:"flex-1 max-w-md",children:[f.jsxs("div",{className:"bg-white p-1 rounded-lg shadow-sm mb-6 flex",children:[f.jsx("button",{onClick:()=>s("teacher"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${n==="teacher"?"bg-secondary text-white":"text-gray-600 hover:text-gray-800"}`,children:"retmen"}),f.jsx("button",{onClick:()=>s("student"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${n==="student"?"bg-primary text-white":"text-gray-600 hover:text-gray-800"}`,children:"renci"})]}),n==="teacher"?i?f.jsx(JD,{onToggleMode:()=>e(!1)}):f.jsx(e4,{onToggleMode:()=>e(!0)}):i?f.jsx(t4,{onToggleMode:()=>e(!1),onToggleRole:()=>s("teacher")}):f.jsx(n4,{onToggleMode:()=>e(!0),onToggleRole:()=>s("teacher")})]})]})})};function xE(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(n=xE(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function i4(){for(var i,e,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(e=xE(i))&&(s&&(s+=" "),s+=e);return s}function Cc(...i){return i4(i)}const Vt=({variant:i="primary",size:e="md",loading:n=!1,className:s,disabled:o,children:c,...h})=>{const g="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",p={primary:"bg-primary text-white hover:bg-blue-700 focus:ring-primary",secondary:"bg-secondary text-white hover:bg-purple-700 focus:ring-secondary",danger:"bg-danger text-white hover:bg-red-700 focus:ring-danger",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-primary",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-primary"},y={sm:"px-3 py-2 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return f.jsxs("button",{className:Cc(g,p[i],y[e],s),disabled:o||n,...h,children:[n&&f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c]})},s4=({aiStatus:i="connected"})=>{const{currentUser:e,logout:n}=zr(),s=()=>{switch(i){case"connected":return f.jsx(px,{className:"h-4 w-4 text-success"});case"disconnected":return f.jsx(QD,{className:"h-4 w-4 text-danger"});case"processing":return f.jsx("div",{className:"h-4 w-4 border-2 border-warning border-t-transparent rounded-full animate-spin"});default:return f.jsx(px,{className:"h-4 w-4 text-success"})}},o=()=>{switch(i){case"connected":return"AI Bal";case"disconnected":return"AI Balants Yok";case"processing":return"AI lemde";default:return"AI Bal"}};return f.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center",children:f.jsx(Wt,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"NeuroLearn AI"}),f.jsx("p",{className:"text-sm text-gray-600",children:"retmen Paneli"})]})]})}),f.jsxs("div",{className:"flex items-center space-x-6",children:[f.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-gray-50 rounded-lg",children:[s(),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:o()})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm font-medium text-gray-800",children:e?.name||"retmen"}),f.jsx("p",{className:"text-xs text-gray-600",children:e?.email})]}),f.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:f.jsx("span",{className:"text-white font-medium text-sm",children:e?.name?.charAt(0)||""})}),f.jsxs(Vt,{variant:"outline",size:"sm",onClick:n,className:"border-gray-300 text-gray-700 hover:bg-red-50 hover:text-red-700 hover:border-red-300",children:[f.jsx(pE,{className:"h-4 w-4 mr-2"}),"k"]})]})]})]})})},tt=({className:i,children:e})=>f.jsx("div",{className:Cc("bg-white rounded-lg shadow-sm border border-gray-200 p-6",i),children:e}),Ph=({className:i,children:e})=>f.jsx("div",{className:Cc("mb-4",i),children:e}),Lh=({className:i,children:e})=>f.jsx("h3",{className:Cc("text-lg font-semibold text-gray-800",i),children:e}),nt=({className:i,children:e})=>f.jsx("div",{className:Cc(i),children:e}),a4=({stats:i,loading:e=!1})=>{const n=[{title:"Haftalk lerleme",value:`%${i.weeklyProgress}`,icon:zD,color:"bg-blue-500",change:"+12%",changeType:"positive"},{title:"Tamamlanan Aktivite",value:i.completedActivities.toString(),icon:Vr,color:"bg-green-500",change:"+8",changeType:"positive"},{title:"Ortalama Baar",value:`%${i.averageSuccess}`,icon:_E,color:"bg-purple-500",change:"+5%",changeType:"positive"},{title:"AI nerileri",value:i.aiRecommendations.toString(),icon:ig,color:"bg-yellow-500",change:"+3",changeType:"positive"}];return e?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(s=>f.jsx(tt,{className:"animate-pulse",children:f.jsxs(nt,{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),f.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"})]}),f.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"})]}),f.jsx("div",{className:"mt-4",children:f.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})})]})},s))}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((s,o)=>{const c=s.icon;return f.jsx(tt,{className:"hover:shadow-md transition-shadow",children:f.jsxs(nt,{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:s.title}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.value})]}),f.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${s.color}`,children:f.jsx(c,{className:"h-6 w-6 text-white"})})]}),f.jsxs("div",{className:"mt-4 flex items-center",children:[f.jsx("span",{className:`text-sm font-medium ${s.changeType==="positive"?"text-green-600":"text-red-600"}`,children:s.change}),f.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"son 7 gnde"})]})]})},o)})})},o4=({students:i,loading:e=!1,onAddStudent:n,onViewStudent:s,onEditStudent:o,onDeleteStudent:c,getStudentLastEmotion:h})=>{const g=y=>({happy:"bg-green-100 text-green-800",sad:"bg-blue-100 text-blue-800",angry:"bg-red-100 text-red-800",neutral:"bg-gray-100 text-gray-800",focused:"bg-purple-100 text-purple-800",confused:"bg-yellow-100 text-yellow-800"})[y]||"bg-gray-100 text-gray-800",p=y=>({happy:"",sad:"",angry:"",neutral:"",focused:"",confused:""})[y]||"";return e?f.jsxs(tt,{children:[f.jsx(Ph,{children:f.jsx(Lh,{children:"renciler"})}),f.jsx(nt,{children:f.jsx("div",{className:"space-y-4",children:[1,2,3].map(y=>f.jsxs("div",{className:"animate-pulse flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[f.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]}),f.jsx("div",{className:"w-20 h-6 bg-gray-200 rounded"})]},y))})})]}):f.jsxs(tt,{children:[f.jsx(Ph,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Lh,{children:["renciler (",i.length,")"]}),f.jsxs(Vt,{onClick:n,size:"sm",children:[f.jsx(mx,{className:"h-4 w-4 mr-2"}),"Yeni renci"]})]})}),f.jsx(nt,{children:i.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(ld,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Henz renci eklenmemi"}),f.jsxs(Vt,{onClick:n,variant:"outline",children:[f.jsx(mx,{className:"h-4 w-4 mr-2"}),"lk renciyi ekle"]})]}):f.jsx("div",{className:"space-y-4",children:i.map(y=>{const x=h?.(y.id);return f.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[f.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center",children:f.jsx("span",{className:"text-white font-medium text-sm",children:y.name.charAt(0).toUpperCase()})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h4",{className:"font-medium text-gray-900",children:y.name}),f.jsxs("p",{className:"text-sm text-gray-600",children:[y.age," ya",y.notes&&`  ${y.notes.slice(0,30)}${y.notes.length>30?"...":""}`]})]}),x&&f.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${g(x.emotion)}`,children:[f.jsx("span",{className:"mr-1",children:p(x.emotion)}),x.emotion]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Vt,{variant:"ghost",size:"sm",onClick:()=>s(y),className:"text-gray-600 hover:text-primary",children:f.jsx(dD,{className:"h-4 w-4"})}),f.jsx(Vt,{variant:"ghost",size:"sm",onClick:()=>o(y),className:"text-gray-600 hover:text-secondary",children:f.jsx(jD,{className:"h-4 w-4"})}),f.jsx(Vt,{variant:"ghost",size:"sm",onClick:()=>c(y.id),className:"text-gray-600 hover:text-danger",children:f.jsx(PD,{className:"h-4 w-4"})})]})]},y.id)})})})]})},l4=({insights:i,loading:e=!1})=>{const n=h=>({progress:fE,attention:gx,recommendation:ig,warning:gx})[h]||fx,s=(h,g)=>g==="warning"||h==="high"?"bg-red-50 border-red-200 text-red-800":g==="attention"||h==="medium"?"bg-yellow-50 border-yellow-200 text-yellow-800":g==="progress"?"bg-green-50 border-green-200 text-green-800":"bg-blue-50 border-blue-200 text-blue-800",o=h=>({progress:"lerleme",attention:"Dikkat",recommendation:"neri",warning:"Uyar"})[h]||"Bilgi",c=h=>{const p=new Date().getTime()-h.getTime(),y=Math.floor(p/6e4),x=Math.floor(p/36e5),E=Math.floor(p/864e5);return E>0?`${E} gn nce`:x>0?`${x} saat nce`:y>0?`${y} dakika nce`:"Az nce"};return e?f.jsxs(tt,{children:[f.jsx(Ph,{children:f.jsx(Lh,{children:"AI ngrleri"})}),f.jsx(nt,{children:f.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>f.jsx("div",{className:"animate-pulse border border-gray-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-full mb-1"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]})},h))})})]}):f.jsxs(tt,{children:[f.jsx(Ph,{children:f.jsxs(Lh,{className:"flex items-center",children:[f.jsx(ig,{className:"h-5 w-5 mr-2 text-primary"}),"AI ngrleri (",i.length,")"]})}),f.jsx(nt,{children:i.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(fx,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 mb-2",children:"Henz AI ngrs yok"}),f.jsx("p",{className:"text-sm text-gray-500",children:"renciler aktivite yaptka AI ngrleri burada grnecek"})]}):f.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:i.map(h=>{const g=n(h.type);return f.jsx("div",{className:`border rounded-lg p-4 ${s(h.priority,h.type)}`,children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(g,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("h4",{className:"font-medium text-sm",children:o(h.type)}),f.jsxs("div",{className:"flex items-center text-xs opacity-75",children:[f.jsx(wi,{className:"h-3 w-3 mr-1"}),c(h.createdAt)]})]}),f.jsx("p",{className:"text-sm opacity-90",children:h.message})]})]})},h.id)})})})]})},c4=()=>{const{currentUser:i}=zr(),[e,n]=R.useState([]),[s,o]=R.useState([]),[c,h]=R.useState(!0),[g]=R.useState("connected"),[p]=R.useState({weeklyProgress:85,completedActivities:24,averageSuccess:78,aiRecommendations:5}),y=R.useCallback(async()=>{if(i)try{h(!0);const z=await FC(i.id);n(z);const L=[];for(const F of z){const $=await $C(F.id);L.push(...$)}L.sort((F,$)=>$.createdAt.getTime()-F.createdAt.getTime()),o(L.slice(0,10))}catch(z){console.error("Error loading data:",z)}finally{h(!1)}},[i]);R.useEffect(()=>{i&&y()},[i,y]);const x=()=>{console.log("Add student clicked")},E=z=>{console.log("View student:",z)},S=z=>{console.log("Edit student:",z)},M=z=>{console.log("Delete student:",z)},q=z=>({emotion:"happy",confidence:.95,timestamp:new Date});return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(s4,{aiStatus:g}),f.jsx("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary rounded-lg p-6 text-white",children:[f.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Ho geldiniz, ",i?.name,"! "]}),f.jsx("p",{className:"text-blue-100",children:"NeuroLearn AI ile rencilerinizin geliimini takip edin ve yapay zeka destekli renme deneyimi sunun."})]}),f.jsx(a4,{stats:p,loading:c}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsx(o4,{students:e,loading:c,onAddStudent:x,onViewStudent:E,onEditStudent:S,onDeleteStudent:M,getStudentLastEmotion:q})}),f.jsx("div",{className:"lg:col-span-1",children:f.jsx(l4,{insights:s,loading:c})})]}),f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Hzl lemler"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[f.jsx("div",{className:"text-primary font-medium mb-1",children:" Yeni Oyun Balat"}),f.jsx("div",{className:"text-sm text-gray-600",children:"renciler iin eitim oyunu balatn"})]}),f.jsxs("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[f.jsx("div",{className:"text-secondary font-medium mb-1",children:" Detayl Rapor"}),f.jsx("div",{className:"text-sm text-gray-600",children:"renci geliim raporlarn inceleyin"})]}),f.jsxs("button",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[f.jsx("div",{className:"text-success font-medium mb-1",children:" AI nerileri"}),f.jsx("div",{className:"text-sm text-gray-600",children:"Yapay zeka nerilerini grntleyin"})]})]})]})]})})]})};class u4{constructor(){this.performanceData=new Map}initializePlayer(e,n){this.performanceData.has(e)||this.performanceData.set(e,{recentScores:[],averageResponseTime:0,recentEmotions:[],strugglingTopics:[],strengths:[],currentDifficulty:this.getDifficultyByAge(n)})}getDifficultyByAge(e){return e<=5?"easy":e<=8?"medium":"hard"}recordGameResult(e,n,s,o,c,h){const g=this.performanceData.get(e);if(!g)return;const p=n/s;g.recentScores.push(p),g.recentScores.length>10&&g.recentScores.shift(),g.averageResponseTime=(g.averageResponseTime+o)/2,g.recentEmotions.push(...h),g.recentEmotions.length>20&&(g.recentEmotions=g.recentEmotions.slice(-20)),this.analyzeAndAdjustDifficulty(e,c),this.performanceData.set(e,g)}analyzeAndAdjustDifficulty(e,n){const s=this.performanceData.get(e);if(!s||s.recentScores.length<3)return;const o=s.recentScores.slice(-5).reduce((h,g)=>h+g,0)/Math.min(5,s.recentScores.length),c=this.getDominantEmotion(s.recentEmotions.slice(-10));o>=.8&&c==="happy"?(s.currentDifficulty==="easy"?s.currentDifficulty="medium":s.currentDifficulty==="medium"&&(s.currentDifficulty="hard"),s.strengths.push(n)):(o<=.4||c==="confused"||c==="sad")&&(s.currentDifficulty==="hard"?s.currentDifficulty="medium":s.currentDifficulty==="medium"&&(s.currentDifficulty="easy"),s.strugglingTopics.includes(n)||s.strugglingTopics.push(n)),s.strengths=Array.from(new Set(s.strengths)).slice(-5),s.strugglingTopics=Array.from(new Set(s.strugglingTopics)).slice(-5)}getDominantEmotion(e){if(e.length===0)return"neutral";const n={};return e.forEach(s=>{n[s.emotion]=(n[s.emotion]||0)+1}),Object.keys(n).reduce((s,o)=>n[s]>n[o]?s:o)}getPerformance(e){return this.performanceData.get(e)||null}shouldAdaptQuestion(e){const n=this.performanceData.get(e);return n?n.recentScores.length>=3:!1}getAdaptationStrategy(e){const n=this.performanceData.get(e);if(!n)return"neutral";const s=n.recentScores.slice(-3).reduce((c,h)=>c+h,0)/Math.min(3,n.recentScores.length),o=this.getDominantEmotion(n.recentEmotions.slice(-6));return s>=.7&&(o==="happy"||o==="focused")?"success":s<=.4||o==="sad"?"struggle":o==="confused"?"confusion":"neutral"}getInsights(e){const n=this.performanceData.get(e);if(!n)return[];const s=[],o=n.recentScores.length>0?n.recentScores.reduce((h,g)=>h+g,0)/n.recentScores.length:0;o>=.8?s.push("renci ok baarl, daha zor sorularla meydan okuyun"):o<=.4&&s.push("renci zorlanyor, daha basit sorularla motivasyonu artrn"),n.strugglingTopics.length>0&&s.push(`Zorland konular: ${n.strugglingTopics.join(", ")}`),n.strengths.length>0&&s.push(`Gl olduu konular: ${n.strengths.join(", ")}`);const c=this.getDominantEmotion(n.recentEmotions);return c==="confused"?s.push("renci kark grnyor, aklamalar basitletirin"):c==="happy"&&s.push("renci mutlu ve motive, bu tempoyu koruyun"),s}resetPerformance(e){this.performanceData.delete(e)}exportPerformanceData(e){return this.performanceData.get(e)||null}}const lr=new u4;class h4{constructor(){this.modelName="hf.co/umutkkgz/Kaira-Turkish-Gemma-9B-T1-GGUF:Q3_K_M"}async generateQuestion(e){const{subject:n,difficulty:s,questionType:o="oktan semeli"}=e;console.log(" [OLLAMA DEBUG] Soru retimi balyor:",{subject:n,difficulty:s,questionType:o,timestamp:new Date().toISOString(),stack:new Error().stack?.split(`
`).slice(1,5).join(`
`)});const c=this.buildPrompt(n,s,o);try{const h=await this.callOllama(c),g=this.parseOllamaResponse(h);return console.log(" [OLLAMA DEBUG] Soru baaryla retildi:",g.question),{id:`ollama_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,question:g.question,options:g.options,correctAnswer:g.correctIndex,confidence:.9,gameType:"word-image",difficulty:this.mapDifficultyToEnglish(s),source:"ollama"}}catch(h){throw console.error(" [OLLAMA DEBUG] Soru retme hatas:",h),new Error(`Ollama servisi ile soru retilemedi: ${h}`)}}buildPrompt(e,n,s){return`Aadaki talimatlar tamamen uygula ve yalnzca istenen biimde yant ver.

Profil (hedef kitle)
Ya: 12 (ortaokul 56. snf).
Dikkat sresi iin: tek grev, tek cmle, somut/giri dzeyi soyut kavramlar.
Kelime daarc: B1 dzeyi; gnlk ve dersle ilikili szckler.

Dil ve karakterler
Yant yalnzca Trke olmaldr.
in/Japon tipi karakter ve noktalama kullanma (rn.     ).
ASCII soru iareti ? kullan.

kt format (zorunlu)
Sadece tek bir JSON nesnesi dndr; aklama/ek metin yok.
ema: {"question": string, "options": [string,string,string,string], "correctIndex": number}

Kurallar:
question: 68 kelime, ksa ve net.
options: tam 4 seenek, Trke ve emoji ile grsel zengin.
Seenekler benzersiz, benzer uzunlukta; sadece 1 doru.
correctIndex: 03 aras tamsay.

ADHD'ye uygun tasarm
Olumsuz kalp kullanma ("hangisi deildir" yok).
Belirsiz/iki anlaml ifadeler yok.
Ayn veya ok benzer emojiler kullanma (karklk oluturma).
Gereksiz ssleme ve uzun cmleler yok.

Zorluk haritalamas (12 ya):
kolay: dorudan tanma/isimlendirme; ak farklar; 1 adm.
orta: temel snflama/zdelik; yakn ama ayrlabilir eldiriciler.
zor: ksa balam ipucu veya 2 adml basit akl yrtme (yine ksa).

Kalite kontrolleri
Soru "hangi / ne / kim / nerede / nedir / nasl" kalb iersin.
Seenekler dilbilgisel olarak tutarl (hepsi ksa sz bekleri).
Soruda cevab ak etmeyin (ipucu sznts yok).
Doru cevabn konumu rastgele olsun; sabit pozisyon kullanma.

Konu: ${e}
Zorluk: ${n}

DORU rnek
{"question":" hangi ses karr?","options":["Hav hav","Miyav","M","Cik cik"],"correctIndex":0}

YANLI rnekler (yapma)
Ek aklama/metin dndrmek.
in tipi noktalama:     
Uzun/iki grevli sorular.
Birden ok doru cevap.`}getADHDGuidelines(e){switch(e){case"kolay":return`
- ok basit, gnlk yaamdan konular
- Byk, kontrastl emojiler kullan
- Sadece bir odak noktas
- Pozitif, elenceli dil`;case"orta":return`
- Bilinen konulardan biraz farkl rnekler
- Rengarenk emojiler
- Hafif dndrc ama yorucu deil
- Tevik edici ifadeler`;case"zor":return`
- Dikkat gerektiren detaylar
- oklu grsel ipular
- Problem zme odakl
- Baar hissi verecek zorlukta`;default:return"- Temel ADHD uyumlu tasarm prensiplerine uygun"}}async callOllama(e){const n="http://localhost:11434/api/generate";console.log(" [OLLAMA DEBUG] API ars balyor...");const s={model:this.modelName,prompt:e,format:"json",stream:!1,options:{temperature:.6,top_p:.9,num_predict:300}};try{const o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok)throw new Error(`Ollama API hatas: ${o.status} ${o.statusText}`);const c=await o.json();if(!c.response)throw new Error("Ollama bo yant dndrd");return console.log(" [OLLAMA DEBUG] API yant alnd"),c.response.trim()}catch(o){throw o instanceof Error?new Error(`Ollama API hatas: ${o.message}`):o}}parseOllamaResponse(e){console.log(" [OLLAMA DEBUG] Parse edilecek yant:",e);try{let n;try{n=JSON.parse(e.trim())}catch{const c=e.match(/\{[\s\S]*\}/);if(!c)throw new Error(`JSON bulunamad. Ham yant: ${e}`);const h=c[0];n=JSON.parse(h)}if(!n?.question||typeof n.question!="string")throw new Error(`Geersiz question: ${n?.question}`);const s=/[\u4e00-\u9fff\uff00-\uffef]/;if(s.test(n.question))throw new Error(`Soru ince karakter ieriyor: ${n.question}`);if(!Array.isArray(n?.options))throw new Error(`Options array deil: ${n?.options}`);if(n.options.length!==4)throw new Error(`4 seenek gerekli, ${n.options.length} bulundu: ${JSON.stringify(n.options)}`);for(const o of n.options){if(typeof o!="string")throw new Error(`Seenek string deil: ${o}`);if(s.test(o))throw new Error(`Seenek ince karakter ieriyor: ${o}`)}if(typeof n?.correctIndex!="number")throw new Error(`correctIndex say deil: ${n?.correctIndex}`);if(n.correctIndex<0||n.correctIndex>3)throw new Error(`correctIndex 0-3 arasnda olmal: ${n.correctIndex}`);return console.log(" [OLLAMA DEBUG] JSON baaryla parse edildi"),n}catch(n){throw console.error(" [OLLAMA DEBUG] JSON parse hatas:",n),console.error(" [OLLAMA DEBUG] Ham yant:",e),new Error(`Model JSON dndrmedi veya format hatal: ${n}`)}}mapDifficultyToEnglish(e){return{kolay:"easy",orta:"medium",zor:"hard"}[e]||"medium"}setModel(e){this.modelName=e}getCurrentModel(){return this.modelName}async checkOllamaStatus(){try{const e=await fetch("http://localhost:11434/api/tags",{method:"GET",headers:{"Content-Type":"application/json"}});return e.ok?((await e.json()).models||[]).some(o=>o.name.includes(this.modelName.split(":")[0])):!1}catch(e){return console.error("Ollama status kontrol hatas:",e),!1}}async generateMultipleQuestions(e,n=5){const s=[];for(let o=0;o<n;o++)try{const c=await this.generateQuestion(e);s.push(c),await new Promise(h=>setTimeout(h,1e3))}catch(c){console.error(`${o+1}. soru retme hatas:`,c)}if(s.length===0)throw new Error("Hi soru retilemedi");return s}}const yi=new h4;class d4{async generateAdaptiveQuestion(e){console.log(" [ADAPTIVE DEBUG] generateAdaptiveQuestion arld:",{gameType:e.gameType,studentAge:e.studentAge,timestamp:new Date().toISOString(),stack:new Error().stack?.split(`
`).slice(1,5).join(`
`)});const{performance:n,currentEmotion:s,gameType:o,studentAge:c}=e,h=this.determineAdaptationStrategy(n,s);switch(o){case"word-image":return this.generateAdaptiveWordImageQuestion(e,h);case"number":return this.generateAdaptiveNumberQuestion(e,h);case"color":return this.generateAdaptiveColorQuestion(e,h);case"attention-sprint":throw new Error("Attention sprint oyunu AttentionSprintGenerator kullanr");default:throw new Error(`Unsupported game type: ${o}`)}}determineAdaptationStrategy(e,n){const s=e.recentScores.length>0?e.recentScores.slice(-3).reduce((o,c)=>o+c,0)/Math.min(3,e.recentScores.length):.5;return s>=.8&&n?.emotion==="happy"?"challenge":s>=.6&&s<.8?"energize":s<=.4||n?.emotion==="sad"?"simplify":n?.emotion==="confused"?"refocus":"encourage"}async generateAdaptiveWordImageQuestion(e,n){const{performance:s,studentAge:o}=e,c=this.getSubjectForWordImage(o,n),h=this.mapDifficultyToTurkish(s.currentDifficulty);try{const g={subject:c,difficulty:h,questionType:"oktan semeli"};return{...await yi.generateQuestion(g),difficulty:s.currentDifficulty,adaptedFor:n==="challenge"?"success":n==="simplify"?"struggle":"confusion",gameType:"word-image"}}catch(g){console.error("Ollama question generation failed, using adaptive fallback:",g)}return this.generateAdaptiveFallbackWordImage(n,s.currentDifficulty,o)}buildWordImagePrompt(e,n,s){const o={easy:"very simple",medium:"moderately challenging",hard:"challenging"},c={encourage:"Create an encouraging and positive question",challenge:"Create a more challenging question to push the student",simplify:"Create a very simple and confidence-building question",refocus:"Create a clear, focused question without distractions"};return`Generate a ${o[n]} word-image matching question for a ${s}-year-old child. ${c[e]}.

Format the response as:
Question: [question text]
Options: [option1, option2, option3, option4]
Correct: [index of correct answer 0-3]

Example:
Question: Which animal says "woof woof"?
Options: , , , 
Correct: 0

Topic should be about animals, fruits, or vehicles. Use simple emojis as options.`}parseAIQuestionResponse(e,n){try{const s=e.split(`
`).filter(g=>g.trim());let o="",c=[],h=0;for(const g of s)g.startsWith("Question:")?o=g.replace("Question:","").trim():g.startsWith("Options:")?c=g.replace("Options:","").trim().split(",").map(p=>p.trim()):g.startsWith("Correct:")&&(h=parseInt(g.replace("Correct:","").trim())||0);if(o&&c.length>=4)return{id:`ai_${n}_${Date.now()}`,question:o,options:c.slice(0,4),correctAnswer:Math.max(0,Math.min(3,h)),confidence:.9,gameType:n}}catch(s){console.error("Error parsing AI response:",s)}return null}generateAdaptiveFallbackWordImage(e,n,s){const c={animals:{easy:[{question:"Hangi hayvan kpek?",options:["","","",""],correct:0},{question:"Hangi hayvan kedi?",options:["","","",""],correct:0}],medium:[{question:"Hangi hayvan iftlikte yaar?",options:["","","",""],correct:0},{question:"Hangi hayvan denizde yaar?",options:["","","",""],correct:0}],hard:[{question:"Hangi hayvan gece aktiftir?",options:["","","",""],correct:0},{question:"Hangi hayvan souk blgelerde yaar?",options:["","","",""],correct:0}]}}.animals[n],h=c[Math.floor(Math.random()*c.length)];let g=h.question;return e==="encourage"?g=`Harika! ${g}`:e==="simplify"?g=`Kolay soru: ${g}`:e==="challenge"&&(g=`Zor soru: ${g}`),{id:`adaptive_word_${Date.now()}`,question:g,options:h.options,correctAnswer:h.correct,confidence:.85,gameType:"word-image",difficulty:n,adaptedFor:e==="challenge"?"success":e==="simplify"?"struggle":"confusion"}}async generateAdaptiveNumberQuestion(e,n){const{performance:s,studentAge:o}=e,h={easy:{min:1,max:5},medium:{min:1,max:10},hard:{min:5,max:15}}[s.currentDifficulty],g=Math.floor(Math.random()*(h.max-h.min+1))+h.min,p=[];for(;p.length<3;){let S;n==="simplify"?S=Math.random()<.5?Math.max(1,g-Math.floor(Math.random()*3)-1):Math.min(h.max,g+Math.floor(Math.random()*3)+1):S=Math.floor(Math.random()*(h.max-h.min+1))+h.min,S!==g&&!p.includes(S)&&p.push(S)}const y=[g,...p].sort(()=>Math.random()-.5),x=y.indexOf(g);let E="Ka tane  var?";return n==="encourage"?E=`Harika! ${E}`:n==="challenge"?E=`Dikkatlice say: ${E}`:n==="simplify"&&(E=`Kolay soru: ${E}`),{id:`adaptive_number_${Date.now()}`,question:E,options:y.map(String),correctAnswer:x,confidence:.9,gameType:"number",difficulty:s.currentDifficulty,adaptedFor:n==="challenge"?"success":n==="simplify"?"struggle":"confusion"}}async generateAdaptiveColorQuestion(e,n){const{performance:s}=e,o=[{name:"krmz",emoji:""},{name:"mavi",emoji:""},{name:"yeil",emoji:""},{name:"sar",emoji:""},{name:"mor",emoji:""},{name:"turuncu",emoji:""}];let c=o;s.currentDifficulty==="easy"?c=o.slice(0,4):n==="simplify"&&(c=o.slice(0,3));const h=c[Math.floor(Math.random()*c.length)],g=c.filter(E=>E.name!==h.name).slice(0,3),p=[h,...g].sort(()=>Math.random()-.5),y=p.findIndex(E=>E.name===h.name);let x=`Hangi renk ${h.name}?`;return n==="encourage"?x=`ok gzel! ${x}`:n==="challenge"?x=`Dikkat et: ${x}`:n==="simplify"&&(x=`Basit soru: ${x}`),{id:`adaptive_color_${Date.now()}`,question:x,options:p.map(E=>E.emoji),correctAnswer:y,confidence:.9,gameType:"color",difficulty:s.currentDifficulty,adaptedFor:n==="challenge"?"success":n==="simplify"?"struggle":"confusion"}}async generateQuestionWithContext(e,n,s,o){console.log(" [ADAPTIVE DEBUG] generateQuestionWithContext arld:",{studentId:e,gameType:n,studentAge:s,timestamp:new Date().toISOString(),stack:new Error().stack?.split(`
`).slice(1,5).join(`
`)}),lr.initializePlayer(e,s);const c=lr.getPerformance(e);if(!c)throw new Error("Could not retrieve student performance data");const h={performance:c,currentEmotion:o,gameType:n,previousQuestions:[],studentAge:s,adaptiveMode:!0};return this.generateAdaptiveQuestion(h)}getSubjectForWordImage(e,n){const s={easy:["Sevimli Hayvanlar","Parlak Renkler","Lezzetli Meyveler","Elenceli Oyuncaklar"],medium:["Hzl Hayvanlar","Cool Tatlar","Maceral Doa","Sper Kahramanlar"],hard:["Uzay ve Gezegenler","Dinozorlar","Harika Icatlar","Byl Bilim"]};let o;switch(e<=6?o=s.easy:e<=10?o=s.medium:o=s.hard,n){case"simplify":o=s.easy;break;case"energize":o=["Sper Hzl Hayvanlar","lgn Renkler","Aksiyon Arabalar"];break;case"challenge":e>7&&(o=s.hard);break;case"refocus":o=["Sakin Hayvanlar","Yumuak Renkler","Huzurlu Doa"];break}return o[Math.floor(Math.random()*o.length)]}mapDifficultyToTurkish(e){return{easy:"kolay",medium:"orta",hard:"zor"}[e]||"orta"}async generateOllamaMathQuestion(e="Temel Matematik",n="orta",s=8){const o=["Elenceli sayma (oyuncaklar, hayvanlar ile)","Grsel toplama (emojiler ile)","Kolay karma (izgi film karakterleri ile)","Renkli ekiller tanma","Gnlk yaamdan saylar (ya, saat, para)"],c=o[Math.floor(Math.random()*o.length)];try{const h={subject:`${c} (${s} ya iin uygun)`,difficulty:n,questionType:"oktan semeli"};return{...await yi.generateQuestion(h),gameType:"number"}}catch(h){throw console.error("Ollama matematik sorusu retme hatas:",h),h}}async generateOllamaScienceQuestion(e="orta",n=10){const s=["Sevimli hayvanlarn yaam alanlar","Gkyzndeki renkli olaylar (gkkua, bulutlar)","Elenceli deneyimler (mknats, su-ya)","Uzaydaki parlak gezegen ve yldzlar","Bitkilerin bymesi ve iek amas","Mevsim deiimleri ve doadaki renkler"],o=s[Math.floor(Math.random()*s.length)];try{const c={subject:`${o} (${n} ya ocuk iin basit)`,difficulty:e,questionType:"oktan semeli"};return await yi.generateQuestion(c)}catch(c){throw console.error("Ollama fen bilgisi sorusu retme hatas:",c),c}}}const up=new d4,f4=({studentId:i,studentAge:e=6,onGameComplete:n,onEmotionDetected:s,useAdaptiveAI:o=!0})=>{const[c,h]=R.useState(null),[g,p]=R.useState(null),[y,x]=R.useState(0),[E,S]=R.useState(1),[M,q]=R.useState(30),[z,L]=R.useState("loading"),[F,$]=R.useState([]),[ae,ve]=R.useState(""),[me]=R.useState(Date.now()),[de,j]=R.useState(!1),[k,N]=R.useState(""),[D,O]=R.useState(!1),P=R.useRef(!1),I=5,$e=R.useCallback(async()=>{if(!de){L("loading"),j(!0);try{let X;if(o){const oe=F.length>0?F[F.length-1]:void 0;X=await up.generateQuestionWithContext(i,"word-image",e,oe);const ge=lr.getInsights(i);ge.length>0&&N(ge[0])}else{const oe=["Hayvanlar","Meyveler","Tatlar"],ge=oe[Math.floor(Math.random()*oe.length)];X=await yi.generateQuestion({subject:ge,difficulty:"kolay",questionType:"oktan semeli"})}h(X),p(null),q(30),L("playing")}catch(X){console.error("Error generating question:",X);try{const oe=await yi.generateQuestion({subject:"Hayvanlar",difficulty:"kolay",questionType:"oktan semeli"});h(oe)}catch(oe){console.error("Ollama fallback failed:",oe);const ge={id:`static_fallback_${Date.now()}`,question:"Hangi hayvan kpek?",options:["","","",""],correctAnswer:0,confidence:1,gameType:"word-image",difficulty:"easy"};h(ge)}p(null),q(30),L("playing")}finally{j(!1)}}},[i,e,o]);R.useEffect(()=>{P.current||D||(P.current=!0,O(!0),$e())},[$e,D]),R.useEffect(()=>{let X;return z==="playing"&&M>0?X=setTimeout(()=>{q(M-1)},1e3):M===0&&z==="playing"&&Me(),()=>clearTimeout(X)},[M,z]);const Me=()=>{p(-1);const X=["Zaman bitti!  Ama sorun yok, devam edelim!","Hop, zaman doldu!  Hzl olmaya alalm!","Sre bitti!  Bir sonrakinde daha hzl!","Zaman tamamland!  Sen yaparsn!"];ve(X[Math.floor(Math.random()*X.length)]),L("answered");const oe={emotion:"neutral",confidence:.6,timestamp:new Date};$(ge=>[...ge,oe]),s?.(oe),setTimeout(()=>{ce()},1500)},Y=X=>{if(z!=="playing")return;if(p(X),L("answered"),X===c?.correctAnswer){x(y+1);const ge=["SPER!  Harika bir seim!","MTH!  ok akllsn!","WOW!  Perfect!","BRAVO!  Harikasn!","YESSss!  Devam et!"];ve(ge[Math.floor(Math.random()*ge.length)]);const xe={emotion:"happy",confidence:.9,timestamp:new Date};$(rt=>[...rt,xe]),s?.(xe)}else{const ge=["Hey, yaklatn!  Bir daha dene!","Hi sorun deil!  Sen harikasn!","nemli deil!  Denemeye devam!","Bu sefer olmad ama  bir sonrakinde!","Gayet iyi!  Devam ediyoruz!"];ve(ge[Math.floor(Math.random()*ge.length)]);const xe={emotion:"neutral",confidence:.7,timestamp:new Date};$(rt=>[...rt,xe]),s?.(xe)}setTimeout(()=>{ce()},2e3)},ce=()=>{E>=I?le():(S(E+1),$e())},le=()=>{L("completed");const X=Math.floor((Date.now()-me)/1e3);o&&lr.recordGameResult(i,y,I,X,"word-image",F),n(y,X,F)},ye=()=>{x(0),S(1),$([]),N(""),o&&lr.initializePlayer(i,e),$e()},A=X=>{if("speechSynthesis"in window){const oe=new SpeechSynthesisUtterance(X);oe.lang="tr-TR",oe.rate=.8,speechSynthesis.speak(oe)}},Z=()=>{const X=y/I*100;return X>=80?"text-green-600":X>=60?"text-yellow-600":"text-red-600"},ee=()=>{const X=y/I*100;return X===100?"WAOW! MKEMMEL!  Sen bir ampiyon!":X>=80?"SPER!  ok akllsn!":X>=60?"HARKA!  ok iyi gidiyorsun!":X>=40?"GZEL!  Devam et!":"HEY!  Sen harikasn, tekrar deneyelim!"};return z==="completed"?f.jsx(tt,{className:"max-w-2xl mx-auto",children:f.jsxs(nt,{className:"text-center py-12",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center",children:f.jsx(ps,{className:"h-12 w-12 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Oyun Tamamland!"}),f.jsx("p",{className:"text-gray-600",children:"Harika bir performans sergiledi!"})]}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:`text-3xl font-bold ${Z()}`,children:[y,"/",I]}),f.jsx("div",{className:"text-sm text-gray-600",children:"Doru Cevap"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-3xl font-bold text-primary",children:["%",Math.round(y/I*100)]}),f.jsx("div",{className:"text-sm text-gray-600",children:"Baar Oran"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-secondary",children:F.length}),f.jsx("div",{className:"text-sm text-gray-600",children:"Duygusal Tepki"})]})]})}),f.jsx("div",{className:"mb-6",children:f.jsx("p",{className:"text-lg font-medium text-gray-800",children:ee()})}),f.jsxs(Vt,{onClick:ye,size:"lg",className:"mr-4",children:[f.jsx(Mo,{className:"h-5 w-5 mr-2"}),"Tekrar Oyna"]})]})}):z==="loading"||!c?f.jsx(tt,{className:"max-w-2xl mx-auto",children:f.jsxs(nt,{className:"text-center py-12",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),de&&o?f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[f.jsx(Wt,{className:"h-5 w-5 text-primary animate-pulse"}),f.jsx("p",{className:"text-gray-600 font-medium",children:" Senin iin zel soru hazrlyorum!"})]}),f.jsx("p",{className:"text-sm text-gray-500",children:" ADHD dostum iin en iyi soruyu seiyorum..."})]}):f.jsx("p",{className:"text-gray-600 font-medium",children:" Yeni macera ykleniyor..."})]})}):f.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[f.jsx(tt,{children:f.jsxs(nt,{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"text-sm text-gray-600",children:["Soru ",E,"/",I]}),f.jsxs("div",{className:"text-sm font-medium text-gray-800",children:["Skor: ",y,"/",E-1]}),o&&c?.difficulty&&f.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${c.difficulty==="easy"?"bg-green-100 text-green-700":c.difficulty==="medium"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:c.difficulty==="easy"?"Kolay":c.difficulty==="medium"?"Orta":"Zor"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[o&&f.jsx("div",{title:"AI Powered",children:f.jsx(Wt,{className:"h-4 w-4 text-primary"})}),f.jsx(wi,{className:"h-4 w-4 text-gray-600"}),f.jsxs("span",{className:`font-medium ${M<=10?"text-red-600":"text-gray-800"}`,children:[M,"s"]})]})]}),f.jsx("div",{className:"mt-4",children:f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${E/I*100}%`}})})}),o&&k&&f.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded-lg",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Wt,{className:"h-4 w-4 text-blue-600"}),f.jsx("p",{className:"text-sm text-blue-700",children:k})]})})]})}),f.jsx(tt,{children:f.jsxs(nt,{className:"text-center py-8",children:[f.jsxs("div",{className:"mb-6",children:[f.jsxs(Vt,{variant:"ghost",onClick:()=>A(c.question),className:"mb-4",children:[f.jsx($D,{className:"h-5 w-5 mr-2"}),"Soruyu Dinle"]}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:c.question})]}),f.jsx("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:c.options.map((X,oe)=>{let ge="h-24 text-4xl hover:scale-105 transition-transform";return z==="answered"&&(oe===c.correctAnswer?ge+=" bg-green-100 border-green-500 text-green-700":oe===g&&oe!==c.correctAnswer?ge+=" bg-red-100 border-red-500 text-red-700":ge+=" opacity-50"),f.jsx("button",{className:`border-2 border-gray-300 rounded-lg ${ge}`,onClick:()=>Y(oe),disabled:z!=="playing",children:X},oe)})}),z==="answered"&&ae&&f.jsxs("div",{className:"mt-6 flex items-center justify-center space-x-2",children:[g===c.correctAnswer?f.jsx(fE,{className:"h-6 w-6 text-green-600"}):f.jsx(cD,{className:"h-6 w-6 text-red-600"}),f.jsx("p",{className:"text-lg font-medium text-gray-800",children:ae})]})]})})]})},m4=({studentId:i,studentAge:e=6,onGameComplete:n,onEmotionDetected:s,useAdaptiveAI:o=!0})=>{const[c,h]=R.useState(null),[g,p]=R.useState(null),[y,x]=R.useState(0),[E,S]=R.useState(1),[M,q]=R.useState(45),[z,L]=R.useState("loading"),[F,$]=R.useState([]),[ae,ve]=R.useState(!1),[me]=R.useState(Date.now()),[de,j]=R.useState(!1),[k,N]=R.useState(""),[D,O]=R.useState(!1),P=R.useRef(!1),I=5,$e=R.useCallback(async()=>{if(!de){L("loading"),j(!0);try{let ee;if(o){const X=F.length>0?F[F.length-1]:void 0;ee=await up.generateQuestionWithContext(i,"number",e,X);const oe=lr.getInsights(i);oe.length>0&&N(oe[0])}else ee=await yi.generateQuestion({subject:"Sayma ve temel matematik",difficulty:"kolay",questionType:"oktan semeli"}),ee.gameType="number";h(ee),p(null),q(45),L("playing")}catch(ee){console.error("Error generating question:",ee);try{const X=await yi.generateQuestion({subject:"Basit sayma",difficulty:"kolay",questionType:"oktan semeli"});X.gameType="number",h(X)}catch(X){console.error("Ollama fallback failed:",X);const oe={id:`static_number_${Date.now()}`,question:"Ka tane  var?",options:["2","3","4","5"],correctAnswer:1,confidence:1,gameType:"number",difficulty:"easy"};h(oe)}p(null),q(45),L("playing")}finally{j(!1)}}},[i,e,o]);R.useEffect(()=>{P.current||D||(P.current=!0,O(!0),$e())},[$e,D]),R.useEffect(()=>{let ee;return z==="playing"&&M>0?ee=setTimeout(()=>{q(M-1)},1e3):M===0&&z==="playing"&&Me(),()=>clearTimeout(ee)},[M,z]);const Me=()=>{p(-1),L("answered");const ee={emotion:"confused",confidence:.8,timestamp:new Date};$(X=>[...X,ee]),s?.(ee),setTimeout(()=>{le()},2e3)},Y=ee=>{if(z!=="playing")return;if(p(ee),L("answered"),ee===c?.correctAnswer){x(y+1);const oe={emotion:"happy",confidence:.9,timestamp:new Date};$(ge=>[...ge,oe]),s?.(oe)}else{const oe={emotion:"sad",confidence:.7,timestamp:new Date};$(ge=>[...ge,oe]),s?.(oe)}setTimeout(()=>{le()},2e3)},ce=()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){alert("Taraycnz ses tanmay desteklemiyor");return}if(ae){ve(!1);return}ve(!0);const ee=new(window.webkitSpeechRecognition||window.SpeechRecognition);ee.lang="tr-TR",ee.interimResults=!1,ee.maxAlternatives=1,ee.onresult=X=>{const oe=X.results[0][0].transcript,ge=parseInt(oe);if(!isNaN(ge)&&c){const xe=c.options.findIndex(rt=>parseInt(rt)===ge);xe!==-1&&Y(xe)}ve(!1)},ee.onerror=()=>{ve(!1)},ee.onend=()=>{ve(!1)},ee.start()},le=()=>{E>=I?ye():(S(E+1),$e())},ye=()=>{L("completed");const ee=Math.floor((Date.now()-me)/1e3);o&&lr.recordGameResult(i,y,I,ee,"number",F),n(y,ee,F)},A=()=>{x(0),S(1),$([]),N(""),o&&lr.initializePlayer(i,e),$e()};if(z==="completed")return f.jsx(tt,{className:"max-w-2xl mx-auto",children:f.jsxs(nt,{className:"text-center py-12",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:f.jsx(ps,{className:"h-12 w-12 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Say Oyunu Tamamland!"}),f.jsx("p",{className:"text-gray-600",children:"Matematik becerilerin geliiyor!"})]}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-4xl font-bold text-green-600 mb-2",children:[y,"/",I]}),f.jsx("div",{className:"text-sm text-gray-600",children:"Doru Say"})]})}),f.jsxs(Vt,{onClick:A,size:"lg",children:[f.jsx(Mo,{className:"h-5 w-5 mr-2"}),"Tekrar Oyna"]})]})});if(z==="loading"||!c)return f.jsx(tt,{className:"max-w-2xl mx-auto",children:f.jsxs(nt,{className:"text-center py-12",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),de&&o?f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[f.jsx(Wt,{className:"h-5 w-5 text-green-600"}),f.jsx("p",{className:"text-gray-600",children:"AI say sorusu retiyor..."})]}),f.jsx("p",{className:"text-sm text-gray-500",children:"Performansna gre uyarlanyor"})]}):f.jsx("p",{className:"text-gray-600",children:"Say sorusu hazrlanyor..."})]})});const Z=()=>{if(!c)return null;const ee=parseInt(c.options[c.correctAnswer]),X="".repeat(ee);return f.jsx("div",{className:"text-6xl mb-6 leading-relaxed",children:X})};return f.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[f.jsx(tt,{children:f.jsxs(nt,{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"text-sm text-gray-600",children:["Soru ",E,"/",I]}),f.jsxs("div",{className:"text-sm font-medium text-gray-800",children:["Skor: ",y]}),o&&c?.difficulty&&f.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${c.difficulty==="easy"?"bg-green-100 text-green-700":c.difficulty==="medium"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:c.difficulty==="easy"?"Kolay":c.difficulty==="medium"?"Orta":"Zor"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[o&&f.jsx("div",{title:"AI Powered",children:f.jsx(Wt,{className:"h-4 w-4 text-green-600"})}),f.jsx(wi,{className:"h-4 w-4 text-gray-600"}),f.jsxs("span",{className:`font-medium ${M<=15?"text-red-600":"text-gray-800"}`,children:[M,"s"]})]})]}),o&&k&&f.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded-lg",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Wt,{className:"h-4 w-4 text-blue-600"}),f.jsx("p",{className:"text-sm text-blue-700",children:k})]})})]})}),f.jsx(tt,{children:f.jsxs(nt,{className:"text-center py-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:c.question}),f.jsx("div",{className:"mb-8",children:Z()}),f.jsxs("div",{className:"mb-6",children:[f.jsxs(Vt,{onClick:ce,variant:ae?"danger":"secondary",size:"lg",className:"mb-4",children:[ae?f.jsx(bD,{className:"h-5 w-5 mr-2"}):f.jsx(TD,{className:"h-5 w-5 mr-2"}),ae?"Dinlemeyi Durdur":"Sesli Cevap Ver"]}),ae&&f.jsx("p",{className:"text-sm text-gray-600",children:"Cevabnz syleyin..."})]}),f.jsx("div",{className:"grid grid-cols-5 gap-3 max-w-lg mx-auto",children:c.options.map((ee,X)=>{let oe="h-16 text-xl font-bold hover:scale-105 transition-transform";return z==="answered"&&(X===c.correctAnswer?oe+=" bg-green-100 border-green-500 text-green-700":X===g&&X!==c.correctAnswer?oe+=" bg-red-100 border-red-500 text-red-700":oe+=" opacity-50"),f.jsx("button",{className:`border-2 border-gray-300 rounded-lg ${oe}`,onClick:()=>Y(X),disabled:z!=="playing",children:ee},X)})})]})})]})},g4=({studentId:i,studentAge:e=6,onGameComplete:n,onEmotionDetected:s,useAdaptiveAI:o=!0})=>{const[c,h]=R.useState(null),[g,p]=R.useState(null),[y,x]=R.useState(0),[E,S]=R.useState(1),[M,q]=R.useState(25),[z,L]=R.useState("loading"),[F,$]=R.useState([]),[ae]=R.useState(Date.now()),[ve,me]=R.useState(!1),[de,j]=R.useState(""),[k,N]=R.useState(!1),D=R.useRef(!1),O=5,P=R.useCallback(async()=>{if(console.log(" [DEBUG] generateQuestion arld",{isAIGenerating:ve,gameState:z,questionNumber:E,timestamp:new Date().toISOString()}),ve){console.log(" [DEBUG] Zaten soru retiliyor, klyor...");return}console.log(" [DEBUG] Soru retimi balyor..."),L("loading"),me(!0);try{let le;if(o){const ye=F.length>0?F[F.length-1]:void 0;le=await up.generateQuestionWithContext(i,"color",e,ye);const A=lr.getInsights(i);A.length>0&&j(A[0])}else le=await yi.generateQuestion({subject:"Renkler ve renk tanma",difficulty:"kolay",questionType:"oktan semeli"}),le.gameType="color";console.log(" [DEBUG] Soru baaryla retildi:",le.question),h(le),p(null),q(25),L("playing")}catch(le){console.error("Error generating question:",le);try{const ye=await yi.generateQuestion({subject:"Temel renkler",difficulty:"kolay",questionType:"oktan semeli"});ye.gameType="color",h(ye)}catch(ye){console.error("Ollama fallback failed:",ye);const A={id:`static_color_${Date.now()}`,question:"Hangi renk krmz?",options:["","","",""],correctAnswer:0,confidence:1,gameType:"color",difficulty:"easy"};h(A)}p(null),q(25),L("playing")}finally{console.log(" [DEBUG] Soru retimi tamamland, isAIGenerating = false"),me(!1)}},[i,e,o]);R.useEffect(()=>{if(console.log(" [DEBUG] useEffect alt",{isInitialized:k,initStarted:D.current}),D.current){console.log(" [DEBUG] StrictMode guard - klyor");return}k||(console.log(" [DEBUG] lk kez balatlyor, generateQuestion arlyor"),D.current=!0,N(!0),P())},[P,k]),R.useEffect(()=>{let le;return z==="playing"&&M>0?le=setTimeout(()=>{q(M-1)},1e3):M===0&&z==="playing"&&I(),()=>clearTimeout(le)},[M,z]);const I=()=>{p(-1),L("answered");const le={emotion:"confused",confidence:.8,timestamp:new Date};$(ye=>[...ye,le]),s?.(le),setTimeout(()=>{Me()},2e3)},$e=le=>{if(z!=="playing")return;if(p(le),L("answered"),le===c?.correctAnswer){x(y+1);const A={emotion:"happy",confidence:.9,timestamp:new Date};$(Z=>[...Z,A]),s?.(A)}else{const A={emotion:"sad",confidence:.7,timestamp:new Date};$(Z=>[...Z,A]),s?.(A)}setTimeout(()=>{Me()},2e3)},Me=R.useCallback(()=>{console.log(" [DEBUG] nextQuestion arld",{questionNumber:E,totalQuestions:O}),E>=O?(console.log(" [DEBUG] Oyun tamamland"),Y()):(console.log(" [DEBUG] Sonraki soruya geiliyor:",E+1),S(E+1),P())},[E,O,P]),Y=()=>{L("completed");const le=Math.floor((Date.now()-ae)/1e3);o&&lr.recordGameResult(i,y,O,le,"color",F),n(y,le,F)},ce=()=>{x(0),S(1),$([]),j(""),N(!1),o&&lr.initializePlayer(i,e),P()};return z==="completed"?f.jsx(tt,{className:"max-w-2xl mx-auto",children:f.jsxs(nt,{className:"text-center py-12",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f.jsx(yE,{className:"h-12 w-12 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Renk Oyunu Tamamland!"}),f.jsx("p",{className:"text-gray-600",children:"Renkler konusunda ok baarlsn!"})]}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:[y,"/",O]}),f.jsx("div",{className:"text-sm text-gray-600",children:"Doru Renk"})]})}),f.jsxs(Vt,{onClick:ce,size:"lg",children:[f.jsx(Mo,{className:"h-5 w-5 mr-2"}),"Tekrar Oyna"]})]})}):z==="loading"||!c?f.jsx(tt,{className:"max-w-2xl mx-auto",children:f.jsxs(nt,{className:"text-center py-12",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),ve&&o?f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[f.jsx(Wt,{className:"h-5 w-5 text-purple-600"}),f.jsx("p",{className:"text-gray-600",children:"AI renk sorusu retiyor..."})]}),f.jsx("p",{className:"text-sm text-gray-500",children:"Performansna gre uyarlanyor"})]}):f.jsx("p",{className:"text-gray-600",children:"Renk sorusu hazrlanyor..."})]})}):f.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[f.jsx(tt,{children:f.jsxs(nt,{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"text-sm text-gray-600",children:["Soru ",E,"/",O]}),f.jsxs("div",{className:"text-sm font-medium text-gray-800",children:["Skor: ",y]}),o&&c?.difficulty&&f.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${c.difficulty==="easy"?"bg-green-100 text-green-700":c.difficulty==="medium"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:c.difficulty==="easy"?"Kolay":c.difficulty==="medium"?"Orta":"Zor"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[o&&f.jsx("div",{title:"AI Powered",children:f.jsx(Wt,{className:"h-4 w-4 text-purple-600"})}),f.jsx(wi,{className:"h-4 w-4 text-gray-600"}),f.jsxs("span",{className:`font-medium ${M<=10?"text-red-600":"text-gray-800"}`,children:[M,"s"]})]})]}),o&&de&&f.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded-lg",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Wt,{className:"h-4 w-4 text-blue-600"}),f.jsx("p",{className:"text-sm text-blue-700",children:de})]})})]})}),f.jsx(tt,{children:f.jsxs(nt,{className:"text-center py-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8",children:c.question}),f.jsx("div",{className:"grid grid-cols-2 gap-6 max-w-md mx-auto",children:c.options.map((le,ye)=>{let A="w-24 h-24 text-6xl hover:scale-110 transition-transform rounded-full border-4";return z==="answered"?ye===c.correctAnswer?A+=" border-green-500 shadow-lg shadow-green-200":ye===g&&ye!==c.correctAnswer?A+=" border-red-500 shadow-lg shadow-red-200":A+=" opacity-50 border-gray-300":A+=" border-gray-300 hover:border-gray-400",f.jsx("button",{className:A,onClick:()=>$e(ye),disabled:z!=="playing",children:le},ye)})}),z==="answered"&&f.jsx("div",{className:"mt-8",children:g===c.correctAnswer?f.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[f.jsx(ps,{className:"h-6 w-6"}),f.jsx("p",{className:"text-lg font-medium",children:"Harika! Doru renk! "})]}):f.jsx("p",{className:"text-lg font-medium text-red-600",children:"Yanl renk. Tekrar deneyelim! "})})]})})]})};class p4{async generateAttentionSprint(e){const{performansOzeti:n,studentAge:s,sonGorevler:o=[]}=e,c=this.determineDifficulty(n),h=this.determineTaskVariety(o),g=this.buildAttentionSprintPrompt(n,s,c,h);try{console.log(" [ATTENTION SPRINT] Grev retiliyor:",{difficulty:c,performansOzeti:n});const p=await this.callOllama(g),y=this.parseSprintResponse(p,c);return console.log(" [ATTENTION SPRINT] Grev retildi:",y.gorev),y}catch(p){return console.error(" [ATTENTION SPRINT] Grev retme hatas:",p),this.getFallbackTask(c,s)}}determineDifficulty(e){const{basariOrani:n,odaklanmaDurumu:s,ortalamaReaksiyonSuresi:o,son3Tur:c,sayiGorevPerformansi:h,zamanlamaPerformansi:g}=e,p=c.filter(M=>M.hizliCozum).length,y=c.some(M=>M.hedefTipi==="sayi"),x=c.some(M=>M.hedefZaman!==null),E=g?.ortalamaSapma||0,S=g?.idealZamanlamaOrani||0;if(console.log(" [ADAPTIVE DIFFICULTY]",{basariOrani:n,ortalamaReaksiyonSuresi:o,hizliCozumSayisi:p,sayiGoreviVarMi:y,zamanlamaGoreviVarMi:x,ortalamaSapma:E,idealZamanlamaOrani:S,sayiGorevPerformansi:h,zamanlamaPerformansi:g}),p>=2&&n>=.8&&o<2)return console.log(" [DIFFICULTY] Sper hzl - 2x atlama!"),"zor";if(h&&y){const M=this.evaluateNumberTaskPerformance(h,c);if(M.zorlukArtisi>1)return console.log(` [DIFFICULTY] Say grevi adaptasyonu: +${M.zorlukArtisi}`),M.onerilen}if(x&&g){if(S>=.8&&E<=.5)return console.log(" [DIFFICULTY] Mkemmel zamanlama (sapma 0.5s) - ZOR seviye!"),"zor";if(S>=.6&&E<=1.5)return console.log(" [DIFFICULTY] yi zamanlama (sapma 1.5s) - ORTA seviye!"),"orta";if(S>=.4&&E<=3)return console.log(" [DIFFICULTY] Orta zamanlama (sapma 3s) - KOLAY/ORTA seviye!"),n>=.7?"orta":"kolay";if(E>3)return console.log(" [DIFFICULTY] Kt zamanlama (sapma >3s) - KOLAY seviye!"),"kolay"}return n>=.8&&(p>=2||o<2.5)?(console.log(" [DIFFICULTY] Sper performans - ZOR seviye!"),"zor"):n>=.7&&(p>=1||o<4)?(console.log(" [DIFFICULTY] yi performans - ORTA seviye!"),"orta"):n>=.8&&o<6?(console.log(" [DIFFICULTY] Yava ama baarl - ORTA seviye!"),"orta"):n<.5||o>8?(console.log(" [DIFFICULTY] Zayf performans - KOLAY seviye!"),"kolay"):(console.log(" [DIFFICULTY] Varsaylan - ORTA seviye!"),"orta")}determineTaskVariety(e){const n=e.map(g=>this.analyzeTaskType(g)),o=["renk-tklama","ekil-tklama","sayma","bekleme","kombinasyon","dinamik-sayma","dinamik-tklama","say-tklama"].map(g=>({tip:g,sayi:n.filter(p=>p===g).length})),c=o.filter(g=>g.sayi===Math.min(...o.map(p=>p.sayi))),h=c[Math.floor(Math.random()*c.length)];return console.log(" [VARIETY] Son grevler:",n," nerilen tip:",h.tip),h.tip}analyzeTaskType(e){const n=e.toLowerCase();if(n.includes("say")||n.includes("count")||n.includes("adet"))return n.includes("tm")||n.includes("saniye iinde")?"dinamik-sayma":"sayma";if(n.includes("tm")&&n.includes("tkla")&&(n.includes("saniye")||n.includes("dakika")))return"dinamik-tklama";if(n.includes("bekle")||n.includes("wait")||n.includes("sessiz")||n.includes("dur"))return"bekleme";if(["1","2","3","4","5","6","7","8","9"].some(y=>n.includes(y)&&n.includes("tkla")))return"say-tklama";const c=["krmz","mavi","yeil","sar","mor","turuncu"],h=["daire","kare","gen","yldz","kalp","elmas"],g=c.some(y=>n.includes(y)),p=h.some(y=>n.includes(y));return g&&p?"kombinasyon":g?"renk-tklama":p?"ekil-tklama":"renk-tklama"}getTaskExamplesForType(e,n){const s={"renk-tklama":{kolay:['" Krmz butona 2 saniye sonra bas"','" Mavi daire grnce hemen tkla"','" Yeil rengi grdnde bas"'],orta:['" 3 saniye bekle, sonra krmz daire tkla"','" Mavi renk ktnda hzlca bas"','" Sar butonu grdn anda tkla"'],zor:['" Krmz hedef ktnda 1 saniye iinde bas"','" Mavi objesi belirdiinde ok hzl tkla"','" Yeil hedef grnr grnmez bas"']},"ekil-tklama":{kolay:['" Yldz grdnde tkla"','" gen ktnda bas"','" Daire grnce hemen tkla"'],orta:['" Yldz belirdiinde 2 saniye iinde bas"','" gen hedefe odaklan ve tkla"','" Elmas eklini grdnde bas"'],zor:['" Yldz ktnda annda tkla"','" gen hedefini ok hzl yakala"','" Elmas grnr grnmez bas"']},sayma:{kolay:['" Mavi karelerin saysn bul"','" Yldzlar say"','" Krmz daireleri hesapla"'],orta:['" Yeil genleri dikkatli say"','" Mavi ekillerin toplam saysn bul"','" Sar yldzlar say ve say"'],zor:['" Hzl kan krmz genleri say"','" Mavi kareleri abuk hesapla"','" Parlayan yldzlar hzla say"']},bekleme:{kolay:['" 3 saniye sessizce bekle"','" 5 saniye hareketsiz dur"','" 4 saniye sakin ol"'],orta:['" 6 saniye bekle, sonra bala"','" 8 saniye nefes al ve bekle"','" 7 saniye odaklan ve dur"'],zor:['" 10 saniye tam konsantre bekle"','" 12 saniye hi hareket etme"','" 15 saniye mkemmel bekleme"']},kombinasyon:{kolay:['" Krmz daireyi tkla"','" Mavi geni bul ve bas"','" Yeil kareyi hedefle"'],orta:['" Krmz yldz 3 saniye sonra tkla"','" Mavi kalbi grdnde bas"','" Sar elmasn yakala"'],zor:['" Krmz geni ok hzl yakala"','" Mavi kareyi annda tkla"','" Yeil yldz 1 saniyede bas"']},"dinamik-sayma":{kolay:['"15 saniye iinde kan mavi daireleri say"','"20 saniye boyunca gelen yldzlar hesapla"','"12 saniye iinde beliren ekilleri say"'],orta:['"25 saniye iinde gelen krmz genleri say"','"30 saniye boyunca kan mavi kareleri hesapla"','"20 saniye iinde beliren yeil daireleri say"'],zor:['"35 saniye iinde hzl kan hedefleri say"','"40 saniye boyunca deiken objeleri hesapla"','"30 saniye iinde kark ekilleri say"']},"dinamik-tklama":{kolay:['"20 saniye iinde tm mavi daireleri tkla"','"25 saniye boyunca kan yldzlar yakala"','"15 saniye iinde beliren hedefleri tkla"'],orta:['"35 saniye iinde tm krmz genleri tkla"','"40 saniye boyunca gelen mavi kareleri yakala"','"30 saniye iinde kan yeil daireleri tkla"'],zor:['"50 saniye iinde tm hzl hedefleri yakala"','"60 saniye boyunca deiken objeleri tkla"','"45 saniye iinde kark hedefleri yakala"']},"say-tklama":{kolay:['"3 3 saysn grdnde tkla"','"5 5 rakamna bas"','"2 2 saysn yakala"'],orta:['"7 7 rakamn 2 saniye sonra tkla"','"4 4 saysn hzlca yakala"','"6 6 rakamn grdnde bas"'],zor:['"9 9 saysn ok hzl yakala"','"8 8 rakamn annda tkla"','"1 1 saysn grr grmez bas"']}};return(s[e]?.[n]||s["renk-tklama"][n]).join(`
`)}buildAttentionSprintPrompt(e,n,s,o){const c=this.formatPerformanceForPrompt(e),h=this.getTaskExamplesForType(o,s);return`ADHD'li 12 ya ocuk iin Dikkat Sprintleri grevi ret. SADECE JSON dndr.

NERLEN GREV TP: ${o} (eitlilik iin)

TP BAZLI RNEKLER:
${h}

HEDEF KITLE:
- Ya: 12 (ortaokul seviyesi)
- ADHD zellik: Ksa dikkat sresi, hiperaktivite, impulse kontrol zorluu
- Motivasyon: Grsel dller, hzl geri bildirim, baar hissi

GREV KURALLARI:
- Sre: 30-60 saniye (ADHD iin ksa)
- Tek odak: Sadece 1 ey yap (oklu grev yok)
- Net talimat: Basit, anlalr komutlar
- Grsel zengin: Renkler, ekiller, emojiler kullan
- Olumlu dil: "Yapma" yerine "Yap" kalb

ZORLUK SEVYES: ${s}

PERFORMANS ZET:
${c}

IKTI EMASI:
{
  "gorev": string, // "3 saniye bekle, sonra  krmz daire tkla"
  "sure_saniye": number, // 30-60 aras
  "ipuclari": [string], // Max 2 ipucu, ksa ve net
  "hedefRenk": string, // Varsa: "krmz", "mavi" vs
  "hedefSayi": number, // Varsa: sayma grevi iin
  "hedefSekil": string, // Varsa: "daire", "kare" vs
  "dikkatDagitici": number // 0-1 aras (0=yok, 1=maksimum)
}

12 YA N GREV RNEKLER:
- " Krmz butona 2 saniye sonra bas"
- " Yeil kareler saysn bul"
- " Mavi  yldzlar takip et"
- " 5 saniye sessizce bekle"
- " Ortadaki hedefe odaklan"

YAPMA:
- Uzun aklamalar
- Karmak oklu admlar
- Olumsuz kelimeler
- Soyut kavramlar`}formatPerformanceForPrompt(e){const{son3Tur:n,basariOrani:s,ortalamaReaksiyonSuresi:o,odaklanmaDurumu:c}=e;return`Son 3 Tur:
${n.map((g,p)=>`Tur ${p+1}: ${g.basari?"Baarl":"Baarsz"} - ${g.sure}s - ${g.zorluk}`).join(`
`)}

Genel Durum:
- Baar Oran: ${Math.round(s*100)}%
- Ortalama Reaksiyon: ${o.toFixed(1)}s
- Odaklanma: ${c}`}async callOllama(e){const o=await fetch("http://localhost:11434/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"hf.co/umutkkgz/Kaira-Turkish-Gemma-9B-T1-GGUF:Q3_K_M",prompt:e,format:"json",stream:!1,options:{temperature:.7,top_p:.9,num_predict:250}})});if(!o.ok)throw new Error(`Ollama API hatas: ${o.status}`);return(await o.json()).response?.trim()||""}parseSprintResponse(e,n){try{const s=JSON.parse(e);if(!s.gorev||typeof s.gorev!="string")throw new Error("Geersiz grev");const o={id:`sprint_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,gorev:s.gorev,sure_saniye:Math.max(30,Math.min(60,s.sure_saniye||45)),ipuclari:Array.isArray(s.ipuclari)?s.ipuclari.slice(0,2):[],hedefRenk:s.hedefRenk||void 0,hedefSayi:s.hedefSayi||void 0,hedefSekil:s.hedefSekil||void 0,dikkatDagitici:Math.max(0,Math.min(1,s.dikkatDagitici||0)),difficulty:n,hedefTipi:this.determineTargetType(s)},c=this.validateAndCorrectTask(o);return console.log(" [AI TASK] Orijinal grev:",s),console.log(" [AI TASK] Dzeltilmi grev:",c),c}catch(s){throw console.error("Sprint response parse hatas:",s),new Error(`JSON parse hatas: ${s}`)}}getFallbackTask(e,n){const o={kolay:[{gorev:" Krmz butona bas",sure_saniye:30,ipuclari:["Krmz rengi ara","Byk buton olacak"],hedefRenk:"krmz",dikkatDagitici:0},{gorev:" Yldzlar say",sure_saniye:35,ipuclari:["Sar yldzlar bul","Parmakla iaret et"],hedefSekil:"yldz",dikkatDagitici:0}],orta:[{gorev:" Yeil kareler saysn bul",sure_saniye:45,ipuclari:["Sadece yeil olanlar","Sessizce say"],hedefRenk:"yeil",hedefSekil:"kare",dikkatDagitici:.3},{gorev:" Ortadaki hedefe 3 saniye odaklan",sure_saniye:40,ipuclari:["Gzlerini hedeften ayrma","Nefes al"],dikkatDagitici:.5}],zor:[{gorev:" Mavi daireler gzknce hzla tkla",sure_saniye:50,ipuclari:["Hazr ol","Hzl reaksiyon gster"],hedefRenk:"mavi",hedefSekil:"daire",dikkatDagitici:.7},{gorev:" Sar yldzlar takip et ve say",sure_saniye:55,ipuclari:["Hareket eden yldzlar takip et","Sayy unutma"],hedefRenk:"sar",hedefSekil:"yldz",dikkatDagitici:.8}]}[e],c=o[Math.floor(Math.random()*o.length)];return{id:`fallback_sprint_${Date.now()}`,...c,difficulty:e,hedefTipi:c.hedefRenk?"renk":c.hedefSekil?"sekil":c.hedefSayi?"sayi":"genel"}}determineTargetType(e){return e.hedefRenk&&e.hedefSekil||e.hedefRenk?"renk":e.hedefSekil?"sekil":e.hedefSayi?"sayi":"genel"}validateAndCorrectTask(e){const n=e.gorev.toLowerCase(),s=["krmz","mavi","yeil","sar","mor","turuncu"].find(g=>n.includes(g)),o=["yldz","daire","kare","gen","kalp","elmas"].find(g=>n.includes(g));let c=null;if(n.includes("tane")||n.includes("adet")||n.includes("say")){const g=n.match(/(\d+)\s*(tane|adet|say)/);c=g?parseInt(g[1]):null}else if(n.includes("numar")||n.includes("rakam")){const g=n.match(/(\d+)\s*(numar|rakam)/);c=g?parseInt(g[1]):null}console.log(" [TEXT ANALYSIS]",{grev:e.gorev,detectedColors:s,detectedShapes:o,detectedNumbers:c,originalTask:{hedefRenk:e.hedefRenk,hedefSekil:e.hedefSekil,hedefSayi:e.hedefSayi}});const h={...e};return s&&o?(console.log(` [TASK FIX] Karma hedef: ${s} ${o}`),h.hedefRenk=s,h.hedefSekil=o,h.hedefSayi=void 0):s&&!o?(console.log(` [TASK FIX] Sadece renk: ${s}`),h.hedefRenk=s,h.hedefSekil=void 0,h.hedefSayi=void 0):o&&!s&&(console.log(` [TASK FIX] Sadece ekil: ${o}`),h.hedefSekil=o,h.hedefRenk=void 0,h.hedefSayi=void 0),c&&(!e.hedefSayi||e.hedefSayi!==c)?(console.log(` [TASK FIX] Say dzeltmesi: ${e.hedefSayi}  ${c}`),h.hedefSayi=c,h.hedefRenk=void 0,h.hedefSekil=void 0):e.hedefSayi&&!c&&(s||o)&&(console.log(` [TASK FIX] Yanl say temizleme: hedefSayi ${e.hedefSayi} silindi`),h.hedefSayi=void 0),h}evaluateNumberTaskPerformance(e,n){const{ortalamaSayiZorlugu:s,sayiBasariOrani:o,ortalamaReaksiyonSuresiSayi:c,hizliCozumSayisi:h}=e,g=n.filter(x=>x.hedefTipi==="sayi");g[g.length-1];let p=0,y="orta";return h>=2&&c<2?(p=3,y="zor"):o>=.8&&c<4?(p=2,y=s<5?"orta":"zor"):o>=.6&&c<6?(p=1,y="orta"):(o<.5||c>8)&&(p=-1,y="kolay"),{zorlukArtisi:p,onerilen:y}}determineNumberDifficulty(e,n,s){const c=Math.max(1,Math.min(3,(e==="kolay"?1:e==="orta"?2:3)+s)),h={1:{min:1,max:3},2:{min:2,max:5},3:{min:3,max:7},4:{min:5,max:9}};return h[Math.min(4,c)]||h[2]}}const hp=new p4,y4=({studentId:i,studentAge:e=12,difficulty:n,onGameComplete:s,onEmotionDetected:o})=>{const[c,h]=R.useState(null),[g,p]=R.useState("ready"),[y,x]=R.useState(0),[E,S]=R.useState([]),[M,q]=R.useState(0),[z,L]=R.useState(0),[F,$]=R.useState([]),[ae]=R.useState(Date.now()),[ve,me]=R.useState(3),[de,j]=R.useState(!1),[k,N]=R.useState(!1),[D,O]=R.useState(!1),[P,I]=R.useState({x:50,y:50}),[$e,Me]=R.useState([]),Y=R.useRef(0),ce=R.useRef(!1),le=R.useRef(!1),ye=R.useRef(!1),A=R.useRef(null),Z=5;R.useEffect(()=>(!ce.current&&!D&&(ce.current=!0,ee()),()=>{A.current&&(clearInterval(A.current),A.current=null)}),[]);const ee=R.useCallback(async()=>{if(le.current)return;le.current=!0,O(!0);const se={son3Tur:[],ortalamaReaksiyonSuresi:2.5,basariOrani:.7,odaklanmaDurumu:"orta"};try{const ue=await hp.generateAttentionSprint({performansOzeti:se,studentAge:e,sonGorevler:[]}),Re={...ue,difficulty:n,gorev:X(ue.gorev)};h(Re),x(Re.sure_saniye)}catch(ue){console.error("lk grev retme hatas:",ue),h(oe())}finally{le.current=!1,O(!1)}},[e,n]),X=se=>{const ue=se.toLowerCase();if(!ue.includes("say")&&!ue.includes("count")&&!ue.includes("adet")&&!ue.includes("tm")&&!ue.includes("hepsi"))return se;const Re=[" Krmz"," Mavi"," Yeil"," Sar"],it=["daire","kare","gen","yldz"],we=Re[Math.floor(Math.random()*Re.length)],Ke=it[Math.floor(Math.random()*it.length)];return`${we} ${Ke}i tkla`},oe=()=>{const ue={kolay:[{gorev:" Krmz daire tkla",hedefRenk:"krmz",hedefSekil:"daire"},{gorev:" Mavi kare tkla",hedefRenk:"mavi",hedefSekil:"kare"},{gorev:" Yeil yldz tkla",hedefRenk:"yeil",hedefSekil:"yldz"}],orta:[{gorev:" Krmz gen 2 saniye sonra tkla",hedefRenk:"krmz",hedefSekil:"gen"},{gorev:" Mavi daire belirdiinde tkla",hedefRenk:"mavi",hedefSekil:"daire"},{gorev:" Sar kare grdnde bas",hedefRenk:"sar",hedefSekil:"kare"}],zor:[{gorev:" Krmz yldz ktnda hemen tkla",hedefRenk:"krmz",hedefSekil:"yldz"},{gorev:" Mavi gen grnr grnmez bas",hedefRenk:"mavi",hedefSekil:"gen"},{gorev:" Yeil daire belirdiinde annda tkla",hedefRenk:"yeil",hedefSekil:"daire"}]}[n],Re=ue[Math.floor(Math.random()*ue.length)];return{id:`click_fallback_${Date.now()}`,...Re,sure_saniye:n==="kolay"?30:n==="orta"?40:50,ipuclari:["Hedefe odaklan","Hzl reaksiyon gster"],dikkatDagitici:n==="kolay"?0:n==="orta"?.3:.5,difficulty:n,hedefTipi:"renk"}},ge=()=>{if(!c)return;p("countdown"),me(3),j(!1),N(!1);const se=setInterval(()=>{me(ue=>ue<=1?(clearInterval(se),ln(),0):ue-1)},1e3)},xe=()=>{A.current&&(clearInterval(A.current),A.current=null),Y.current=Date.now(),A.current=setInterval(()=>{x(se=>se<=1?(A.current&&(clearInterval(A.current),A.current=null),Zt(!1),0):se-1)},1e3)},rt=()=>({x:Math.random()*70+15,y:Math.random()*60+20}),Je=()=>{if(!c)return[];const se=Math.floor(c.dikkatDagitici*5),ue=[];for(let Re=0;Re<se;Re++){const it=rt();let we="shape",Ke="";if(c.hedefRenk&&c.hedefSekil){we="combo";const Ne=c.hedefRenk;let Ce=[];Ne==="mavi"?Ce=["","","","",""]:Ne==="krmz"?Ce=["","","","",""]:Ne==="yeil"?Ce=["","","","",""]:Ne==="sar"&&(Ce=["","","","",""]),Ke=Ce[Math.floor(Math.random()*Ce.length)]||""}ue.push({id:`distractor-${Re}`,x:it.x,y:it.y,type:we,value:Ke})}return ue},ln=()=>{if(!c)return;p("active"),x(c.sure_saniye),I(rt()),Me(Je());const se=Math.random()*2e3+1e3;setTimeout(()=>{j(!0),xe()},se)},bn=se=>{if(se.stopPropagation(),g!=="active"||!de||k)return;N(!0);const ue=(Date.now()-Y.current)/1e3;Zt(!0,ue)},gn=se=>{if(se.stopPropagation(),g!=="active"||k)return;const ue=(Date.now()-Y.current)/1e3;Zt(!1,ue)},kn=()=>{if(g!=="active"||!de||k)return;const se=(Date.now()-Y.current)/1e3;Zt(!1,se)},Zt=(se,ue)=>{if(!c||ye.current)return;ye.current=!0,A.current&&(clearInterval(A.current),A.current=null);const Re=ue||(Date.now()-Y.current)/1e3,it={task:c,startTime:Y.current,endTime:Date.now(),success:se,reactionTime:Re};if(S(we=>[...we,it]),se){L(Ke=>Ke+1);const we={emotion:"happy",confidence:.9,timestamp:new Date};$(Ke=>[...Ke,we]),o?.(we)}else{const we={emotion:"confused",confidence:.7,timestamp:new Date};$(Ke=>[...Ke,we]),o?.(we)}p("waiting"),setTimeout(()=>{M+1>=Z?Rn():(q(we=>we+1),j(!1),N(!1),Me([]),ee(),p("ready")),ye.current=!1},2e3)},Rn=()=>{p("completed");const se=Math.floor((Date.now()-ae)/1e3);s(z,se,F)},je=()=>{A.current&&(clearInterval(A.current),A.current=null),S([]),q(0),L(0),$([]),p("ready"),j(!1),N(!1),I({x:50,y:50}),Me([]),ce.current=!1,le.current=!1,ye.current=!1,ee()};return g==="completed"?f.jsx(tt,{className:"max-w-2xl mx-auto",children:f.jsxs(nt,{className:"text-center py-12",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:f.jsx(Vr,{className:"h-12 w-12 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Dikkat Tklama Oyunu Tamamland!"}),f.jsx("p",{className:"text-gray-600",children:"Hzl reaksiyon becerin geliiyor!"})]}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[z,"/",Z]}),f.jsx("div",{className:"text-sm text-gray-600",children:"Baarl Tklama"})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(z/Z*100),"%"]}),f.jsx("div",{className:"text-sm text-gray-600",children:"Baar Oran"})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[E.length>0?(E.reduce((se,ue)=>se+ue.reactionTime,0)/E.length).toFixed(1):"0.0","s"]}),f.jsx("div",{className:"text-sm text-gray-600",children:"Ort. Reaksiyon"})]})]})}),f.jsxs(Vt,{onClick:je,size:"lg",children:[f.jsx(Mo,{className:"h-5 w-5 mr-2"}),"Tekrar Oyna"]})]})}):f.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[f.jsx(tt,{children:f.jsx(nt,{children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"text-sm text-gray-600",children:["Tur ",M+1,"/",Z]}),f.jsxs("div",{className:"text-sm font-medium text-gray-800",children:["Skor: ",z]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Wt,{className:"h-4 w-4 text-purple-600"}),f.jsxs("span",{className:"text-xs text-purple-600",children:["Zorluk: ",n]})]})]})})})}),f.jsx(tt,{children:f.jsx(nt,{className:"text-center py-12",children:D?f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"}),f.jsx("p",{className:"text-gray-600",children:"Senin iin zel grev hazrlanyor..."})]}):g==="ready"?f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:f.jsx(cp,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Dikkat Tklama"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Hzlca doru hedefe tkla ve reaksiyon sren gelitir!"}),c&&f.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[f.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"Grevin:"}),f.jsx("p",{className:"text-blue-700",children:c.gorev}),c.ipuclari.length>0&&f.jsxs("div",{className:"mt-3",children:[f.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"pular:"}),c.ipuclari.map((se,ue)=>f.jsxs("p",{className:"text-xs text-blue-600",children:[" ",se]},ue))]})]}),f.jsxs(Vt,{onClick:ge,size:"lg",disabled:!c,children:[f.jsx(cd,{className:"h-5 w-5 mr-2"}),"Bala"]})]}):g==="countdown"?f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-4xl font-bold text-gray-800",children:"Hazrlan!"}),f.jsx("div",{className:"text-6xl font-bold text-blue-600 animate-bounce",children:ve})]}):g==="active"?f.jsxs("div",{className:"space-y-6 cursor-crosshair",onClick:kn,children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800",children:c?.gorev}),de&&c&&f.jsxs("div",{className:"relative w-full h-96",children:[$e.map(se=>f.jsx("button",{onClick:gn,className:"absolute w-12 h-12 rounded-full bg-white hover:bg-red-100 transition-colors duration-200 flex items-center justify-center text-2xl shadow-lg border-2 border-gray-300",style:{left:`${se.x}%`,top:`${se.y}%`,transform:"translate(-50%, -50%)"},children:se.value},se.id)),f.jsxs("button",{onClick:bn,disabled:k,className:`
                      absolute w-12 h-12 rounded-full transition-colors duration-200 flex items-center justify-center text-2xl shadow-lg border-2
                      ${k?"bg-green-100 border-green-400 scale-110":"bg-white hover:bg-green-50 border-blue-400 hover:border-green-400"}
                    `,style:{left:`${P.x}%`,top:`${P.y}%`,transform:"translate(-50%, -50%)"},children:[c.hedefRenk==="krmz"&&c.hedefSekil==="daire"&&"",c.hedefRenk==="mavi"&&c.hedefSekil==="daire"&&"",c.hedefRenk==="yeil"&&c.hedefSekil==="daire"&&"",c.hedefRenk==="sar"&&c.hedefSekil==="daire"&&"",c.hedefRenk==="krmz"&&c.hedefSekil==="kare"&&"",c.hedefRenk==="mavi"&&c.hedefSekil==="kare"&&"",c.hedefRenk==="yeil"&&c.hedefSekil==="kare"&&"",c.hedefRenk==="sar"&&c.hedefSekil==="kare"&&"",c.hedefRenk==="krmz"&&c.hedefSekil==="gen"&&"",c.hedefRenk==="mavi"&&c.hedefSekil==="gen"&&"",!c.hedefRenk&&c.hedefSekil==="yldz"&&"",!c.hedefRenk&&c.hedefSekil==="daire"&&"",!c.hedefSekil&&c.hedefRenk==="krmz"&&"",!c.hedefSekil&&c.hedefRenk==="mavi"&&"",!c.hedefSekil&&c.hedefRenk==="yeil"&&"",!c.hedefSekil&&c.hedefRenk==="sar"&&"",!c.hedefSekil&&!c.hedefRenk&&!c.hedefSayi&&""]})]}),!de&&f.jsxs("div",{className:"text-gray-600",children:[f.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),"Hazrlan..."]}),f.jsxs("div",{className:"flex items-center justify-center space-x-2 text-lg",children:[f.jsx(wi,{className:"h-5 w-5 text-blue-600"}),f.jsxs("span",{className:"font-mono font-bold text-blue-600",children:[y,"s"]})]})]}):g==="waiting"?f.jsxs("div",{className:"space-y-4",children:[E.length>0&&E[E.length-1].success?f.jsxs("div",{className:"text-green-600",children:[f.jsx(ps,{className:"h-12 w-12 mx-auto mb-2"}),f.jsx("h3",{className:"text-xl font-bold",children:"Harika!"}),f.jsxs("p",{children:["Reaksiyon sresi: ",E[E.length-1].reactionTime.toFixed(2),"s"]})]}):f.jsxs("div",{className:"text-orange-600",children:[f.jsx(Vr,{className:"h-12 w-12 mx-auto mb-2"}),f.jsx("h3",{className:"text-xl font-bold",children:"Bir daha deneyelim!"}),f.jsx("p",{children:"Daha hzl olmaya al"})]}),f.jsx("p",{className:"text-sm text-gray-600",children:"Sonraki grev hazrlanyor..."})]}):null})})]})},v4=({studentId:i,studentAge:e=12,difficulty:n,onGameComplete:s,onEmotionDetected:o})=>{const[c,h]=R.useState(null),[g,p]=R.useState("ready"),[y,x]=R.useState(0),[E,S]=R.useState([]),[M,q]=R.useState(0),[z,L]=R.useState(0),[F,$]=R.useState([]),[ae]=R.useState(Date.now()),[ve,me]=R.useState(3),[de,j]=R.useState(!1),[k,N]=R.useState([]),[D,O]=R.useState(""),[P,I]=R.useState(0),[$e,Me]=R.useState(0),Y=R.useRef(0),ce=R.useRef(!1),le=R.useRef(!1),ye=R.useRef(!1),A=R.useRef(null),Z=5;R.useEffect(()=>(!ce.current&&!de&&(ce.current=!0,ee()),()=>{A.current&&(clearInterval(A.current),A.current=null)}),[]);const ee=R.useCallback(async()=>{if(le.current)return;le.current=!0,j(!0);const se={son3Tur:[],ortalamaReaksiyonSuresi:2.5,basariOrani:.7,odaklanmaDurumu:"orta"};try{const ue=await hp.generateAttentionSprint({performansOzeti:se,studentAge:e,sonGorevler:[]}),Re={...ue,difficulty:n,gorev:X(ue.gorev)};h(Re),x(Re.sure_saniye)}catch(ue){console.error("lk grev retme hatas:",ue),h(oe())}finally{le.current=!1,j(!1)}},[e,n]),X=se=>{const ue=se.toLowerCase();if(ue.includes("say")||ue.includes("count")||ue.includes("adet"))return se;const Re=[{turkish:"mavi",emoji:""},{turkish:"krmz",emoji:""},{turkish:"yeil",emoji:""},{turkish:"sar",emoji:""}],it=[{turkish:"daire",emoji:""},{turkish:"kare",emoji:""},{turkish:"gen",emoji:""},{turkish:"yldz",emoji:""}],we=Re[Math.floor(Math.random()*Re.length)],Ke=it[Math.floor(Math.random()*it.length)];return`${we.emoji} ${we.turkish} ${Ke.turkish}leri say`},oe=()=>{const ue={kolay:[{gorev:" Mavi daireleri say",hedefRenk:"mavi",hedefSekil:"daire"},{gorev:" Yeil kareleri say",hedefRenk:"yeil",hedefSekil:"kare"},{gorev:" Yldzlar say",hedefSekil:"yldz"}],orta:[{gorev:" Krmz genleri dikkatli say",hedefRenk:"krmz",hedefSekil:"gen"},{gorev:" Sar daireleri hesapla",hedefRenk:"sar",hedefSekil:"daire"},{gorev:" Mavi kareleri hzla say",hedefRenk:"mavi",hedefSekil:"kare"}],zor:[{gorev:" Hzl kan yeil yldzlar say",hedefRenk:"yeil",hedefSekil:"yldz"},{gorev:" Kark krmz daireleri hesapla",hedefRenk:"krmz",hedefSekil:"daire"},{gorev:" Parlayan mavi genleri say",hedefRenk:"mavi",hedefSekil:"gen"}]}[n],Re=ue[Math.floor(Math.random()*ue.length)];return{id:`count_fallback_${Date.now()}`,...Re,sure_saniye:n==="kolay"?20:n==="orta"?25:30,ipuclari:["Dikkatli say","Unutma saylar"],dikkatDagitici:n==="kolay"?.2:n==="orta"?.4:.6,difficulty:n,hedefTipi:"renk"}},ge=se=>{switch(se){case"kolay":return{totalObjects:6,targetCount:2,spawnInterval:2500,objectLifespan:5e3,spawnDuration:12e3};case"orta":return{totalObjects:10,targetCount:4,spawnInterval:2e3,objectLifespan:4e3,spawnDuration:18e3};case"zor":return{totalObjects:14,targetCount:6,spawnInterval:1500,objectLifespan:3e3,spawnDuration:22e3};default:return{totalObjects:8,targetCount:3,spawnInterval:2e3,objectLifespan:4e3,spawnDuration:15e3}}},xe=()=>{if(!c)return;p("countdown"),me(3);const se=setInterval(()=>{me(ue=>ue<=1?(clearInterval(se),bn(),0):ue-1)},1e3)},rt=()=>{A.current&&(clearInterval(A.current),A.current=null),Y.current=Date.now(),A.current=setInterval(()=>{x(se=>se<=1?(A.current&&(clearInterval(A.current),A.current=null),Zt(!1),0):se-1)},1e3)},Je=()=>({x:Math.random()*70+15,y:Math.random()*60+20}),ln=()=>{const se=ge(n);let ue=0,Re=0;I(0),Me(Date.now());const it=setInterval(()=>{if(ue>=se.totalObjects){clearInterval(it);return}const Ke=Re<se.targetCount&&(Math.random()<.4||ue>=se.totalObjects-(se.targetCount-Re));Ke&&(Re++,I(bt=>bt+1));const Ne=Je();let Ce="";if(c?.hedefRenk&&c?.hedefSekil)if(Ke)c.hedefRenk==="yeil"&&c.hedefSekil==="daire"?Ce="":c.hedefRenk==="mavi"&&c.hedefSekil==="gen"?Ce="":c.hedefRenk==="krmz"&&c.hedefSekil==="daire"?Ce="":c.hedefRenk==="mavi"&&c.hedefSekil==="daire"?Ce="":c.hedefRenk==="sar"&&c.hedefSekil==="kare"?Ce="":Ce="";else{const bt=c.hedefRenk;let ze=[];bt==="mavi"?ze=["","","","",""]:bt==="krmz"?ze=["","","","",""]:bt==="yeil"?ze=["","","","",""]:bt==="sar"?ze=["","","","",""]:ze=["","","",""],Ce=ze[Math.floor(Math.random()*ze.length)]}else if(c?.hedefRenk){const bt={krmz:"",mavi:"",yeil:"",sar:"",mor:"",turuncu:""};if(Ke)Ce=bt[c.hedefRenk]||"";else{const ze=Object.values(bt).filter(Ze=>Ze!==bt[c.hedefRenk]);Ce=ze[Math.floor(Math.random()*ze.length)]}}else if(c?.hedefSekil){const bt={yldz:"",daire:"",kare:"",gen:"",kalp:"",elmas:""};if(Ke)Ce=bt[c.hedefSekil]||"";else{const ze=Object.values(bt).filter(Ze=>Ze!==bt[c.hedefSekil]);Ce=ze[Math.floor(Math.random()*ze.length)]}}const Ln={id:`counting-${Date.now()}-${Math.random()}`,x:Ne.x,y:Ne.y,value:Ce,isTarget:Ke,createdAt:Date.now(),lifespan:se.objectLifespan};N(bt=>[...bt,Ln]),setTimeout(()=>{N(bt=>bt.filter(ze=>ze.id!==Ln.id))},se.objectLifespan),ue++},se.spawnInterval);setTimeout(()=>{clearInterval(it)},se.spawnDuration)},bn=()=>{c&&(p("active"),x(c.sure_saniye),O(""),ln(),rt())},gn=se=>{if(se.preventDefault(),D.trim()==="")return;const ue=parseInt(D),Re=ue===P,it=(Date.now()-Y.current)/1e3;console.log(" [COUNTING RESULT]",{userAnswer:ue,correctAnswer:P,isCorrect:Re,reactionTime:it}),Zt(Re,it,ue)},kn=se=>{const ue=se.target.value;(ue===""||/^\d+$/.test(ue))&&O(ue)},Zt=(se,ue,Re)=>{if(!c||ye.current)return;ye.current=!0,A.current&&(clearInterval(A.current),A.current=null);const it=ue||(Date.now()-Y.current)/1e3,we=Re||parseInt(D)||0,Ke={task:c,startTime:Y.current,endTime:Date.now(),success:se,reactionTime:it,userAnswer:we,correctAnswer:P};if(S(Ne=>[...Ne,Ke]),se){L(Ce=>Ce+1);const Ne={emotion:"happy",confidence:.9,timestamp:new Date};$(Ce=>[...Ce,Ne]),o?.(Ne)}else{const Ne={emotion:"confused",confidence:.7,timestamp:new Date};$(Ce=>[...Ce,Ne]),o?.(Ne)}p("waiting"),setTimeout(()=>{M+1>=Z?Rn():(q(Ne=>Ne+1),N([]),O(""),I(0),Me(0),ee(),p("ready")),ye.current=!1},2e3)},Rn=()=>{p("completed");const se=Math.floor((Date.now()-ae)/1e3);s(z,se,F)},je=()=>{A.current&&(clearInterval(A.current),A.current=null),S([]),q(0),L(0),$([]),p("ready"),N([]),O(""),I(0),Me(0),ce.current=!1,le.current=!1,ye.current=!1,ee()};return g==="completed"?f.jsx(tt,{className:"max-w-2xl mx-auto",children:f.jsxs(nt,{className:"text-center py-12",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:f.jsx(Vr,{className:"h-12 w-12 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Dikkat Sayma Oyunu Tamamland!"}),f.jsx("p",{className:"text-gray-600",children:"Sayma becerin geliiyor!"})]}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[z,"/",Z]}),f.jsx("div",{className:"text-sm text-gray-600",children:"Doru Saym"})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(z/Z*100),"%"]}),f.jsx("div",{className:"text-sm text-gray-600",children:"Baar Oran"})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[E.length>0?(E.reduce((se,ue)=>se+ue.reactionTime,0)/E.length).toFixed(1):"0.0","s"]}),f.jsx("div",{className:"text-sm text-gray-600",children:"Ort. Sre"})]})]})}),f.jsxs(Vt,{onClick:je,size:"lg",children:[f.jsx(Mo,{className:"h-5 w-5 mr-2"}),"Tekrar Oyna"]})]})}):f.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[f.jsx(tt,{children:f.jsx(nt,{children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"text-sm text-gray-600",children:["Tur ",M+1,"/",Z]}),f.jsxs("div",{className:"text-sm font-medium text-gray-800",children:["Skor: ",z]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Wt,{className:"h-4 w-4 text-purple-600"}),f.jsxs("span",{className:"text-xs text-purple-600",children:["Zorluk: ",n]})]})]})})})}),f.jsx(tt,{children:f.jsx(nt,{className:"text-center py-12",children:de?f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto"}),f.jsx("p",{className:"text-gray-600",children:"Senin iin zel sayma grevi hazrlanyor..."})]}):g==="ready"?f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:f.jsx(cp,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Dikkat Sayma"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Beliren objeleri dikkatli ekilde say ve konsantrasyonunu gelitir!"}),c&&f.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-6",children:[f.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Grevin:"}),f.jsx("p",{className:"text-green-700",children:c.gorev}),c.ipuclari.length>0&&f.jsxs("div",{className:"mt-3",children:[f.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"pular:"}),c.ipuclari.map((se,ue)=>f.jsxs("p",{className:"text-xs text-green-600",children:[" ",se]},ue))]})]}),f.jsxs(Vt,{onClick:xe,size:"lg",disabled:!c,children:[f.jsx(cd,{className:"h-5 w-5 mr-2"}),"Bala"]})]}):g==="countdown"?f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-4xl font-bold text-gray-800",children:"Hazrlan!"}),f.jsx("div",{className:"text-6xl font-bold text-green-600 animate-bounce",children:ve})]}):g==="active"?f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800",children:c?.gorev}),f.jsx("div",{className:"relative w-full h-96 bg-gray-50 rounded-lg overflow-hidden",children:k.map(se=>f.jsx("div",{className:"absolute w-8 h-8 text-2xl animate-bounce transition-all duration-500",style:{left:`${se.x}%`,top:`${se.y}%`,transform:"translate(-50%, -50%)",animationDuration:`${1+Math.random()}s`},children:se.value},se.id))}),f.jsx("form",{onSubmit:gn,className:"space-y-4",children:f.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[f.jsx("label",{className:"text-lg font-medium",children:"Toplam:"}),f.jsx("input",{type:"text",value:D,onChange:kn,className:"w-20 h-12 text-center text-xl font-bold border-2 border-green-400 rounded-lg focus:outline-none focus:border-green-600",placeholder:"0",maxLength:2}),f.jsx("button",{type:"submit",disabled:D.trim()==="",className:"px-6 py-2 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Gnder"})]})}),f.jsxs("div",{className:"flex items-center justify-center space-x-2 text-lg",children:[f.jsx(wi,{className:"h-5 w-5 text-green-600"}),f.jsxs("span",{className:"font-mono font-bold text-green-600",children:[y,"s"]})]})]}):g==="waiting"?f.jsxs("div",{className:"space-y-4",children:[E.length>0&&E[E.length-1].success?f.jsxs("div",{className:"text-green-600",children:[f.jsx(ps,{className:"h-12 w-12 mx-auto mb-2"}),f.jsx("h3",{className:"text-xl font-bold",children:"Mkemmel!"}),f.jsxs("p",{children:["Doru cevap: ",E[E.length-1].correctAnswer]}),f.jsxs("p",{children:["Senin cevabn: ",E[E.length-1].userAnswer]})]}):f.jsxs("div",{className:"text-orange-600",children:[f.jsx(Vr,{className:"h-12 w-12 mx-auto mb-2"}),f.jsx("h3",{className:"text-xl font-bold",children:"Bir daha deneyelim!"}),E.length>0&&f.jsxs(f.Fragment,{children:[f.jsxs("p",{children:["Doru cevap: ",E[E.length-1].correctAnswer]}),f.jsxs("p",{children:["Senin cevabn: ",E[E.length-1].userAnswer]})]})]}),f.jsx("p",{className:"text-sm text-gray-600",children:"Sonraki grev hazrlanyor..."})]}):null})})]})},_4=({studentId:i,studentAge:e=12,difficulty:n,onGameComplete:s,onEmotionDetected:o})=>{const[c,h]=R.useState(null),[g,p]=R.useState("ready"),[y,x]=R.useState(0),[E,S]=R.useState([]),[M,q]=R.useState(0),[z,L]=R.useState(0),[F,$]=R.useState([]),[ae]=R.useState(Date.now()),[ve,me]=R.useState(3),[de,j]=R.useState(!1),[k,N]=R.useState([]),[D,O]=R.useState(0),[P,I]=R.useState(0),[$e,Me]=R.useState(0),Y=R.useRef(0),ce=R.useRef(!1),le=R.useRef(!1),ye=R.useRef(!1),A=R.useRef(null),Z=5;R.useEffect(()=>(!ce.current&&!de&&(ce.current=!0,ee()),()=>{A.current&&(clearInterval(A.current),A.current=null)}),[]);const ee=R.useCallback(async()=>{if(le.current)return;le.current=!0,j(!0);const je={son3Tur:[],ortalamaReaksiyonSuresi:2.5,basariOrani:.7,odaklanmaDurumu:"orta"};try{const se=await hp.generateAttentionSprint({performansOzeti:je,studentAge:e,sonGorevler:[]}),ue={...se,difficulty:n,gorev:X(se.gorev),sure_saniye:n==="kolay"?20:n==="orta"?30:40};h(ue),x(ue.sure_saniye)}catch(se){console.error("lk grev retme hatas:",se),h(oe())}finally{le.current=!1,j(!1)}},[e,n]),X=je=>{const se=je.toLowerCase();if(se.includes("tm")&&se.includes("tkla")||se.includes("hepsi")&&se.includes("tkla")||se.includes("iinde")&&se.includes("tkla")&&se.includes("saniye"))return je;const ue=[{turkish:"mavi",emoji:""},{turkish:"krmz",emoji:""},{turkish:"yeil",emoji:""},{turkish:"sar",emoji:""}],Re=[{turkish:"daire",emoji:""},{turkish:"kare",emoji:""},{turkish:"gen",emoji:""},{turkish:"yldz",emoji:""}],it=ue[Math.floor(Math.random()*ue.length)],we=Re[Math.floor(Math.random()*Re.length)];return`${n==="kolay"?"20 saniye":n==="orta"?"30 saniye":"40 saniye"} iinde tm ${it.emoji} ${it.turkish} ${we.turkish}leri tkla`},oe=()=>{const se={kolay:[{gorev:"20 saniye iinde tm mavi daireleri tkla",hedefRenk:"mavi",hedefSekil:"daire",sure:20},{gorev:"20 saniye iinde tm yeil kareleri yakala",hedefRenk:"yeil",hedefSekil:"kare",sure:20},{gorev:"20 saniye iinde tm sar yldzlar tkla",hedefRenk:"sar",hedefSekil:"yldz",sure:20}],orta:[{gorev:"30 saniye iinde tm krmz genleri tkla",hedefRenk:"krmz",hedefSekil:"gen",sure:30},{gorev:"30 saniye iinde tm mavi kareleri yakala",hedefRenk:"mavi",hedefSekil:"kare",sure:30},{gorev:"30 saniye iinde tm yeil daireleri tkla",hedefRenk:"yeil",hedefSekil:"daire",sure:30}],zor:[{gorev:"40 saniye iinde tm hzl hedefleri yakala",hedefRenk:"krmz",hedefSekil:"yldz",sure:40},{gorev:"40 saniye iinde tm mavi genleri tkla",hedefRenk:"mavi",hedefSekil:"gen",sure:40},{gorev:"40 saniye iinde tm kark hedefleri yakala",hedefRenk:"yeil",hedefSekil:"kare",sure:40}]}[n],ue=se[Math.floor(Math.random()*se.length)];return{id:`dynamic_fallback_${Date.now()}`,...ue,sure_saniye:ue.sure,ipuclari:["Hzl ol","Doru hedefleri se"],dikkatDagitici:n==="kolay"?.3:n==="orta"?.5:.7,difficulty:n,hedefTipi:"renk"}},ge=je=>{switch(je){case"kolay":return{spawnInterval:3e3,objectLifespan:6e3,targetRatio:.7};case"orta":return{spawnInterval:2500,objectLifespan:5e3,targetRatio:.6};case"zor":return{spawnInterval:2e3,objectLifespan:4e3,targetRatio:.5};default:return{spawnInterval:2500,objectLifespan:5e3,targetRatio:.6}}},xe=()=>{if(!c)return;p("countdown"),me(3);const je=setInterval(()=>{me(se=>se<=1?(clearInterval(je),bn(),0):se-1)},1e3)},rt=()=>{A.current&&(clearInterval(A.current),A.current=null),Y.current=Date.now(),A.current=setInterval(()=>{x(je=>je<=1?(A.current&&(clearInterval(A.current),A.current=null),kn(),0):je-1)},1e3)},Je=()=>({x:Math.random()*70+15,y:Math.random()*60+20}),ln=()=>{const je=ge(n);let se;O(0),I(0),Me(0);const ue=()=>{const Re=Math.random()<je.targetRatio,it=Je();let we="";if(c?.hedefRenk&&c?.hedefSekil)if(Re)c.hedefRenk==="mavi"&&c.hedefSekil==="gen"?we="":c.hedefRenk==="yeil"&&c.hedefSekil==="daire"?we="":c.hedefRenk==="krmz"&&c.hedefSekil==="daire"?we="":c.hedefRenk==="mavi"&&c.hedefSekil==="daire"?we="":c.hedefRenk==="sar"&&c.hedefSekil==="daire"?we="":c.hedefRenk==="krmz"&&c.hedefSekil==="gen"?we="":c.hedefRenk==="krmz"&&c.hedefSekil==="kare"?we="":c.hedefRenk==="mavi"&&c.hedefSekil==="kare"?we="":c.hedefRenk==="yeil"&&c.hedefSekil==="kare"?we="":c.hedefRenk==="sar"&&c.hedefSekil==="yldz"?we="":we="";else{const Ne=["","","","","","","","","","",""];we=Ne[Math.floor(Math.random()*Ne.length)]}else if(c?.hedefRenk){const Ne={krmz:"",mavi:"",yeil:"",sar:"",mor:"",turuncu:""};if(Re)we=Ne[c.hedefRenk]||"";else{const Ce=Object.values(Ne).filter(Ln=>Ln!==Ne[c.hedefRenk]);we=Ce[Math.floor(Math.random()*Ce.length)]}}else if(c?.hedefSekil){const Ne={yldz:"",daire:"",kare:"",gen:"",kalp:"",elmas:""};if(Re)we=Ne[c.hedefSekil]||"";else{const Ce=Object.values(Ne).filter(Ln=>Ln!==Ne[c.hedefSekil]);we=Ce[Math.floor(Math.random()*Ce.length)]}}const Ke={id:`clicking-${Date.now()}-${Math.random()}`,x:it.x,y:it.y,value:we,isTarget:Re,createdAt:Date.now(),lifespan:je.objectLifespan};N(Ne=>[...Ne,Ke]),Me(Ne=>Ne+1),setTimeout(()=>{N(Ne=>Ne.filter(Ce=>Ce.id!==Ke.id))},je.objectLifespan)};ue(),se=setInterval(ue,je.spawnInterval),setTimeout(()=>{clearInterval(se)},(c?.sure_saniye||30)*1e3)},bn=()=>{c&&(p("active"),x(c.sure_saniye),O(0),I(0),Me(0),ln(),rt())},gn=(je,se)=>{N(ue=>ue.filter(Re=>Re.id!==je)),se?(O(ue=>ue+1),console.log(" [CLICKING] Doru tklama!")):(I(ue=>ue+1),console.log(" [CLICKING] Yanl tklama!"))},kn=(je,se)=>{if(!c||ye.current)return;ye.current=!0,A.current&&(clearInterval(A.current),A.current=null);const ue=(Date.now()-Y.current)/1e3,Re=D+P,we=(Re>0?D/Re:0)>=.5&&Re>=3,Ke={task:c,startTime:Y.current,endTime:Date.now(),success:we,reactionTime:ue,correctClicks:D,wrongClicks:P,totalSpawned:$e};if(S(Ne=>[...Ne,Ke]),we){L(Ce=>Ce+1);const Ne={emotion:"happy",confidence:.9,timestamp:new Date};$(Ce=>[...Ce,Ne]),o?.(Ne)}else{const Ne={emotion:"confused",confidence:.7,timestamp:new Date};$(Ce=>[...Ce,Ne]),o?.(Ne)}p("waiting"),setTimeout(()=>{M+1>=Z?Zt():(q(Ne=>Ne+1),N([]),O(0),I(0),Me(0),ee(),p("ready")),ye.current=!1},2e3)},Zt=()=>{p("completed");const je=Math.floor((Date.now()-ae)/1e3);s(z,je,F)},Rn=()=>{A.current&&(clearInterval(A.current),A.current=null),S([]),q(0),L(0),$([]),p("ready"),N([]),O(0),I(0),Me(0),ce.current=!1,le.current=!1,ye.current=!1,ee()};return g==="completed"?f.jsx(tt,{className:"max-w-2xl mx-auto",children:f.jsxs(nt,{className:"text-center py-12",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f.jsx(Vr,{className:"h-12 w-12 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Dinamik Dikkat Oyunu Tamamland!"}),f.jsx("p",{className:"text-gray-600",children:"Hzl karar verme becerin geliiyor!"})]}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[z,"/",Z]}),f.jsx("div",{className:"text-sm text-gray-600",children:"Baarl Tur"})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(z/Z*100),"%"]}),f.jsx("div",{className:"text-sm text-gray-600",children:"Baar Oran"})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-purple-600",children:E.length>0?Math.round(E.reduce((je,se)=>je+se.correctClicks,0)/E.length):0}),f.jsx("div",{className:"text-sm text-gray-600",children:"Ort. Doru Tklama"})]})]})}),f.jsxs(Vt,{onClick:Rn,size:"lg",children:[f.jsx(Mo,{className:"h-5 w-5 mr-2"}),"Tekrar Oyna"]})]})}):f.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[f.jsx(tt,{children:f.jsx(nt,{children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"text-sm text-gray-600",children:["Tur ",M+1,"/",Z]}),f.jsxs("div",{className:"text-sm font-medium text-gray-800",children:["Skor: ",z]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Wt,{className:"h-4 w-4 text-purple-600"}),f.jsxs("span",{className:"text-xs text-purple-600",children:["Zorluk: ",n]})]})]})})})}),f.jsx(tt,{children:f.jsx(nt,{className:"text-center py-12",children:de?f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto"}),f.jsx("p",{className:"text-gray-600",children:"Senin iin zel dinamik grev hazrlanyor..."})]}):g==="ready"?f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:f.jsx(cp,{className:"h-10 w-10 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Dinamik Dikkat"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Srekli kan hedefleri hzlca yakala ve reflexlerini gelitir!"}),c&&f.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mb-6",children:[f.jsx("h3",{className:"font-medium text-purple-800 mb-2",children:"Grevin:"}),f.jsx("p",{className:"text-purple-700",children:c.gorev}),c.ipuclari.length>0&&f.jsxs("div",{className:"mt-3",children:[f.jsx("p",{className:"text-xs text-purple-600 font-medium mb-1",children:"pular:"}),c.ipuclari.map((je,se)=>f.jsxs("p",{className:"text-xs text-purple-600",children:[" ",je]},se))]})]}),f.jsxs(Vt,{onClick:xe,size:"lg",disabled:!c,children:[f.jsx(cd,{className:"h-5 w-5 mr-2"}),"Bala"]})]}):g==="countdown"?f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-4xl font-bold text-gray-800",children:"Hazrlan!"}),f.jsx("div",{className:"text-6xl font-bold text-purple-600 animate-bounce",children:ve})]}):g==="active"?f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800",children:c?.gorev}),f.jsx("div",{className:"relative w-full h-96 bg-gray-50 rounded-lg overflow-hidden",children:k.map(je=>f.jsx("button",{onClick:()=>gn(je.id,je.isTarget),className:`
                      absolute w-12 h-12 rounded-full transition-all duration-300 flex items-center justify-center text-2xl shadow-lg border-2
                      ${je.isTarget?"bg-green-50 border-green-300 hover:bg-green-100 hover:scale-110":"bg-red-50 border-red-300 hover:bg-red-100"}
                      animate-bounce
                    `,style:{left:`${je.x}%`,top:`${je.y}%`,transform:"translate(-50%, -50%)",animationDuration:`${.8+Math.random()*.4}s`},children:je.value},je.id))}),f.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[f.jsx(ps,{className:"h-5 w-5"}),f.jsxs("span",{className:"text-lg font-bold",children:["Doru: ",D]})]}),f.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[f.jsx(WD,{className:"h-5 w-5"}),f.jsxs("span",{className:"text-lg font-bold",children:["Yanl: ",P]})]}),f.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[f.jsx(Vr,{className:"h-5 w-5"}),f.jsxs("span",{className:"text-lg font-bold",children:["Toplam kan: ",$e]})]})]}),f.jsxs("div",{className:"flex items-center justify-center space-x-2 text-lg",children:[f.jsx(wi,{className:"h-5 w-5 text-purple-600"}),f.jsxs("span",{className:"font-mono font-bold text-purple-600",children:[y,"s"]})]})]}):g==="waiting"?f.jsxs("div",{className:"space-y-4",children:[E.length>0&&E[E.length-1].success?f.jsxs("div",{className:"text-green-600",children:[f.jsx(ps,{className:"h-12 w-12 mx-auto mb-2"}),f.jsx("h3",{className:"text-xl font-bold",children:"Mkemmel!"}),f.jsxs("p",{children:["Doru: ",E[E.length-1].correctClicks,", Yanl: ",E[E.length-1].wrongClicks]}),f.jsxs("p",{children:["Doruluk: ",Math.round(E[E.length-1].correctClicks/Math.max(1,E[E.length-1].correctClicks+E[E.length-1].wrongClicks)*100),"%"]})]}):f.jsxs("div",{className:"text-orange-600",children:[f.jsx(Vr,{className:"h-12 w-12 mx-auto mb-2"}),f.jsx("h3",{className:"text-xl font-bold",children:"Daha iyi yapabilirsin!"}),E.length>0&&f.jsxs(f.Fragment,{children:[f.jsxs("p",{children:["Doru: ",E[E.length-1].correctClicks,", Yanl: ",E[E.length-1].wrongClicks]}),f.jsx("p",{children:"Daha dikkatli olmaya al"})]})]}),f.jsx("p",{className:"text-sm text-gray-600",children:"Sonraki grev hazrlanyor..."})]}):null})})]})},x4=({studentId:i,studentAge:e=12,onGameComplete:n,onEmotionDetected:s})=>{const[o,c]=R.useState(null),[h,g]=R.useState("orta"),[p,y]=R.useState(!1),x=[{id:"click",name:"Dikkat Tklama",description:"Hzl reaksiyon gerektiren tek hedef tklama oyunu",icon:f.jsx(SD,{className:"h-8 w-8"}),color:"blue",bgGradient:"from-blue-500 to-purple-500",features:["Tek hedef odaklanma","Hzl reaksiyon gelitirme","Dikkat datclarla mcadele","Zamanlama becerileri"]},{id:"count",name:"Dikkat Sayma",description:"Beliren objeleri sayarak konsantrasyon gelitirme",icon:f.jsx(mE,{className:"h-8 w-8"}),color:"green",bgGradient:"from-green-500 to-emerald-500",features:["Saysal dikkat","Grsel takip","Konsantrasyon gelitirme","Bellek destekleme"]},{id:"dynamic",name:"Dinamik Dikkat",description:"Srekli kan hedefleri hzla yakalama",icon:f.jsx(cd,{className:"h-8 w-8"}),color:"purple",bgGradient:"from-purple-500 to-pink-500",features:["oklu hedef takibi","Hzl karar verme","Reflexleri gelitirme","Srekli dikkat"]}],E=[{id:"kolay",name:"Kolay",description:"Yeni balayanlar iin",color:"green",features:["Az dikkat datc","Uzun sre limiti","Basit hedefler"]},{id:"orta",name:"Orta",description:"Deneyimliler iin",color:"yellow",features:["Orta dikkat datc","Normal sre","Karmak hedefler"]},{id:"zor",name:"Zor",description:"Uzmanlar iin",color:"red",features:["ok dikkat datc","Ksa sre","Kark hedefler"]}],S=F=>{c(F)},M=F=>{g(F)},q=()=>{y(!0)},z=()=>{c(null),g("orta"),y(!1)},L=(F,$,ae)=>{n(F,$,ae),y(!1)};if(p&&o){const F={studentId:i,studentAge:e,difficulty:h,onGameComplete:L,onEmotionDetected:s};switch(o){case"click":return f.jsx(y4,{...F});case"count":return f.jsx(v4,{...F});case"dynamic":return f.jsx(_4,{...F});default:return null}}if(o){const F=x.find($=>$.id===o);return f.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[f.jsx(tt,{children:f.jsxs(nt,{className:"flex items-center justify-between py-4",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs(Vt,{variant:"ghost",size:"sm",onClick:z,className:"text-gray-600 hover:text-gray-800",children:[f.jsx(eD,{className:"h-4 w-4 mr-2"}),"Geri Dn"]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-r ${F.bgGradient} flex items-center justify-center text-white`,children:F.icon}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800",children:F.name}),f.jsx("p",{className:"text-sm text-gray-600",children:"Zorluk seviyesi se"})]})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Wt,{className:"h-5 w-5 text-purple-600"}),f.jsx("span",{className:"text-sm text-purple-600",children:"Adaptif AI"})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:E.map($=>f.jsx(tt,{className:`
                cursor-pointer transition-all duration-200 hover:scale-105
                ${h===$.id?"ring-2 ring-blue-500 shadow-lg":"hover:shadow-md"}
              `,onClick:()=>M($.id),children:f.jsxs(nt,{className:"text-center py-8",children:[f.jsx("div",{className:"mb-4",children:f.jsx("div",{className:`
                    w-16 h-16 mx-auto rounded-full flex items-center justify-center text-2xl font-bold
                    ${$.color==="green"?"bg-green-100 text-green-600":$.color==="yellow"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}
                  `,children:$.id==="kolay"?"1":$.id==="orta"?"2":"3"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:$.name}),f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:$.description}),f.jsx("div",{className:"space-y-2",children:$.features.map((ae,ve)=>f.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-700",children:[f.jsx(ps,{className:"h-3 w-3 text-gray-400"}),f.jsx("span",{children:ae})]},ve))}),h===$.id&&f.jsx("div",{className:"mt-4",children:f.jsx("div",{className:"w-6 h-6 mx-auto bg-blue-500 rounded-full flex items-center justify-center",children:f.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})})]})},$.id))}),f.jsx("div",{className:"text-center",children:f.jsxs(Vt,{onClick:q,size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-8 py-3",children:[f.jsx(Vr,{className:"h-5 w-5 mr-2"}),F.name," - ",E.find($=>$.id===h)?.name," Balat"]})})]})}return f.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[f.jsx(tt,{children:f.jsxs(nt,{className:"text-center py-8",children:[f.jsx("div",{className:"mb-4",children:f.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:f.jsx(Wt,{className:"h-10 w-10 text-white"})})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Dikkat Oyunlar"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Dikkat danklyla baa kmak iin zel olarak tasarlanm oyunlar"}),f.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-2 text-sm text-purple-600",children:[f.jsx(wi,{className:"h-4 w-4"}),f.jsx("span",{children:"AI destekli adaptif zorluk sistemi"})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:x.map(F=>f.jsx(tt,{className:"cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-lg",onClick:()=>S(F.id),children:f.jsxs(nt,{className:"text-center py-8",children:[f.jsx("div",{className:"mb-6",children:f.jsx("div",{className:`w-16 h-16 mx-auto rounded-full bg-gradient-to-r ${F.bgGradient} flex items-center justify-center text-white`,children:F.icon})}),f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:F.name}),f.jsx("p",{className:"text-gray-600 text-sm mb-6",children:F.description}),f.jsx("div",{className:"space-y-3",children:F.features.map(($,ae)=>f.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${F.color==="blue"?"bg-blue-400":F.color==="green"?"bg-green-400":"bg-purple-400"}`}),f.jsx("span",{children:$})]},ae))}),f.jsx("div",{className:"mt-6",children:f.jsx(Vt,{className:`w-full ${F.color==="blue"?"bg-blue-500 hover:bg-blue-600":F.color==="green"?"bg-green-500 hover:bg-green-600":"bg-purple-500 hover:bg-purple-600"} text-white`,children:"Oyna"})})]})},F.id))}),f.jsx(tt,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:f.jsx(nt,{className:"py-6",children:f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center flex-shrink-0",children:f.jsx(Wt,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"AI Destekli Adaptif Sistem"}),f.jsx("p",{className:"text-gray-700 text-sm",children:"Her oyun, performansna gre otomatik olarak zorluk seviyesini ayarlar. Baar oranna, reaksiyon sresine ve odaklanma durumuna gre kiiselletirilmi grevler retir. Bu sayede her zaman en uygun zorluk seviyesinde oynayarak dikkat becerilerini gelitirebilirsin."})]})]})})})]})},b4=()=>{const{currentUser:i,logout:e}=zr(),[n,s]=R.useState(null),[o]=R.useState({gamesPlayed:12,totalScore:850,averageScore:71,timeSpent:145}),c=async()=>{try{await e()}catch(p){console.error("k yaplrken hata:",p)}},h=()=>{s(null)},g=()=>{if(!i?.id)return null;switch(n){case"word-image":return f.jsx(f4,{studentId:i.id,studentAge:i.age||6,onGameComplete:h});case"number":return f.jsx(m4,{studentId:i.id,studentAge:i.age||6,onGameComplete:h});case"color":return f.jsx(g4,{studentId:i.id,studentAge:i.age||6,onGameComplete:h});case"attention-sprint":return f.jsx(x4,{studentId:i.id,studentAge:i.age||12,onGameComplete:h});default:return null}};return n?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("button",{onClick:()=>s(null),className:"mb-4 bg-white text-gray-700 px-4 py-2 rounded-lg shadow hover:shadow-md transition-shadow",children:" Geri Dn"}),g()]})}):f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[f.jsx("div",{className:"bg-white shadow-sm border-b",children:f.jsx("div",{className:"container mx-auto px-4 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center",children:f.jsx(Wt,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"NeuroLearn AI"}),f.jsx("p",{className:"text-sm text-gray-600",children:"renci Paneli"})]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[f.jsx(ld,{className:"h-5 w-5"}),f.jsx("span",{className:"hidden sm:inline",children:i?.name})]}),f.jsxs("button",{onClick:c,className:"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[f.jsx(pE,{className:"h-4 w-4"}),f.jsx("span",{className:"hidden sm:inline",children:"k"})]})]})]})})}),f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsxs("div",{className:"mb-8 text-center",children:[f.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:["Ho Geldin, ",i?.name,"! "]}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Hangi oyunu oynamak istiyorsun?"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[f.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Oynanan Oyun"}),f.jsx("p",{className:"text-2xl font-bold text-primary",children:o.gamesPlayed})]}),f.jsx(Nm,{className:"h-8 w-8 text-primary"})]})}),f.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Puan"}),f.jsx("p",{className:"text-2xl font-bold text-success",children:o.totalScore})]}),f.jsx(Nm,{className:"h-8 w-8 text-success"})]})}),f.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Ortalama Puan"}),f.jsx("p",{className:"text-2xl font-bold text-warning",children:o.averageScore})]}),f.jsx(Nm,{className:"h-8 w-8 text-warning"})]})}),f.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Geirilen Sre"}),f.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[o.timeSpent,"dk"]})]}),f.jsx(wi,{className:"h-8 w-8 text-purple-600"})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[f.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-6 text-white",children:[f.jsx(nD,{className:"h-12 w-12 mb-4"}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Kelime-Resim Eletirme"}),f.jsx("p",{className:"text-blue-100",children:"Kelimeler ve resimler arasnda balant kur"})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[f.jsx("span",{children:"Son Puan"}),f.jsx("span",{children:"85/100"})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"85%"}})})]}),f.jsx("button",{onClick:()=>s("word-image"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:"Oyunu Balat"})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[f.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-6 text-white",children:[f.jsx(mE,{className:"h-12 w-12 mb-4"}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Say renme"}),f.jsx("p",{className:"text-green-100",children:"Saylar sayarak matematik ren"})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[f.jsx("span",{children:"Son Puan"}),f.jsx("span",{children:"72/100"})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"72%"}})})]}),f.jsx("button",{onClick:()=>s("number"),className:"w-full bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:"Oyunu Balat"})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[f.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 p-6 text-white",children:[f.jsx(yE,{className:"h-12 w-12 mb-4"}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Renk Eletirme"}),f.jsx("p",{className:"text-purple-100",children:"Renkleri eletirerek ren"})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[f.jsx("span",{children:"Son Puan"}),f.jsx("span",{children:"91/100"})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"91%"}})})]}),f.jsx("button",{onClick:()=>s("color"),className:"w-full bg-purple-500 hover:bg-purple-600 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:"Oyunu Balat"})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[f.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 p-6 text-white",children:[f.jsx(Vr,{className:"h-12 w-12 mb-4"}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Dikkat Oyunlar"}),f.jsx("p",{className:"text-orange-100",children:"3 farkl dikkat gelitirici oyun seenei"})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[f.jsx("span",{children:"Oyun eidi"}),f.jsx("span",{children:"3 Tr"})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"100%"}})}),f.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Tklama  Sayma  Dinamik"})]}),f.jsx("button",{onClick:()=>s("attention-sprint"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-lg font-medium transition-colors",children:"Oyunlar Kefet"})]})]})]}),f.jsxs("div",{className:"mt-12 text-center bg-white rounded-lg p-8 shadow-sm",children:[f.jsx("div",{className:"text-6xl mb-4",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Harika  karyorsun!"}),f.jsx("p",{className:"text-gray-600",children:"Her oyun oynaynda daha da iyi oluyorsun. Byle devam et! "})]})]})]})},yx=({children:i})=>{const{currentUser:e,loading:n}=zr();return n?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Ykleniyor..."})]})}):e?f.jsx(f.Fragment,{children:i}):f.jsx(rc,{to:"/auth",replace:!0})},E4=({children:i})=>{const{currentUser:e,loading:n}=zr();return n?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Ykleniyor..."})]})}):e?f.jsx(rc,{to:"/dashboard",replace:!0}):f.jsx(f.Fragment,{children:i})},T4=()=>{const{currentUser:i,loading:e}=zr();if(e)return f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Ykleniyor..."})]})});if(!i)return f.jsx(rc,{to:"/auth",replace:!0});const n=i.role==="teacher"?"/dashboard/teacher":"/dashboard/student";return f.jsx(rc,{to:n,replace:!0})};function w4(){return f.jsx(KC,{children:f.jsx(gS,{children:f.jsx("div",{className:"App",children:f.jsxs($w,{children:[f.jsx(io,{path:"/auth",element:f.jsx(E4,{children:f.jsx(r4,{})})}),f.jsx(io,{path:"/dashboard/teacher",element:f.jsx(yx,{children:f.jsx(c4,{})})}),f.jsx(io,{path:"/dashboard/student",element:f.jsx(yx,{children:f.jsx(b4,{})})}),f.jsx(io,{path:"/dashboard",element:f.jsx(T4,{})}),f.jsx(io,{path:"/",element:f.jsx(rc,{to:"/dashboard",replace:!0})})]})})})})}nw.createRoot(document.getElementById("root")).render(f.jsx(QT.StrictMode,{children:f.jsx(w4,{})}));
